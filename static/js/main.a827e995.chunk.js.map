{"version":3,"sources":["config.js","utils/cache.js","contexts/theme.js","contexts/wallet.js","contexts/notifications.js","utils/big-number.js","utils/request.js","contexts/stats.js","contexts/bonuses.js","components/Notification.js","serviceWorker.js","pages/Header.js","components/Paper.js","pages/TopStats.js","pages/Nav.js","pages/Withdraw.js","utils/sleep.js","components/Balance.js","pages/Deposit.js","pages/Stats.js","components/Loader.js","pages/Bonus.js","pages/ConnectWallet.js","pages/App.js","index.js"],"names":["NETWORKS","56","stakingAddress","window","location","href","indexOf","drops","Map","97","ROUTER_BASE_NAME","process","REACT_APP_ROUTER_BASE_NAME","NETWORK","API_URL","REACT_APP_API_URL","cache","k","v","arguments","length","localStorage","removeItem","setItem","JSON","stringify","parse","getItem","e","ThemeContext","React","createContext","ThemeProvider","children","useState","theme","setTheme","Provider","value","toggleTheme","newTheme","useTheme","context","useContext","Error","getProps","isDark","secondaryColor","READ_PROVIDER","ethers","providers","JsonRpcProvider","STAKING_ADDRESS","READ_STAKING_CONTRACT","Contract","STAKING_ABI","WalletContext","WalletProvider","isLoaded","setIsLoaded","isConnecting","setIsConnecting","chainId","setChainId","lpName","lpAddress","setLpAddress","lpDecimals","goatAddress","setGoatAddress","goatDecimals","wrappedBNBDecimals","signer","setSigner","address","setAddress","isOnWrongNetwork","useMemo","stakingContract","lpContract","LP_ABI","goatContract","ERC20_ABI","wrappedBNBContract","stopConnecting","connectToCached","a","cachedWallet","metamask","connectMetamask","bsc","connectBsc","trust","connectTrust","ethereum","enable","setProvider","BinanceChain","isTrust","web3Provider","on","reload","provider","Web3Provider","getNetwork","c","forEach","o","parseInt","getSigner","getAddress","Promise","all","stakingToken","rewardsToken","useEffect","load","cakeDecimals","startConnecting","disconnect","useWallet","config","cakeContract","cakeAddress","NotificationsContext","NotificationsProvider","enqueueSnackbar","useSnackbar","showTxNotification","description","hash","type","persist","showErrorNotification","msg","message","error","responseText","showSuccessNotification","title","tx","startNotification","endNotification","makeTx","wait","useNotifications","toformat","BigJs","toFixed","b","precision","isZero","Big","div","toFormat","formatUnits","decimals","pow","eq","n","toString","get","url","query","qs","fetch","json","api","GOAT_APY","StatsContext","max","t","gte","StatsProvider","totalStaked","setTotalStaked","totalLockedShares","setTotalLockedShares","unlockScheduleCount","setUnlockScheduleCount","totalStakingShares","setTotalStakingShares","totalLocked","setTotalLocked","totalSupply","setTotalSupply","startBonus","setStartBonus","bonusPeriodSec","setBonusPeriodSec","poolBNBBalance","setPoolBNBBalance","poolGoatBalance","setPoolGoatBalance","schedules","setUnlockSchedules","bnbUSDPrice","setBNBUSDPrice","goatUSDPrice","setGoatUSDPrice","availableGoatRewards","setAvailableGoatRewards","availableCakeRewards","totalStakedFor","setTotalStakedFor","totalStakingShareSeconds","setTotalStakingShareSeconds","userStakingShareSeconds","setUserStakingShareSeconds","totalUserRewards","setTotalUserRewards","totalUSDDeposits","A","p","m","w","E","T","C","O","mul","P","I","add","stakingEndSec","endAtSec","hourlyUnlockRate","Date","now","i","scheduleSharesEmittedPerHour","reduce","schedule","lte","min","sub","durationSec","initialLockedShares","apy","BNB_APY","rewardMultiplier","maxMultiplier","minMultiplier","z","gt","bnbPonusPoolSharePercentage","bnbPonusPoolShareAmount","loadPoolStats","balanceOf","getCoinUsdPrices","noOfSchedules","toNumber","unlockSchedules","push","unlockedShares","lastUnlockTimestampSec","loadUserStats","earned","callStatic","unstakeQuery","useStats","assetsCoinGeckoIds","request","ids","join","vs_currencies","prices","map","id","usd","BonusesContext","BonusesProvider","setDrops","hasPendingBonusClaim","filter","d","hasPendingClaim","isMounted","unsubs","dropsConfig","Array","from","entries","contractAddress","date","contract","DROP_ABI","loadDrops","loadDrop","ds","claimInfo","didClaim","canClaim","isClaimed","index","claimEvent","filters","Claimed","off","unsub","useBonuses","useStyles","makeStyles","paper","color","container","padding","display","textDecoration","icon","marginRight","close","position","top","right","cursor","background","success","small","fontSize","TYPES","TxIcon","notification","classes","className","target","rel","ErrorIcon","clsx","SuccessIcon","closeSnackbar","Content","Paper","onClick","Close","style","Boolean","hostname","match","boxShadow","palette","primary","main","account","breakpoints","down","Component","shortAddress","slice","AppBar","Toolbar","Typography","variant","Button","Tooltip","IconButton","aria-label","elevation","paddingTop","gridTemplateColumns","columnGap","box","flexGrow","flexDirection","boxTip","boxTitle","link","stats","onSetDepositMaxAmount","name","tip","Box","ml","src","alt","width","height","getReward","disabled","s","StatBox","key","marginTop","backgroundColor","zIndex","borderTopLeftRadius","borderTopRightRadius","containerInner","justifyContent","borderBottom","active","borderBottomColor","secondary","withRouter","path","isDeposit","isWithdraw","to","transform","transformOrigin","maxButton","withdrawButton","rewards","borderRadius","startConnectingWallet","isWithdrawing","setIsWithdrawing","inputAmount","setInputAmount","withdrawMaxAmount","setWithdrawMaxAmount","maxWithdrawAmount","setMaxWithdrawAmount","withdrawAmount","inputAmountBN","parseUnits","onConnectOrWithdraw","withdraw","exit","onSetWithdrawMaxAmount","TextField","label","step","input","InputLabelProps","shrink","fullWidth","onChange","pl","mt","ms","promisify","setTimeout","header","isETH","tokenAddress","ETH","ERC20","balance","setBalance","getBalance","setDecimals","symbol","setSymbol","ERC20_CONTRACT_ABI","onBalanceChange","sleep","transferEvent","Transfer","subscribe","toUpperCase","depositButton","STEPS","activeStep","Stepper","Step","StepLabel","mx","mb","exact","component","Deposit","GetLPTokens","history","connectWalletOrNext","isApproving","setIsApproving","isApproved","setIsApproved","isDepositing","setIsDepositing","depositMaxAmount","setDepositMaxAmount","maxDepositAmount","setMaxDepositAmount","depositAmount","onConnectOrApproveOrDeposit","deposit","approve","checkAllowance","stake","allowance","Balance","event","gridTemplateRows","rowGap","Countdown","duration","setDuration","setInterval","moment","unix","isBefore","utc","clearInterval","size","opacity","fullscreen","alignItems","left","bottom","CircularProgress","status","lineHeight","x","Dialog","onClose","aria-labelledby","open","Table","tablex","TableHead","TableRow","TableCell","align","TableBody","drop","Drop","Loader","isWorking","setIsWorking","claim","amount","proof","rowx","scope","Number","wallet","margin","net","tabContent","announcement","announcementHere","App","basename","TopStats","Nav","Withdraw","Stats","Bonus","ConnectWallet","snackbar","Shell","muiTheme","createMuiTheme","typography","fontFamily","borderColor","overrides","MuiButton","root","MuiPaper","rounded","MuiDialog","useMuiTheme","document","documentElement","classList","contains","remove","CssBaseline","maxSnack","anchorOrigin","vertical","horizontal","content","data","Notification","getElementById","createElement","setAttribute","body","appendChild","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a827e995.chunk.js","sourcesContent":["export const APP_SLUG = 'goat';\n\nexport const APP_TITLE = 'Goat Staking';\n\nexport const CACHE_WALLET_KEY = 'wallet';\n\nexport const BORDER_RADIUS = 8;\n\nexport const IS_TESTNET = false; //~window.location.href.indexOf('testnet');\n\nexport const NETWORKS = {\n  56: {\n    stakingAddress: ~window.location.href.indexOf('beta')\n      ? '0x7044326135a8f416dd4a1d48bc47f808879ed425'\n      : ~window.location.href.indexOf('test')\n      ? '0x7044326135a8f416dd4a1d48bc47f808879ed425'\n      : '0x7044326135a8f416dd4a1d48bc47f808879ed425',\n    drops:\n      ~window.location.href.indexOf('localhost') ||\n      ~window.location.href.indexOf('test')\n        ? new Map([\n            ['0xC32F5887840314aB000dbA3125d84466B97bd08B', '2021-01-25'],\n          ])\n        : new Map([\n            ['0xC32F5887840314aB000dbA3125d84466B97bd08B', '2021-01-25'],\n          ]),\n  },\n  97: {\n    stakingAddress: '',\n  },\n};\n\nexport const NETWORK_NAME = IS_TESTNET ? 'testnet' : 'mainnet';\n\nexport const NETWORK_CHAIN_ID = IS_TESTNET ? 97 : 56;\n\nexport const READ_WEB3_PROVIDER = IS_TESTNET\n  ? 'https://data-seed-prebsc-1-s1.binance.org:8545'\n  : 'https://bsc-dataseed1.binance.org:443';\n\nexport const EMPTY_CALL_DATA =\n  '0x0000000000000000000000000000000000000000000000000000000000000001';\n\nexport const ROUTER_BASE_NAME = process.env.REACT_APP_ROUTER_BASE_NAME;\n\nexport const SECONDARY_COLOR = '#ffa132';\n\nexport const NETWORK = NETWORKS[NETWORK_CHAIN_ID];\n\nexport const API_URL = process.env.REACT_APP_API_URL;\n","export default function cache(k, v) {\n  switch (arguments.length) {\n    case 2:\n      if (v === null) return window.localStorage.removeItem(k);\n      return window.localStorage.setItem(k, JSON.stringify(v));\n\n    case 1:\n      try {\n        return JSON.parse(window.localStorage.getItem(k));\n      } catch (e) {\n        return null;\n      }\n\n      default:\n        return;\n  }\n}","import React from 'react';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { BORDER_RADIUS, SECONDARY_COLOR } from '../config';\nimport cache from '../utils/cache';\n\nconst ThemeContext = React.createContext(null);\n\nexport function ThemeProvider({ children }) {\n  const [theme, setTheme] = React.useState(cache('theme') || 'dark');\n\n  const toggleTheme = () => {\n    setTheme(theme => {\n      const newTheme = theme === 'dark' ? 'light' : 'dark';\n      cache('theme', newTheme);\n      return newTheme;\n    });\n  };\n\n  return (\n    <ThemeContext.Provider\n      value={{\n        theme,\n        toggleTheme,\n      }}\n    >\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = React.useContext(ThemeContext);\n  if (!context) {\n    throw new Error('Missing theme context');\n  }\n  const { theme, toggleTheme } = context;\n  return {\n    theme,\n    toggleTheme,\n    ...getProps(theme),\n  };\n}\n\nexport function useMuiTheme() {\n  const context = React.useContext(ThemeContext);\n  if (!context) {\n    throw new Error('Missing theme context');\n  }\n\n  const { theme } = context;\n  const { isDark } = getProps(theme);\n\n  return createMuiTheme({\n    typography: {\n      fontFamily: '\"Rubik\", sans-serif',\n    },\n    palette: {\n      isDark,\n      type: isDark ? 'dark' : 'light',\n      borderColor: isDark ? '#555' : '#ffa132',\n      background: {\n        // default: '',\n        // paper: '',\n      },\n      primary: {\n        main: isDark ? '#ffffff' : '#373836',\n      },\n      secondary: {\n        main: SECONDARY_COLOR,\n      },\n    },\n    overrides: {\n      MuiButton: {\n        root: {\n          borderRadius: BORDER_RADIUS,\n        },\n      },\n      MuiPaper: {\n        rounded: {\n          borderRadius: BORDER_RADIUS,\n        },\n      },\n      MuiDialog: {\n        paper: {\n          borderRadius: BORDER_RADIUS,\n        },\n      },\n    },\n  });\n}\n\nfunction getProps(theme) {\n  const isDark = theme === 'dark';\n  const secondaryColor = isDark ? 'rgb(53, 197, 243)' : '#007cc3';\n  return { isDark, secondaryColor };\n}\n","import React from 'react';\nimport { ethers } from 'ethers';\nimport {\n  NETWORK,\n  READ_WEB3_PROVIDER,\n  CACHE_WALLET_KEY,\n  NETWORK_CHAIN_ID,\n} from '../config';\nimport cache from '../utils/cache';\nimport STAKING_ABI from '../abis/staking.json';\nimport LP_ABI from '../abis/lp.json';\nimport ERC20_ABI from '../abis/erc20.json';\n\nexport const READ_PROVIDER = new ethers.providers.JsonRpcProvider(\n  READ_WEB3_PROVIDER\n);\nexport const { stakingAddress: STAKING_ADDRESS } = NETWORK;\nexport const READ_STAKING_CONTRACT = new ethers.Contract(\n  STAKING_ADDRESS,\n  STAKING_ABI,\n  READ_PROVIDER\n);\n\nconst WalletContext = React.createContext(null);\n\nexport function WalletProvider({ children }) {\n  const [isLoaded, setIsLoaded] = React.useState(false);\n  const [isConnecting, setIsConnecting] = React.useState(false);\n  const [chainId, setChainId] = React.useState(null);\n\n  const [lpName] = React.useState('CAKE-LP');\n  const [lpAddress, setLpAddress] = React.useState(null);\n  const [lpDecimals] = React.useState(18);\n\n  const [goatAddress, setGoatAddress] = React.useState(null);\n  const [goatDecimals] = React.useState(9);\n\n  const [wrappedBNBDecimals] = React.useState(18);\n\n  const [signer, setSigner] = React.useState(null);\n  const [address, setAddress] = React.useState(null);\n\n  const isOnWrongNetwork = React.useMemo(\n    () => chainId && chainId !== NETWORK_CHAIN_ID,\n    [chainId]\n  );\n\n  const stakingContract = React.useMemo(\n    () =>\n      !signer\n        ? READ_STAKING_CONTRACT\n        : new ethers.Contract(STAKING_ADDRESS, STAKING_ABI, signer),\n    [signer]\n  );\n\n  const lpContract = React.useMemo(\n    () =>\n      lpAddress &&\n      new ethers.Contract(lpAddress, LP_ABI, signer || READ_PROVIDER),\n    [signer, lpAddress]\n  );\n\n  const goatContract = React.useMemo(\n    () =>\n      goatAddress &&\n      new ethers.Contract(goatAddress, ERC20_ABI, signer || READ_PROVIDER),\n    [signer, goatAddress]\n  );\n\n  const wrappedBNBContract = React.useMemo(\n    () =>\n      new ethers.Contract(\n        '0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c',\n        ERC20_ABI,\n        signer || READ_PROVIDER\n      ),\n    [signer]\n  );\n\n  const startConnecting = () => setIsConnecting(true);\n  const stopConnecting = () => setIsConnecting(false);\n\n  async function connectToCached() {\n    if (address) return;\n\n    const cachedWallet = cache(CACHE_WALLET_KEY);\n    if (cachedWallet) {\n      const c = {\n        metamask: connectMetamask,\n        bsc: connectBsc,\n        trust: connectTrust,\n      };\n      c[cachedWallet]();\n    }\n  }\n\n  async function connectMetamask() {\n    await window.ethereum.enable();\n    cache(CACHE_WALLET_KEY, 'metamask');\n    await setProvider(window.ethereum);\n  }\n\n  async function connectBsc() {\n    if (!window.BinanceChain) return;\n    await window.BinanceChain.enable();\n    cache(CACHE_WALLET_KEY, 'bsc');\n    await setProvider(window.BinanceChain);\n  }\n\n  async function connectTrust() {\n    await window.ethereum.enable();\n    if (!window.ethereum.isTrust) return;\n    cache(CACHE_WALLET_KEY, 'trust');\n    await setProvider(window.ethereum);\n  }\n\n  async function setProvider(web3Provider) {\n    web3Provider.on('accountsChanged', () => {\n      window.location.reload();\n    });\n    web3Provider.on('chainChanged', () => {\n      window.location.reload();\n    });\n    // web3Provider.on('disconnect', () => {\n    //   disconnect();\n    // });\n    const provider = new ethers.providers.Web3Provider(web3Provider);\n    let { chainId: c } = await provider.getNetwork();\n    // android trust wallet bug\n    [56, 97].forEach(o => {\n      if (parseInt(`0x${o}`, 16) === parseInt(c)) c = o;\n    });\n    setChainId(c);\n    if (c === NETWORK_CHAIN_ID) {\n      const signer = provider.getSigner();\n      setSigner(signer);\n      setAddress(await signer.getAddress());\n      stopConnecting();\n    }\n  }\n\n  async function disconnect() {\n    cache(CACHE_WALLET_KEY, null);\n    setSigner(null);\n    setAddress(null);\n    setChainId(null);\n  }\n\n  // async function loadLpInfo() {\n  //   if (!lpContract) return;\n  //   const [decimals, symbol] = await Promise.all([\n  //     lpContract.decimals(),\n  //     lpContract.symbol(),\n  //   ]);\n  //   setLpDecimals(decimals);\n  //   setLpName(symbol);\n  // }\n\n  async function load() {\n    const [lpAddress, goatAddress] = await Promise.all([\n      stakingContract.stakingToken,\n      stakingContract.rewardsToken,\n      connectToCached(),\n    ]);\n    setLpAddress(lpAddress);\n    setGoatAddress(goatAddress);\n    setIsLoaded(true);\n  }\n\n  // React.useEffect(() => {\n  //   loadLpInfo();\n  // }, [lpContract]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  React.useEffect(() => {\n    load();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <WalletContext.Provider\n      value={{\n        isLoaded,\n\n        chainId,\n        signer,\n        address,\n        isOnWrongNetwork,\n\n        lpAddress,\n        lpContract,\n        lpDecimals,\n        lpName,\n\n        goatContract,\n        goatAddress,\n        goatDecimals,\n\n        // cakeContract,\n        // cakeAddress,\n        cakeDecimals: 18,\n\n        stakingContract,\n\n        wrappedBNBContract,\n        wrappedBNBDecimals,\n\n        isConnecting,\n        startConnecting,\n        stopConnecting,\n        disconnect,\n\n        connectMetamask,\n        connectBsc,\n        connectTrust,\n      }}\n    >\n      {children}\n    </WalletContext.Provider>\n  );\n}\n\nexport function useWallet() {\n  const context = React.useContext(WalletContext);\n  if (!context) {\n    throw new Error('Missing wallet context');\n  }\n  const {\n    isLoaded,\n\n    chainId,\n    signer,\n    address,\n    config,\n    isOnWrongNetwork,\n\n    lpAddress,\n    lpContract,\n    lpDecimals,\n    lpName,\n\n    goatContract,\n    goatAddress,\n    goatDecimals,\n\n    cakeContract,\n    cakeAddress,\n    cakeDecimals,\n\n    stakingContract,\n\n    wrappedBNBContract,\n    wrappedBNBDecimals,\n\n    isConnecting,\n    startConnecting,\n    stopConnecting,\n    disconnect,\n\n    connectMetamask,\n    connectBsc,\n    connectTrust,\n  } = context;\n\n  return {\n    isLoaded,\n\n    chainId,\n    signer,\n    address,\n    config,\n    isOnWrongNetwork,\n\n    lpAddress,\n    lpContract,\n    lpDecimals,\n    lpName,\n\n    goatContract,\n    goatAddress,\n    goatDecimals,\n\n    cakeContract,\n    cakeAddress,\n    cakeDecimals,\n\n    stakingContract,\n\n    wrappedBNBContract,\n    wrappedBNBDecimals,\n\n    isConnecting,\n    startConnecting,\n    stopConnecting,\n    disconnect,\n\n    connectMetamask,\n    connectBsc,\n    connectTrust,\n  };\n}\n","import React from 'react';\nimport { useSnackbar } from 'notistack';\n\nconst NotificationsContext = React.createContext(null);\n\nexport function NotificationsProvider({ children }) {\n  const { enqueueSnackbar } = useSnackbar();\n\n  const showTxNotification = (description, hash) =>\n    enqueueSnackbar(\n      { type: 'tx', description, hash },\n      {\n        persist: true,\n      }\n    );\n\n  const showErrorNotification = msg =>\n    enqueueSnackbar(\n      {\n        type: 'error',\n        message: msg?.error?.message || msg.responseText || msg.message || msg,\n      },\n      {\n        persist: true,\n      }\n    );\n\n  const showSuccessNotification = (title, message) =>\n    enqueueSnackbar(\n      {\n        type: 'success',\n        title,\n        message,\n      },\n      {\n        persist: true,\n      }\n    );\n\n  const tx = async (startNotification, endNotification, makeTx) => {\n    try {\n      const { hash, wait } = await makeTx();\n      showTxNotification(startNotification, hash);\n      await wait();\n      showSuccessNotification(endNotification, hash);\n    } catch (e) {\n      showErrorNotification(e);\n      throw e;\n    }\n  };\n\n  return (\n    <NotificationsContext.Provider\n      value={{\n        showTxNotification,\n        showErrorNotification,\n        showSuccessNotification,\n        tx,\n      }}\n    >\n      {children}\n    </NotificationsContext.Provider>\n  );\n}\n\nexport function useNotifications() {\n  const context = React.useContext(NotificationsContext);\n  if (!context) {\n    throw new Error('Missing notifications context');\n  }\n  const {\n    showTxNotification,\n    showErrorNotification,\n    showSuccessNotification,\n    tx,\n  } = context;\n  return {\n    showTxNotification,\n    showErrorNotification,\n    showSuccessNotification,\n    tx,\n  };\n}\n","import BigJs from 'big.js';\nimport toformat from 'toformat';\n\ntoformat(BigJs);\n\nconst PRECISION = 4;\n\nexport function toFixed(a, b, precision) {\n  if (isZero(Big(a)) || isZero(Big(b))) {\n    return '0';\n  }\n  return Big(a)\n    .div(Big(b))\n    .toFormat(precision ?? PRECISION);\n}\n\nexport function formatUnits(a, decimals, precision) {\n  return toFixed(a, Big(10).pow(decimals), precision);\n}\n\nexport function isZero(a) {\n  return Big(a).eq(Big('0'));\n}\n\nexport function Big(n) {\n  return new BigJs(n.toString());\n}\n","import fetch from 'unfetch';\nimport qs from 'query-string';\nimport { API_URL } from '../config';\n\nexport async function get(url, query) {\n  if (query) {\n    url += '?' + qs.stringify(query);\n  }\n  return await (await fetch(url)).json();\n}\n\nexport async function api(url, query) {\n  return get(API_URL + url, query);\n}\n","import React from 'react';\nimport { Big, isZero } from '../utils/big-number';\nimport { useWallet } from '../contexts/wallet';\nimport * as request from '../utils/request';\n\nconst GOAT_APY = Big('144');\n\nconst StatsContext = React.createContext(null);\n\nconst max = (t, e) => (t.gte(e) ? t : e);\nconst min = (t, e) => (t.lte(e) ? t : e);\n\nexport function StatsProvider({ children }) {\n  const {\n    stakingContract,\n    lpContract,\n    wrappedBNBContract,\n    goatContract,\n    lpAddress,\n    lpDecimals,\n    wrappedBNBDecimals,\n    goatDecimals,\n    address,\n  } = useWallet();\n\n  // pool\n\n  const [totalStaked, setTotalStaked] = React.useState(Big('0'));\n  const [totalLockedShares, setTotalLockedShares] = React.useState(Big('0'));\n  const [unlockScheduleCount, setUnlockScheduleCount] = React.useState(\n    Big('0')\n  );\n  const [totalStakingShares, setTotalStakingShares] = React.useState(Big('0'));\n  const [totalLocked, setTotalLocked] = React.useState(Big('0'));\n  const [totalSupply, setTotalSupply] = React.useState(Big('0'));\n  const [startBonus, setStartBonus] = React.useState(Big('0'));\n  const [bonusPeriodSec, setBonusPeriodSec] = React.useState(Big('0'));\n  const [poolBNBBalance, setPoolBNBBalance] = React.useState(Big('0'));\n  const [poolGoatBalance, setPoolGoatBalance] = React.useState(Big('0'));\n  const [schedules, setUnlockSchedules] = React.useState([]);\n  const [bnbUSDPrice, setBNBUSDPrice] = React.useState(Big('0'));\n  const [goatUSDPrice, setGoatUSDPrice] = React.useState(Big('0'));\n\n  // user\n\n  const [availableGoatRewards, setAvailableGoatRewards] = React.useState(\n    Big('0')\n  );\n  const [availableCakeRewards, setAvailableCakeRewards] = React.useState(\n    Big('0')\n  );\n  const [totalStakedFor, setTotalStakedFor] = React.useState(Big('0'));\n  const [\n    totalStakingShareSeconds,\n    setTotalStakingShareSeconds,\n  ] = React.useState(Big('0'));\n  const [userStakingShareSeconds, setUserStakingShareSeconds] = React.useState(\n    Big('0')\n  );\n  const [totalUserRewards, setTotalUserRewards] = React.useState(Big('0'));\n\n  const totalUSDDeposits = React.useMemo(() => {\n    if (\n      !(\n        !isZero(totalStaked) &&\n        !isZero(totalSupply) &&\n        !isZero(poolBNBBalance) &&\n        !isZero(poolGoatBalance) &&\n        !isZero(bnbUSDPrice) &&\n        !isZero(goatUSDPrice) &&\n        goatDecimals &&\n        lpDecimals &&\n        wrappedBNBDecimals\n      )\n    )\n      return Big('0');\n\n    const k = bnbUSDPrice;\n    const A = goatUSDPrice;\n\n    // const l = 18;\n    const c = lpDecimals; // lp\n    const p = wrappedBNBDecimals; // bnb\n    const m = goatDecimals; // goat\n\n    // const g = parseInt(v[0][0]) / 10 ** l;\n    // const y = parseInt(v[0][1]) / 10 ** l;\n    // const b = parseInt(v[0][5]);\n    const w = Big(totalStaked).div(10 ** c);\n    // const _ = parseInt(totalLockedShares);\n    // const x = parseInt(unlockScheduleCount);\n    // const S = parseInt(v[5]) / 10 ** l;\n    const E = Big(totalSupply).div(10 ** c);\n    // const M = yield up(h)\n    // const k = yield up(f)\n    // const A = yield up(d)\n    const T = Big(poolBNBBalance).div(10 ** p);\n    const C = Big(poolGoatBalance).div(10 ** m);\n\n    const O = k.mul(T);\n    const P = A.mul(C);\n\n    const I = w.div(E);\n    const N = O.add(P).mul(I);\n\n    // console.log(\n    //   Object.entries({ N, O, P, I, k, T, A, C, w, E }).reduce((r, [k, v]) => {\n    //     r[k] = v.toString();\n    //     return r;\n    //   }, {})\n    // );\n\n    return N;\n  }, [\n    totalStaked,\n    totalSupply,\n    poolBNBBalance,\n    poolGoatBalance,\n    bnbUSDPrice,\n    goatUSDPrice,\n    goatDecimals,\n    lpDecimals,\n    wrappedBNBDecimals,\n  ]);\n\n  const stakingEndSec = React.useMemo(\n    () =>\n      !schedules.length ? Big('0') : schedules[schedules.length - 1].endAtSec,\n    [schedules]\n  );\n\n  const hourlyUnlockRate = React.useMemo(() => {\n    if (!(!isZero(totalLockedShares) && !isZero(totalLocked) && schedules))\n      return Big('0');\n\n    // const totalLockedSharesNormalized = totalLockedShares.div(1e18);\n\n    const m = parseInt(Date.now() / 1e3);\n    const i = Big(3600);\n\n    const scheduleSharesEmittedPerHour = schedules.reduce((t, schedule) => {\n      return t.add(\n        min(max(schedule.endAtSec.sub(m), Big('0')), i)\n          .div(schedule.durationSec)\n          .mul(schedule.initialLockedShares)\n      );\n    }, Big('0'));\n\n    return isZero(totalLocked)\n      ? Big('0')\n      : scheduleSharesEmittedPerHour\n          .div(totalLockedShares)\n          .mul(totalLocked)\n          .div(1e9);\n  }, [totalLockedShares, totalLocked, schedules]);\n\n  const apy = React.useMemo(() => {\n    if (!(!isZero(hourlyUnlockRate) && !isZero(totalUSDDeposits)))\n      return Big('0');\n\n    let BNB_APY = bnbUSDPrice\n      .mul(250)\n      .div(totalUSDDeposits)\n      .mul(1300);\n\n    let apy = hourlyUnlockRate\n      .div(totalUSDDeposits)\n      .mul(8760)\n      .mul(100)\n      .add(GOAT_APY)\n      .add(BNB_APY);\n\n    if (apy.gte(1e6)) {\n      apy = Big(1e6);\n    }\n\n    return apy;\n  }, [hourlyUnlockRate, totalUSDDeposits, bnbUSDPrice]);\n\n  const rewardMultiplier = React.useMemo(() => {\n    if (!!isZero(startBonus)) return Big('1');\n    const maxMultiplier = Big('1').div(startBonus);\n    const minMultiplier = 1;\n    const e = {\n      startBonus,\n      maxMultiplier,\n      minMultiplier,\n    };\n    const p = availableGoatRewards;\n    const m = totalUserRewards;\n    let w = e.startBonus;\n    const z = isZero(totalUserRewards) ? Big('1') : p.div(m);\n    if (m.gt(Big('0'))) {\n      w = max(w, z);\n    }\n    const _ = w.sub(e.startBonus).div(Big(1).sub(e.startBonus));\n    const S = _.mul(e.maxMultiplier.sub(e.minMultiplier)).add(e.minMultiplier);\n    // console.log(\n    //   Object.entries({\n    //     p,\n    //     m,\n    //     w,\n    //     _,\n    //     S,\n    //     startBonus,\n    //     maxMultiplier,\n    //     minMultiplier,\n    //     a: w.sub(e.startBonus),\n    //     b: Big(1).sub(e.startBonus),\n    //     z,\n    //   }).reduce((r, [k, v]) => {\n    //     r[k] = v.toString();\n    //     return r;\n    //   }, {})\n    // );\n    return S;\n  }, [startBonus, totalUserRewards, availableGoatRewards]);\n\n  const bnbPonusPoolSharePercentage = React.useMemo(() => {\n    if (isZero(totalStakingShareSeconds)) return Big('0');\n    return userStakingShareSeconds.div(totalStakingShareSeconds);\n  }, [userStakingShareSeconds, totalStakingShareSeconds]);\n\n  const bnbPonusPoolShareAmount = React.useMemo(() => {\n    const poolAmount = Big('250').mul(10 ** wrappedBNBDecimals); // total amount of BNB paid out\n    return poolAmount.mul(bnbPonusPoolSharePercentage);\n  }, [bnbPonusPoolSharePercentage, wrappedBNBDecimals]);\n\n  const loadPoolStats = async () => {\n    if (\n      !(\n        stakingContract &&\n        lpContract &&\n        wrappedBNBContract &&\n        goatContract &&\n        lpAddress\n      )\n    )\n      return;\n    const [\n      // totalStaked,\n      // totalLockedShares,\n      // unlockScheduleCount,\n      // totalStakingShares,\n      // totalLocked,\n      noOfSchedules,\n      totalSupply,\n      // startBonus,\n      bonusPeriodSec,\n      poolBNBBalance,\n      poolGoatBalance,\n      [bnbUSDPrice, goatUSDPrice],\n    ] = await Promise.all([\n      // stakingContract.totalStaked(),\n      // stakingContract.totalLockedShares(),\n      // stakingContract.unlockScheduleCount(),\n      // stakingContract.totalStakingShares(),\n      // stakingContract.totalLocked(),\n      // stakingContract.unlockScheduleCount(),\n      lpContract.totalSupply(),\n      // stakingContract.startBonus(),\n      // stakingContract.bonusPeriodSec(),\n      wrappedBNBContract.balanceOf(lpAddress),\n      goatContract.balanceOf(lpAddress),\n      getCoinUsdPrices(['wbnb', 'goat']),\n      // stakingContract.totalLocked(),\n      // stakingContract.unlockScheduleCount(),\n    ]);\n\n    const schedules = [];\n    if (!noOfSchedules.isZero()) {\n      for (let b = 0; b < noOfSchedules.toNumber(); b++) {\n        const schedule = await stakingContract.unlockSchedules(b);\n        schedules.push({\n          initialLockedShares: Big(schedule.initialLockedShares), \n          unlockedShares: Big(schedule.unlockedShares),\n          lastUnlockTimestampSec: Big(schedule.lastUnlockTimestampSec),\n          endAtSec: Big(schedule.endAtSec),\n          durationSec: Big(schedule.durationSec),\n        });\n      }\n    }\n\n    setTotalStaked(Big(totalStaked));\n    setTotalLockedShares(Big(totalLockedShares));\n    setUnlockScheduleCount(Big(unlockScheduleCount));\n    setTotalStakingShares(Big(totalStakingShares));\n    setTotalLocked(Big(totalLocked));\n    setTotalSupply(Big(totalSupply));\n    setStartBonus(Big(startBonus).div(100));\n    setBonusPeriodSec(Big(bonusPeriodSec));\n    setPoolBNBBalance(Big(poolBNBBalance));\n    setPoolGoatBalance(Big(poolGoatBalance));\n    setBNBUSDPrice(Big(bnbUSDPrice));\n    setGoatUSDPrice(Big(goatUSDPrice));\n    setUnlockSchedules(schedules);\n  };\n\n  const loadUserStats = async () => {\n    if (!(stakingContract && address)) return;\n    const [\n      // availableCakeRewards,\n      totalStakedFor,\n      // [, , userStakingShareSeconds, totalStakingShareSeconds, totalUserRewards],\n    ] = await Promise.all([\n      // stakingContract.pendingCakeByUser(address),\n      stakingContract.earned(address)\n      // stakingContract.callStatic.updateAccounting(),\n    ]);\n    const availableGoatRewards = totalStakedFor.isZero()\n      ? '0'\n      : await stakingContract.callStatic.unstakeQuery(totalStakedFor);\n    // setAvailableCakeRewards(Big(availableCakeRewards));\n    setTotalStakedFor(Big(totalStakedFor));\n    setAvailableGoatRewards(Big(availableGoatRewards));\n    setTotalStakingShareSeconds(Big(totalStakingShareSeconds));\n    setUserStakingShareSeconds(Big(userStakingShareSeconds));\n    setTotalUserRewards(Big(totalUserRewards));\n  };\n\n  // const subscribeToPoolStats = () => {\n  //   if (!stakingContract) return;\n  //   const stakedEvent = stakingContract.filters.Staked();\n  //   const unstakedEvent = stakingContract.filters.Unstaked();\n  //   stakingContract.on(stakedEvent, loadPoolStats);\n  //   stakingContract.on(unstakedEvent, loadPoolStats);\n  //   return () => {\n  //     stakingContract.off(stakedEvent, loadPoolStats);\n  //     stakingContract.off(unstakedEvent, loadPoolStats);\n  //   };\n  // };\n\n  // const subscribeToUserStats = () => {\n  //   if (!(stakingContract && address)) return;\n  //   const stakedEvent = stakingContract.filters.Staked();\n  //   const unstakedEvent = stakingContract.filters.Unstaked();\n  //   stakingContract.on(stakedEvent, loadUserStats);\n  //   stakingContract.on(unstakedEvent, loadUserStats);\n  //   const cid = setInterval(loadUserStats, 1000 * 30);\n  //   return () => {\n  //     stakingContract.off(stakedEvent, loadUserStats);\n  //     stakingContract.off(unstakedEvent, loadUserStats);\n  //     clearInterval(cid);\n  //   };\n  // };\n\n  React.useEffect(() => {\n    loadPoolStats();\n    // return subscribeToPoolStats(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    stakingContract,\n    lpContract,\n    wrappedBNBContract,\n    goatContract,\n    lpAddress,\n    lpDecimals,\n    wrappedBNBDecimals,\n    goatDecimals,\n  ]);\n\n  React.useEffect(() => {\n    loadUserStats();\n    // return subscribeToUserStats(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [stakingContract, address]);\n\n  return (\n    <StatsContext.Provider\n      value={{\n        totalStaked,\n        totalLockedShares,\n        unlockScheduleCount,\n        totalStakingShares,\n        totalLocked,\n        totalSupply,\n        startBonus,\n        bonusPeriodSec,\n        poolBNBBalance,\n        poolGoatBalance,\n        bnbUSDPrice,\n        goatUSDPrice,\n        schedules,\n\n        availableGoatRewards,\n        availableCakeRewards,\n        totalStakedFor,\n        totalStakingShareSeconds,\n        userStakingShareSeconds,\n\n        apy,\n        hourlyUnlockRate,\n        totalUSDDeposits,\n        stakingEndSec,\n        rewardMultiplier,\n        bnbPonusPoolSharePercentage,\n        bnbPonusPoolShareAmount,\n      }}\n    >\n      {children}\n    </StatsContext.Provider>\n  );\n}\n\nexport function useStats() {\n  const context = React.useContext(StatsContext);\n  if (!context) {\n    throw new Error('Missing stats context');\n  }\n  const {\n    totalStaked,\n    totalLockedShares,\n    unlockScheduleCount,\n    totalStakingShares,\n    totalLocked,\n    totalSupply,\n    startBonus,\n    bonusPeriodSec,\n    poolBNBBalance,\n    poolGoatBalance,\n    schedules,\n    bnbUSDPrice,\n    goatUSDPrice,\n\n    availableGoatRewards,\n    availableCakeRewards,\n    totalStakedFor,\n    totalStakingShareSeconds,\n    userStakingShareSeconds,\n\n    apy,\n    hourlyUnlockRate,\n    totalUSDDeposits,\n    stakingEndSec,\n    rewardMultiplier,\n    bnbPonusPoolSharePercentage,\n    bnbPonusPoolShareAmount,\n  } = context;\n\n  return {\n    totalStaked,\n    totalLockedShares,\n    unlockScheduleCount,\n    totalStakingShares,\n    totalLocked,\n    totalSupply,\n    startBonus,\n    bonusPeriodSec,\n    poolBNBBalance,\n    poolGoatBalance,\n    schedules,\n    bnbUSDPrice,\n    goatUSDPrice,\n\n    availableGoatRewards,\n    availableCakeRewards,\n    totalStakedFor,\n    totalStakingShareSeconds,\n    userStakingShareSeconds,\n\n    apy,\n    hourlyUnlockRate,\n    totalUSDDeposits,\n    stakingEndSec,\n    rewardMultiplier,\n    bnbPonusPoolSharePercentage,\n    bnbPonusPoolShareAmount,\n  };\n}\n\nasync function getCoinUsdPrices(assetsCoinGeckoIds) {\n  const prices = await request.get(\n    'https://api.coingecko.com/api/v3/simple/price',\n    {\n      ids: assetsCoinGeckoIds.join(','),\n      vs_currencies: 'usd',\n    }\n  );\n  return assetsCoinGeckoIds.map(id => Big((prices[id] || { usd: 0 }).usd));\n}\n","import React from 'react';\nimport * as ethers from 'ethers';\nimport { useWallet } from '../contexts/wallet';\nimport * as request from '../utils/request';\nimport DROP_ABI from '../abis/merkle.json';\nimport { NETWORK } from '../config';\n\nconst BonusesContext = React.createContext(null);\n\nexport function BonusesProvider({ children }) {\n  const { signer, address } = useWallet();\n\n  const [isLoaded, setIsLoaded] = React.useState(false);\n  const [drops, setDrops] = React.useState([]);\n\n  const hasPendingBonusClaim = React.useMemo(\n    () => !!drops.filter(d => d.hasPendingClaim).length,\n    [drops]\n  );\n\n  React.useEffect(() => {\n    if (!(signer && address)) return setDrops([]);\n\n    let isMounted = true;\n    const unsubs = [() => (isMounted = false)];\n    const dropsConfig = Array.from(NETWORK.drops.entries()).map(\n      ([contractAddress, date]) => ({\n        date,\n        contract: new ethers.Contract(contractAddress, DROP_ABI, signer),\n      })\n    );\n\n    const loadDrops = async () => {\n      const ds = await Promise.all(dropsConfig.map(loadDrop));\n\n      if (isMounted) {\n        setDrops(ds);\n        setIsLoaded(true);\n      }\n    };\n\n    const loadDrop = async ({ contract, date }) => {\n      const claimInfo = await request.api(`/claim-info/${date}/${address}`);\n      let didClaim = false;\n\n      const canClaim = 'index' in claimInfo;\n      if (canClaim) {\n        didClaim = await contract.isClaimed(claimInfo.index);\n      }\n\n      return {\n        address,\n        date,\n        contract,\n        claimInfo,\n        canClaim,\n        didClaim,\n        hasPendingClaim: canClaim && !didClaim,\n      };\n    };\n\n    const subscribe = () => {\n      dropsConfig.forEach(({ contract }) => {\n        // const claimEvent = contract.filters.Claimed(null, address);\n        const claimEvent = contract.filters.Claimed();\n        contract.on(claimEvent, loadDrops);\n        unsubs.push(() => contract.off(claimEvent, loadDrops));\n      });\n    };\n\n    loadDrops();\n    subscribe();\n    return () => {\n      unsubs.forEach(unsub => unsub());\n    };\n  }, [signer, address]);\n\n  return (\n    <BonusesContext.Provider\n      value={{\n        isLoaded,\n        drops,\n        hasPendingBonusClaim,\n      }}\n    >\n      {children}\n    </BonusesContext.Provider>\n  );\n}\n\nexport function useBonuses() {\n  const context = React.useContext(BonusesContext);\n  if (!context) {\n    throw new Error('Missing bonuses context');\n  }\n  const { isLoaded, drops, hasPendingBonusClaim } = context;\n\n  return {\n    isLoaded,\n    drops,\n    hasPendingBonusClaim,\n  };\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Paper } from '@material-ui/core';\nimport {\n  ArrowUpward as TxIcon,\n  Done as SuccessIcon,\n  Clear as ErrorIcon,\n  Close as CloseIcon,\n} from '@material-ui/icons';\nimport { useSnackbar } from 'notistack';\nimport { IS_TESTNET } from '../config';\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    color: 'white',\n  },\n  container: {\n    padding: '10px 20px 10px 10px',\n    '& a': {\n      color: 'white',\n      display: 'block',\n      textDecoration: 'underline',\n    },\n  },\n  icon: {\n    // border: '1px solid',\n    // borderRadius: '50%',\n    // padding: 10,\n    marginRight: 10,\n    display: 'inline-flex',\n  },\n  close: {\n    position: 'absolute',\n    top: 5,\n    right: 5,\n    cursor: 'pointer',\n  },\n  tx: {\n    background: '#2196f3',\n  },\n  error: {\n    background: '#d32f2f',\n  },\n  success: {\n    background: '#43a047',\n  },\n  small: {\n    fontSize: 12,\n  },\n}));\n\nconst TYPES = new Map([\n  ['tx', [TxIcon, TxContent]],\n  ['error', [ErrorIcon, ErrorContent]],\n  ['success', [SuccessIcon, SuccessContent]],\n]);\n\nexport default function({ id, notification }) {\n  const classes = useStyles();\n  const { closeSnackbar } = useSnackbar();\n  const clearNotification = () => closeSnackbar(id);\n\n  const [\n    ,\n    // Icon\n    Content,\n  ] = TYPES.get(notification.type);\n\n  return (\n    <Paper className={clsx(classes.paper, classes[notification.type])}>\n      <div className={classes.close} onClick={clearNotification}>\n        <CloseIcon style={{ fontSize: 15 }} />\n      </div>\n      <div\n        className={clsx('flex', 'flex-grow', 'items-center', classes.container)}\n      >\n        <div\n          className={clsx('flex', 'flex-grow', 'flex-col', 'justify-center')}\n        >\n          <Content {...{ notification }} />\n        </div>\n      </div>\n    </Paper>\n  );\n}\n\nfunction TxContent({ notification }) {\n  const classes = useStyles();\n  return (\n    <>\n      <strong className={classes.small}>{notification.description}</strong>\n\n      <a\n        href={`https://${IS_TESTNET ? 'testnet.' : ''}bscscan.com/tx/${\n          notification.hash\n        }`}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className={classes.small}\n      >\n        View on BSCScan\n      </a>\n    </>\n  );\n}\n\nfunction ErrorContent({ notification }) {\n  const classes = useStyles();\n  return (\n    <>\n      <strong className={clsx(classes.small, classes.error)}>\n        {notification.message}\n      </strong>\n    </>\n  );\n}\n\nfunction SuccessContent({ notification }) {\n  const classes = useStyles();\n  return (\n    <>\n      <div>{notification.title}</div>\n      <strong className={clsx(classes.small, classes.success)}>\n        {notification.message}\n      </strong>\n    </>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  AppBar,\n  Typography,\n  Toolbar,\n  IconButton,\n  Tooltip,\n  Button,\n} from '@material-ui/core';\nimport LightIcon from '@material-ui/icons/Brightness1';\nimport DarkIcon from '@material-ui/icons/Brightness2';\nimport { useTheme } from '../contexts/theme';\nimport { useWallet } from '../contexts/wallet';\nimport { APP_TITLE } from '../config';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    boxShadow: 'none',\n  },\n  title: {\n    color: theme.palette.primary.main,\n    textDecoration: 'none',\n  },\n  account: {\n    marginRight: 10,\n    [theme.breakpoints.down('sm')]: {\n      display: 'none',\n    },\n  },\n}));\n\nexport default function Component() {\n  const classes = useStyles();\n  const { address, startConnecting, disconnect } = useWallet();\n  const { isDark, toggleTheme } = useTheme();\n\n  const shortAddress =\n    address && `${address.slice(0, 6)}....${address.slice(-4)}`;\n\n  return (\n    <AppBar position=\"fixed\" color=\"inherit\" className={classes.container}>\n      <Toolbar color=\"inherit\">\n        <Typography variant=\"h6\" className={'flex flex-grow'}>\n          <div className={'flex items-center'} href=\"/\">\n            {APP_TITLE}\n          </div>\n        </Typography>\n\n        {address ? (\n          <>\n            &nbsp;\n            <div className={classes.account}>{shortAddress}</div>\n            <Button color=\"secondary\" onClick={disconnect}>\n              Disconnect\n            </Button>\n          </>\n        ) : (\n          <Button color=\"secondary\" onClick={startConnecting}>\n            Connect Wallet\n          </Button>\n        )}\n\n        <Tooltip title=\"Toggle light/dark theme\">\n          <IconButton\n            onClick={toggleTheme}\n            color=\"inherit\"\n            aria-label=\"Toggle light/dark theme\"\n          >\n            {isDark ? <LightIcon /> : <DarkIcon />}\n          </IconButton>\n        </Tooltip>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import React from 'react';\nimport { Paper } from '@material-ui/core';\nimport { useTheme } from '../contexts/theme';\n\nexport default ({ className, children }) => {\n  const { isDark } = useTheme();\n  return (\n    <Paper\n      {...{ className }}\n      {...(isDark ? {} : { variant: 'outlined' })}\n      elevation={0}\n    >\n      {children}\n    </Paper>\n  );\n};\n","import React from 'react';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Tooltip } from '@material-ui/core';\nimport { Help as TipIcon } from '@material-ui/icons';\nimport { formatUnits, toFixed, isZero } from '../utils/big-number';\nimport Paper from '../components/Paper';\nimport { useWallet } from '../contexts/wallet';\nimport { useStats } from '../contexts/stats';\nimport { useNotifications } from '../contexts/notifications';\nimport { Button } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    paddingTop: 14,\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr 1fr 1fr',\n    columnGap: '10px',\n  },\n  box: {\n    display: 'flex',\n    flexGrow: 1,\n    flexDirection: 'column',\n    padding: 20,\n    background: theme.palette.isDark ? '#555' : '#fff',\n    color: theme.palette.isDark ? 'white' : '#373836',\n    position: 'relative',\n  },\n  boxTip: {\n    position: 'absolute',\n    top: 5,\n    right: 5,\n  },\n  boxTitle: {\n    fontSize: 11,\n  },\n  small: {\n    fontSize: 10,\n  },\n  link: {\n    color: theme.palette.primary.main,\n    textDecoration: 'none',\n  },\n}));\n\nexport default function() {\n  const classes = useStyles();\n  const { goatDecimals, wrappedBNBDecimals } = useWallet();\n  const {\n    apy,\n    availableGoatRewards,\n    rewardMultiplier,\n    bnbPonusPoolSharePercentage,\n    bnbPonusPoolShareAmount,\n    stakingEndSec,\n    lpContract,\n    address,\n    stakingContract,\n    showTxNotification,\n    lpName,\n    onSetDepositMaxAmount,\n    showErrorNotification\n  } = useStats();\n\n  const stats = React.useMemo(\n    () => [\n      {\n        name: 'APR',\n        value: [`${toFixed(apy, 1, 2)}%`],\n        tip: 'APR is estimated for a new deposit over the next 30 days.',\n      },\n      {\n        name: 'Rewards Earned',\n        value: [\n          <div className=\"flex items-start flex-wrap\">\n            {formatUnits(availableGoatRewards, goatDecimals)} GOAT\n            <Box ml={1} className=\"flex items-center\">\n              <img src=\"coins/GOAT.png\" alt=\"GOAT\" width={15} height={15} />\n            </Box>\n\n              <Button\n                  color=\"default\"\n                  variant=\"outlined\"\n                  onClick={getReward}\n                  disabled={!(lpContract && address)}\n              >\n                Claim Rewards\n              </Button>\n              \n          </div>\n        ],\n        tip:\n          'Amount of GOAT rewards you will receive on unstaking.',\n      },\n    ],\n    [\n      apy,\n      availableGoatRewards,\n      goatDecimals,\n      wrappedBNBDecimals,\n      rewardMultiplier,\n      bnbPonusPoolShareAmount,\n      bnbPonusPoolSharePercentage,\n      stakingEndSec,\n      classes.small,\n      classes.link,\n    ]\n  );\n\n  return (\n    <Box className={clsx(classes.container)}>\n      {stats.map(s => (\n        <StatBox key={s.name} {...s} />\n      ))}\n    </Box>\n  );\n}\n\nconst getReward = async () => {\n  // if (!(lpContract && address)) return;\n  try {\n    // if (depositAmount.isZero())\n    //   return showErrorNotification('Enter deposit amount.');\n    // if (!depositMaxAmount && depositAmount.gt(maxDepositAmount)) {\n    //   return showErrorNotification(\n    //     'You are trying to deposit more than your actual balance.'\n    //   );\n    // }\n    // setIsDepositing(true);\n    const tx = await useStats.stakingContract.getReward();\n    // showTxNotification(`Depositing ${lpName}`, tx.hash);\n    await tx.wait();\n    // showTxNotification(`Deposited ${lpName}`, tx.hash);\n    // onSetDepositMaxAmount();\n  } catch (e) {\n    useNotifications.showErrorNotification(e);\n  } \n};\n\nfunction StatBox({ name, value, tip }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={clsx(classes.box)}>\n      <Tooltip title={tip}>\n        <TipIcon style={{ fontSize: 15 }} className={classes.boxTip} />\n      </Tooltip>\n      <div className={clsx(classes.boxTitle)}>{name}</div>\n      <div>\n        {value.map((v, i) => (\n          <div key={i}>{v}</div>\n        ))}\n      </div>\n    </Paper>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link, withRouter } from 'react-router-dom';\nimport { BORDER_RADIUS } from '../config';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    marginTop: 10,\n    backgroundColor: theme.palette.isDark ? '#222' : '#eee',\n    zIndex: 1,\n    borderTopLeftRadius: BORDER_RADIUS,\n    borderTopRightRadius: BORDER_RADIUS,\n  },\n  containerInner: {\n    paddingTop: 14,\n  },\n  link: {\n    display: 'flex',\n    flexGrow: 1,\n    justifyContent: 'center',\n    color: theme.palette.isDark ? 'white' : '#373836',\n    borderBottom: `5px solid ${theme.palette.isDark ? '#555' : '#ddd'}`,\n    textDecoration: 'none',\n    padding: '5px 0 15px',\n    cursor: 'pointer',\n  },\n  active: {\n    borderBottomColor: theme.palette.secondary.main,\n  },\n}));\n\nexport default withRouter(function() {\n  const classes = useStyles();\n  const path = window.location.hash;\n  const isDeposit = ~path.indexOf('deposit');\n  const isWithdraw = ~path.indexOf('withdraw');\n  const isStats = ~path.indexOf('stats');\n\n  return (\n    <div className={clsx('flex flex-col flex-grow', classes.container)}>\n      <div className={clsx('flex flex-grow', classes.containerInner)}>\n        <Link\n          to=\"/deposit\"\n          className={clsx(classes.link, {\n            [classes.active]: isDeposit,\n          })}\n        >\n          Deposit\n        </Link>\n        <Link\n          to=\"/withdraw\"\n          className={clsx(classes.link, {\n            [classes.active]: isWithdraw,\n          })}\n        >\n          Withdraw\n        </Link>\n\n      </div>\n    </div>\n  );\n});\n","import React from 'react';\nimport * as ethers from 'ethers';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Paper, Button, TextField } from '@material-ui/core';\nimport { useWallet } from '../contexts/wallet';\nimport { useNotifications } from '../contexts/notifications';\nimport { formatUnits } from '../utils/big-number';\nimport { BORDER_RADIUS, EMPTY_CALL_DATA } from '../config';\nimport { useStats } from '../contexts/stats';\n\nexport const useStyles = makeStyles(theme => ({\n  container: {\n    '& a': {\n      color: theme.palette.secondary.main,\n    },\n    '& .MuiInputLabel-shrink': {\n      right: 0,\n      transform: 'translate(0, 1.5px) scale(1)',\n      transformOrigin: 'top left',\n      fontSize: 12,\n    },\n  },\n  maxButton: {\n    height: 35,\n  },\n  withdrawButton: {\n    width: 200,\n  },\n  rewards: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1,\n    padding: 20,\n    borderRadius: BORDER_RADIUS,\n    background: theme.palette.isDark ? '#555' : '#fff',\n    color: theme.palette.isDark ? 'white' : '#373836',\n  },\n  stats: {\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr',\n    columnGap: '10px',\n  },\n}));\n\nexport default function() {\n  const classes = useStyles();\n\n  const {\n    startConnecting: startConnectingWallet,\n    signer,\n    address,\n    stakingContract,\n    lpContract,\n    lpDecimals,\n    goatDecimals,\n    lpName,\n  } = useWallet();\n  const { availableGoatRewards, availableCakeRewards } = useStats();\n\n  const [isWithdrawing, setIsWithdrawing] = React.useState(false);\n\n  const [totalStakedFor, setTotalStakedFor] = React.useState(\n    ethers.BigNumber.from('0')\n  );\n\n  const { showTxNotification, showErrorNotification } = useNotifications();\n  const [inputAmount, setInputAmount] = React.useState(0);\n  const [withdrawMaxAmount, setWithdrawMaxAmount] = React.useState(false);\n  const [maxWithdrawAmount, setMaxWithdrawAmount] = React.useState(\n    ethers.BigNumber.from('0')\n  );\n  const withdrawAmount = React.useMemo(() => {\n    let inputAmountBN;\n    try {\n      inputAmountBN = ethers.utils.parseUnits(\n        inputAmount.toString(),\n        lpDecimals\n      );\n    } catch (e) {\n      inputAmountBN = ethers.BigNumber.from('0');\n    }\n    return withdrawMaxAmount ? maxWithdrawAmount : inputAmountBN;\n  }, [inputAmount, maxWithdrawAmount, withdrawMaxAmount, lpDecimals]);\n\n  const onConnectOrWithdraw = async () => {\n    !signer ? startConnectingWallet() : withdraw();\n  };\n\n  const withdraw = async () => {\n    try {\n      if (withdrawAmount.isZero())\n        return showErrorNotification('Enter withdrawal amount.');\n      if (!withdrawMaxAmount && withdrawAmount.gt(maxWithdrawAmount)) {\n        return showErrorNotification(\n          'You are trying to withdraw more than you deposited.'\n        );\n      }\n      setIsWithdrawing(true);\n      const tx = await stakingContract.exit();\n      showTxNotification(`Withdrawing ${lpName}`, tx.hash);\n      await tx.wait();\n      showTxNotification(`Withdrew ${lpName}`, tx.hash);\n      await onSetWithdrawMaxAmount();\n    } catch (e) {\n      showErrorNotification(e);\n    } finally {\n      setIsWithdrawing(false);\n    }\n  };\n\n  const onSetWithdrawAmount = e => {\n    setWithdrawMaxAmount(false);\n    setInputAmount(e.target.value);\n  };\n\n  const onSetWithdrawMaxAmount = async () => {\n    if (!(stakingContract && address)) return;\n    const totalStakedFor = await stakingContract.balanceOf(address);\n    setTotalStakedFor(totalStakedFor);\n    setInputAmount(formatUnits(totalStakedFor, 18, 18));\n    setWithdrawMaxAmount(true);\n    setMaxWithdrawAmount(totalStakedFor);\n  };\n\n  React.useEffect(() => {\n    onSetWithdrawMaxAmount();\n  }, [stakingContract, address]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className={classes.container}>\n      {!lpName ? null : (\n        <div className={'flex'}>\n          <TextField\n            id=\"amount\"\n            value={inputAmount}\n            label={\n              <div className=\"flex flex-grow justify-space\">\n                <div className=\"flex-grow\">Withdraw Amount ({lpName})</div>\n                <div>\n                  Deposited: {formatUnits(totalStakedFor, 18)} {lpName}\n                </div>\n              </div>\n            }\n            type=\"number\"\n            step=\"any\"\n            className={classes.input}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            fullWidth\n            onChange={onSetWithdrawAmount}\n          />\n\n          <Box className=\"flex items-end\" pl={2}>\n            <Button\n              color=\"default\"\n              variant=\"outlined\"\n              onClick={onSetWithdrawMaxAmount}\n              disabled={!(lpContract && address)}\n              className={classes.maxButton}\n            >\n              MAX\n            </Button>\n          </Box>\n        </div>\n      )}\n\n      <Box mt={2} className={classes.stats}>\n        <Paper className={clsx(classes.rewards)}>\n          <div>Amount to Withdraw:</div>\n          <div>\n            ≈ {formatUnits(totalStakedFor, lpDecimals)} {lpName}\n          </div>\n        </Paper>\n\n        <Paper className={clsx(classes.rewards)}>\n          <div>Rewards Earned:</div>\n          <div>{formatUnits(availableGoatRewards, goatDecimals)} GOAT</div>\n        </Paper>\n      </Box>\n\n      <Box mt={2}>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          disabled={isWithdrawing}\n          onClick={onConnectOrWithdraw}\n          className={classes.withdrawButton}\n        >\n          {isWithdrawing\n            ? 'Withdrawing...'\n            : !signer\n            ? 'Connect Wallet'\n            : 'Withdraw'}\n        </Button>\n      </Box>\n    </div>\n  );\n}\n","import { promisify } from 'util';\n\nexport default ms => promisify(setTimeout);\n","import React from 'react';\nimport Promise from 'bluebird';\nimport * as ethers from 'ethers';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ERC20_CONTRACT_ABI from '../abis/erc20.json';\nimport { formatUnits } from '../utils/big-number';\nimport { useWallet } from '../contexts/wallet';\nimport sleep from '../utils/sleep';\n\nconst useStyles = makeStyles(theme => ({\n  container: {},\n}));\n\nexport default function({ header, isETH, tokenAddress }) {\n  const { signer } = useWallet();\n  return !signer ? null : isETH ? (\n    <ETH {...{ header }} />\n  ) : (\n    <ERC20 {...{ header, tokenAddress }} />\n  );\n}\n\nfunction ETH({ header }) {\n  const classes = useStyles();\n  const { signer } = useWallet();\n  const [balance, setBalance] = React.useState(ethers.BigNumber.from('0'));\n\n  const load = async () => {\n    setBalance(await signer.getBalance());\n  };\n\n  const subscribe = () => {\n    const eventName = 'block';\n    signer.provider.on(eventName, load);\n    return () => {\n      signer.provider.off(eventName, load);\n    };\n  };\n\n  React.useEffect(() => {\n    load();\n    return subscribe(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    balance && (\n      <div className={classes.container}>\n        {header}: {formatUnits(balance, 18)} ETH\n      </div>\n    )\n  );\n}\n\nfunction ERC20({ header, tokenAddress }) {\n  const classes = useStyles();\n  const [balance, setBalance] = React.useState(ethers.BigNumber.from('0'));\n  const [decimals, setDecimals] = React.useState(null);\n  const [symbol, setSymbol] = React.useState(null);\n  const { address, signer } = useWallet();\n\n  const contract = React.useMemo(\n    () =>\n      signer &&\n      tokenAddress &&\n      new ethers.Contract(tokenAddress, ERC20_CONTRACT_ABI, signer),\n    [tokenAddress, signer]\n  );\n\n  const onBalanceChange = async (from, to) => {\n    if (from === address || to === address) {\n      await sleep(500);\n      setBalance(await contract.balanceOf(address));\n    }\n  };\n\n  const load = async () => {\n    if (!(contract && address)) return;\n    const [decimals, symbol, balance] = await Promise.all([\n      contract.decimals(),\n      contract.symbol(),\n      contract.balanceOf(address),\n    ]);\n    setDecimals(decimals);\n    setSymbol(symbol);\n    setBalance(balance);\n  };\n\n  const subscribe = () => {\n    if (!contract) return () => {};\n    const transferEvent = contract.filters.Transfer();\n    contract.on(transferEvent, onBalanceChange);\n    return () => {\n      contract.off(transferEvent, onBalanceChange);\n    };\n  };\n\n  React.useEffect(() => {\n    load();\n    return subscribe(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [contract, address]);\n\n  return (\n    symbol &&\n    decimals &&\n    balance && (\n      <div className={classes.container}>\n        {header}: {formatUnits(balance, decimals)} {symbol.toUpperCase()}\n      </div>\n    )\n  );\n}\n","import React from 'react';\nimport * as ethers from 'ethers';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport {\n  Box,\n  Paper,\n  Button,\n  TextField,\n  Stepper,\n  Step,\n  StepLabel,\n  Typography,\n} from '@material-ui/core';\nimport { STAKING_ADDRESS, useWallet } from '../contexts/wallet';\nimport { useNotifications } from '../contexts/notifications';\nimport Balance from '../components/Balance';\nimport {\n  formatUnits,\n  // Big,\n  isZero,\n  // toFixed\n} from '../utils/big-number';\nimport { BORDER_RADIUS, EMPTY_CALL_DATA } from '../config';\nimport ERC20_CONTRACT_ABI from '../abis/erc20.json';\nimport sleep from '../utils/sleep';\n// import { useStats } from 'contexts/stats';\n\nexport const useStyles = makeStyles(theme => ({\n  container: {\n    '& a': {\n      color: theme.palette.secondary.main,\n    },\n    '& .MuiInputLabel-shrink': {\n      right: 0,\n      transform: 'translate(0, 1.5px) scale(1)',\n      transformOrigin: 'top left',\n      fontSize: 12,\n    },\n  },\n  maxButton: {\n    height: 35,\n  },\n  depositButton: {\n    width: 200,\n  },\n  rewards: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1,\n    padding: 20,\n    borderRadius: BORDER_RADIUS,\n    background: '#555',\n    color: 'white',\n  },\n}));\n\nconst STEPS = ['Get Liquidity Pool Tokens', 'Stake'];\n\nexport default withRouter(function() {\n  const classes = useStyles();\n  const activeStep = ~window.location.hash.indexOf('2') ? 1 : 0;\n\n  return (\n    <Box className={classes.container}>\n      <Stepper activeStep={activeStep}>\n        {STEPS.map(label => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n\n      <Box mx={5} mb={4}>\n        <Switch>\n          <Route exact path={'/deposit/2'} component={Deposit} />\n          <Route exact path={'/deposit/1'} component={GetLPTokens} />\n          <Redirect to={'/deposit/1'} />\n        </Switch>\n      </Box>\n    </Box>\n  );\n});\n\nfunction GetLPTokens({ history }) {\n  const classes = useStyles();\n  const {\n    startConnecting: startConnectingWallet,\n    lpName,\n    lpAddress,\n    lpDecimals,\n    goatAddress,\n    address,\n    signer,\n  } = useWallet();\n  const [balance, setBalance] = React.useState(ethers.BigNumber.from('0'));\n\n  const contract = React.useMemo(\n    () =>\n      signer &&\n      lpAddress &&\n      new ethers.Contract(lpAddress, ERC20_CONTRACT_ABI, signer),\n    [lpAddress, signer]\n  );\n\n  const onBalanceChange = async (from, to) => {\n    if (from === address || to === address) {\n      await sleep(500);\n      setBalance(await contract.balanceOf(address));\n    }\n  };\n\n  const connectWalletOrNext = async () => {\n    !address ? startConnectingWallet() : history.push('/deposit/2');\n  };\n\n  const load = async () => {\n    if (!(contract && address)) return;\n    const balance = await contract.balanceOf(address);\n    setBalance(balance);\n  };\n\n  const subscribe = () => {\n    if (!contract) return () => {};\n    const transferEvent = contract.filters.Transfer();\n    contract.on(transferEvent, onBalanceChange);\n    return () => {\n      contract.off(transferEvent, onBalanceChange);\n    };\n  };\n\n  React.useEffect(() => {\n    load();\n    return subscribe(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [contract, address]);\n\n  return !(goatAddress && lpAddress) ? null : (\n    <>\n      {!address ? null : (\n        <Box mt={2}>\n          <Typography variant=\"h5\">\n            You have ≈ {formatUnits(balance, lpDecimals)} {lpName} Tokens.\n          </Typography>\n        </Box>\n      )}\n\n      <Box mt={2}>\n        Get {!address ? `Liquidity Pool Tokens (${lpName})` : 'more'} by\n        providing liquidity to the GOAT-BNB Pool over{' '}\n        <a\n          href={`https://exchange.pancakeswap.finance/#/add/ETH/${goatAddress}`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          here\n        </a>\n        .\n      </Box>\n\n      <Box mt={2}>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={connectWalletOrNext}\n          className={classes.depositButton}\n        >\n          {!address ? 'Connect Wallet' : 'Stake →'}\n        </Button>\n      </Box>\n    </>\n  );\n}\n\nfunction Deposit() {\n  const classes = useStyles();\n\n  const {\n    startConnecting: startConnectingWallet,\n    signer,\n    address,\n    stakingContract,\n    lpContract,\n    lpDecimals,\n    lpName,\n    lpAddress,\n  } = useWallet();\n\n  // const {\n  //   monthlyUnlockRate,\n  //   totalStakingShares,\n  //   totalStaked,\n  //   totalStakingShareSeconds,\n  //   totalStakedFor,\n  //   userStakingShareSeconds,\n  //   stakingEndSec,\n  // } = useStats();\n\n  const [isApproving, setIsApproving] = React.useState(false);\n  const [isApproved, setIsApproved] = React.useState(false);\n  const [isDepositing, setIsDepositing] = React.useState(false);\n\n  const { showTxNotification, showErrorNotification } = useNotifications();\n  const [inputAmount, setInputAmount] = React.useState(0);\n  const [depositMaxAmount, setDepositMaxAmount] = React.useState(false);\n  const [maxDepositAmount, setMaxDepositAmount] = React.useState(\n    ethers.BigNumber.from('0')\n  );\n  const depositAmount = React.useMemo(() => {\n    let inputAmountBN;\n    try {\n      inputAmountBN = ethers.utils.parseUnits(\n        inputAmount.toString(),\n        lpDecimals\n      );\n    } catch (e) {\n      inputAmountBN = ethers.BigNumber.from('0');\n    }\n    return depositMaxAmount ? maxDepositAmount : inputAmountBN;\n  }, [inputAmount, maxDepositAmount, depositMaxAmount, lpDecimals]);\n\n  const onConnectOrApproveOrDeposit = async () => {\n    if (!signer) {\n      return startConnectingWallet();\n    }\n    !isApproved ? approve() : deposit();\n  };\n\n  const approve = async () => {\n    try {\n      setIsApproving(true);\n      const tx = await lpContract.approve(STAKING_ADDRESS, depositAmount);\n      showTxNotification(`Approving ${lpName}`, tx.hash);\n      await tx.wait();\n      showTxNotification(`Approved ${lpName}`, tx.hash);\n      await checkAllowance();\n    } catch (e) {\n      showErrorNotification(e);\n    } finally {\n      setIsApproving(false);\n    }\n  };\n\n  const deposit = async () => {\n    try {\n      if (depositAmount.isZero())\n        return showErrorNotification('Enter deposit amount.');\n      if (!depositMaxAmount && depositAmount.gt(maxDepositAmount)) {\n        return showErrorNotification(\n          'You are trying to deposit more than your actual balance.'\n        );\n      }\n      setIsDepositing(true);\n      const tx = await stakingContract.stake(depositAmount);\n      showTxNotification(`Depositing ${lpName}`, tx.hash);\n      await tx.wait();\n      showTxNotification(`Deposited ${lpName}`, tx.hash);\n      onSetDepositMaxAmount();\n    } catch (e) {\n      showErrorNotification(e);\n    } finally {\n      setIsDepositing(false);\n    }\n  };\n\n  const checkAllowance = async () => {\n    if (!(lpContract && address)) return setIsApproved(true);\n    const allowance = await lpContract.allowance(address, STAKING_ADDRESS);\n    setIsApproved(allowance.gte(depositAmount));\n  };\n\n  // const monthlyGoatRewards = React.useMemo(() => {\n  //   if (\n  //     !(\n  //       depositAmount &&\n  //       !isZero(monthlyUnlockRate) &&\n  //       !isZero(totalStakingShares) &&\n  //       !isZero(totalStaked) &&\n  //       totalStakingShareSeconds &&\n  //       totalStakedFor &&\n  //       userStakingShareSeconds &&\n  //       lpDecimals &&\n  //       stakingEndSec\n  //     )\n  //   )\n  //     return Big('0');\n\n  //   const n = Big(depositAmount).div(10 ** lpDecimals);\n  //   if (isZero(n)) return Big('0');\n\n  //   const r = Big(2592e3);\n  //   const t = {\n  //     totalStakingShares,\n  //     totalStaked: totalStaked.div(10 ** lpDecimals),\n  //     totalStakingShareSeconds,\n  //   };\n  //   const e = {\n  //     totalStakedFor: totalStakedFor.div(10 ** lpDecimals),\n  //     userStakingShareSeconds,\n  //   };\n  //   const i = e.totalStakedFor.mul(t.totalStakingShares).div(t.totalStaked);\n  //   const o = n.mul(t.totalStakingShares).div(t.totalStaked);\n  //   const a1 = e.userStakingShareSeconds.add(i.add(o).mul(r));\n  //   const a2 = t.totalStakingShareSeconds.add(\n  //     t.totalStakingShares.add(o).mul(r)\n  //   );\n  //   const a = a1.div(a2);\n\n  //   // console.log(\n  //   //   Object.entries({\n  //   //     totalStakingShares: t.totalStakingShares,\n  //   //     totalStaked: t.totalStaked,\n  //   //     totalStakingShareSeconds: t.totalStakingShareSeconds,\n  //   //     totalStakedFor: e.totalStakedFor,\n  //   //     userStakingShareSeconds: e.userStakingShareSeconds,\n  //   //   }).reduce((r, [k, v]) => {\n  //   //     r[k] = v.toString();\n  //   //     return r;\n  //   //   }, {})\n  //   // );\n  //   // console.log(n.toString(), a.toString(), monthlyUnlockRate.toString());\n\n  //   let estimate = a.mul(monthlyUnlockRate).div(100);\n  //   if (moment.utc().isAfter(moment.unix(stakingEndSec))) {\n  //     estimate = estimate.mul(stakingEndSec).div(r);\n  //   }\n  //   return estimate;\n  // }, [\n  //   depositAmount,\n  //   monthlyUnlockRate,\n  //   totalStakingShares,\n  //   totalStaked,\n  //   totalStakingShareSeconds,\n  //   totalStakedFor,\n  //   userStakingShareSeconds,\n  //   lpDecimals,\n  //   stakingEndSec,\n  // ]);\n\n  const onSetDepositAmount = event => {\n    setDepositMaxAmount(false);\n    setInputAmount(event.target.value);\n  };\n\n  const onSetDepositMaxAmount = async () => {\n    if (!(lpContract && address)) return;\n    const depositAmount = await lpContract.balanceOf(address);\n    if (isZero(depositAmount)) return;\n    setInputAmount(formatUnits(depositAmount, lpDecimals, 18));\n    setDepositMaxAmount(true);\n    setMaxDepositAmount(depositAmount);\n  };\n\n  React.useEffect(() => {\n    checkAllowance();\n  }, [lpContract, address, depositAmount]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  React.useEffect(() => {\n    onSetDepositMaxAmount();\n  }, [lpContract, address]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      {!lpName ? null : (\n        <div className={'flex'}>\n          <TextField\n            id=\"amount\"\n            value={inputAmount}\n            label={\n              <div className=\"flex flex-grow justify-space\">\n                <div className=\"flex-grow\">Deposit Amount ({lpName})</div>\n                <div>\n                  <Balance header=\"Available\" tokenAddress={lpAddress} />\n                </div>\n              </div>\n            }\n            type=\"number\"\n            step=\"any\"\n            className={classes.input}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            fullWidth\n            onChange={onSetDepositAmount}\n          />\n\n          <Box className=\"flex items-end\" pl={2}>\n            <Button\n              color=\"default\"\n              variant=\"outlined\"\n              onClick={onSetDepositMaxAmount}\n              disabled={!(lpContract && address)}\n              className={classes.maxButton}\n            >\n              MAX\n            </Button>\n          </Box>\n        </div>\n      )}\n\n      <Box mt={2}>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          disabled={isDepositing || isApproving}\n          onClick={onConnectOrApproveOrDeposit}\n          className={classes.depositButton}\n        >\n          {isDepositing\n            ? 'Depositing...'\n            : isApproving\n            ? 'Approving...'\n            : !signer\n            ? 'Connect Wallet'\n            : !isApproved\n            ? 'Approve'\n            : 'Deposit'}\n        </Button>\n      </Box>\n    </>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Paper } from '@material-ui/core';\nimport { BORDER_RADIUS } from '../config';\nimport { toFixed, isZero } from '../utils/big-number';\nimport { useStats } from '../contexts/stats';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'grid',\n    gridTemplateRows: '1fr 1fr 1fr',\n    gridTemplateColumns: '1fr 1fr',\n    columnGap: '10px',\n    rowGap: '10px',\n  },\n  box: {\n    display: 'flex',\n    flexGrow: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    padding: 20,\n    borderRadius: BORDER_RADIUS,\n    background: theme.palette.isDark ? '#555' : '#fff',\n    color: theme.palette.isDark ? 'white' : '#373836',\n  },\n}));\n\nexport default function() {\n  const classes = useStyles();\n\n  const { totalUSDDeposits, stakingEndSec } = useStats();\n\n  const stats = React.useMemo(\n    () => [\n      {\n        name: 'Total Deposits',\n        value: [`${toFixed(totalUSDDeposits, 1, 2)} USD`],\n      },\n\n      {\n        name: 'Program duration',\n        value: [<Countdown to={stakingEndSec} />],\n      },\n    ],\n    [totalUSDDeposits, stakingEndSec]\n  );\n\n  return (\n    <Box className={clsx(classes.container)}>\n      {stats.map(s => (\n        <StatBox key={s.name} {...s} />\n      ))}\n    </Box>\n  );\n}\n\nfunction StatBox({ name, value }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={clsx(classes.box)}>\n      <div>{name}</div>\n      <div>\n        {value.map((v, i) => (\n          <div key={i}>{v}</div>\n        ))}\n      </div>\n    </Paper>\n  );\n}\n\nfunction Countdown({ to }) {\n  const [duration, setDuration] = React.useState('-');\n\n  React.useEffect(() => {\n    if (isZero(to)) return;\n    let id = setInterval(() => {\n      if (moment.unix(to).isBefore(moment.utc())) {\n        setDuration('Ended');\n        clearInterval(id);\n        id = null;\n        return;\n      }\n      setDuration(`${moment.unix(to).from(moment.utc(), true)} left`);\n    }, 1000);\n    return () => {\n      if (id) clearInterval(id);\n    };\n  }, [to]);\n\n  return <div>{duration}</div>;\n}\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nexport default function({\n  size = 40,\n  opacity = 1,\n  fullscreen,\n  color = 'inherit',\n}) {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100%',\n        ...(fullscreen\n          ? {\n              position: 'fixed',\n              left: 0,\n              right: 0,\n              top: 0,\n              bottom: 0,\n            }\n          : {}),\n        zIndex: 1000,\n        opacity,\n      }}\n    >\n      <div style={{ position: 'relative' }}>\n        <CircularProgress\n          style={{ position: 'relative' }}\n          left={0}\n          top={0}\n          {...{ size, color }}\n          status=\"Drinking goat some milk\"\n        />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Dialog,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Button,\n} from '@material-ui/core';\nimport { Close as Icon } from '@material-ui/icons';\nimport { formatUnits } from '../utils/big-number';\nimport { useNotifications } from '../contexts/notifications';\nimport { useWallet } from '../contexts/wallet';\nimport Loader from '../components/Loader';\nimport { useBonuses } from '../contexts/bonuses';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    width: 500,\n    height: 400,\n    padding: '0 20px 10px',\n    lineHeight: '1.5rem',\n  },\n  x: {\n    position: 'absolute',\n    top: 5,\n    right: 5,\n    cursor: 'pointer',\n  },\n}));\n\nexport default function({ history }) {\n  const classes = useStyles();\n  const { drops, isLoaded } = useBonuses();\n\n  const close = () => history.push('/');\n\n  return (\n    <Dialog onClose={close} aria-labelledby=\"bonus\" open={true}>\n      <div className={clsx('flex', 'flex-grow', 'flex-col', classes.container)}>\n        <>\n          <div className={classes.x}>\n            <Icon style={{ fontSize: 20 }} onClick={close} />\n          </div>\n          <h3>Claim Bonuses</h3>\n\n          {!isLoaded ? (\n            <Loader />\n          ) : (\n            <Table className={classes.tablex} aria-label=\"Bonus\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>Date</TableCell>\n                  <TableCell>Amount</TableCell>\n                  <TableCell align=\"right\"></TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {drops.map(drop => (\n                  <Drop key={drop.date} {...drop} />\n                ))}\n              </TableBody>\n            </Table>\n          )}\n        </>\n      </div>\n    </Dialog>\n  );\n}\n\nfunction Drop({ date, canClaim, didClaim, contract, claimInfo }) {\n  const classes = useStyles();\n  const [isWorking, setIsWorking] = React.useState(null);\n  const { address } = useWallet();\n  const { tx } = useNotifications();\n\n  const claim = async () => {\n    setIsWorking('Claiming...');\n    try {\n      await tx('Claiming...', 'Claimed!', () =>\n        contract.claim(\n          claimInfo.index,\n          address,\n          claimInfo.amount,\n          claimInfo.proof\n        )\n      );\n    } finally {\n      setIsWorking(false);\n    }\n  };\n\n  return (\n    <TableRow className={classes.rowx}>\n      <TableCell component=\"th\" scope=\"row\">\n        {date}\n      </TableCell>\n      <TableCell>\n        {canClaim ? formatUnits(parseInt(Number(claimInfo.amount), 10), 18) : 0}{' '}\n        BNB\n      </TableCell>\n      <TableCell align=\"right\">\n        <Button\n          color=\"secondary\"\n          variant=\"outlined\"\n          onClick={claim}\n          disabled={!!isWorking || !canClaim || didClaim}\n        >\n          {isWorking ? isWorking : didClaim ? 'CLAIMED' : 'CLAIM'}\n        </Button>\n      </TableCell>\n    </TableRow>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Dialog } from '@material-ui/core';\nimport { Close as Icon } from '@material-ui/icons';\nimport { useWallet } from '../contexts/wallet';\nimport { NETWORK_NAME } from '../config';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    width: 350,\n    padding: '0 20px 10px',\n    lineHeight: '1.5rem',\n    '& button': {\n      width: '100%',\n      padding: '10px 0',\n      marginTop: 20,\n      fontSize: 18,\n    },\n  },\n  x: {\n    position: 'absolute',\n    top: 5,\n    right: 5,\n    cursor: 'pointer',\n  },\n  wallet: {\n    display: 'flex',\n    alignItems: 'center',\n    cursor: 'pointer',\n    margin: '10px 0',\n    '& img': {\n      marginRight: 15,\n    },\n    '&:hover': {\n      opacity: 0.8,\n    },\n  },\n  net: {\n    color: theme.palette.secondary.main,\n  },\n}));\n\nexport default function() {\n  const classes = useStyles();\n  const wallet = useWallet();\n\n  return (\n    <Dialog\n      onClose={() => {}}\n      aria-labelledby=\"wrong-network-prompt\"\n      open={wallet.isOnWrongNetwork || wallet.isConnecting}\n    >\n      <div className={clsx('flex', 'flex-grow', 'flex-col', classes.container)}>\n        {!wallet.isOnWrongNetwork ? (\n          <>\n            <div className={classes.x}>\n              <Icon style={{ fontSize: 20 }} onClick={wallet.stopConnecting} />\n            </div>\n            <h3>Connect Wallet</h3>\n            <div className={clsx('flex', 'flex-col')}>\n              <div\n                onClick={wallet.connectMetamask}\n                className={clsx(classes.wallet)}\n              >\n                <img\n                  src=\"wallets/metamask.svg\"\n                  width=\"35\"\n                  height=\"35\"\n                  alt=\"metamask wallet\"\n                />\n                <div>Metamask</div>\n              </div>\n              <div onClick={wallet.connectBsc} className={clsx(classes.wallet)}>\n                <img\n                  src=\"wallets/bsc.png\"\n                  width=\"35\"\n                  height=\"35\"\n                  alt=\"bsc wallet\"\n                />\n                <div>Binance Wallet</div>\n              </div>\n              <div\n                onClick={wallet.connectTrust}\n                className={clsx(classes.wallet)}\n              >\n                <img\n                  src=\"wallets/trust.svg\"\n                  width=\"35\"\n                  height=\"35\"\n                  alt=\"trust wallet\"\n                />\n                <div>Trust Wallet</div>\n              </div>\n            </div>\n          </>\n        ) : (\n          <Box\n            mt={2}\n            className={clsx(\n              'flex',\n              'flex-col',\n              'items-center',\n              'justify-center',\n              'text-center'\n            )}\n          >\n            <div>You are connected to the wrong network</div>\n            <strong>\n              Please connect to Binance Smart Chain{' '}\n              <span className={classes.net}>{NETWORK_NAME}</span>\n            </strong>\n            <div>or</div>\n            <div className=\"cursor-pointer\" onClick={wallet.disconnect}>\n              disconnect\n            </div>\n          </Box>\n        )}\n      </div>\n    </Dialog>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport { Paper, Box } from '@material-ui/core';\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n  Link,\n} from 'react-router-dom';\nimport { BORDER_RADIUS, ROUTER_BASE_NAME } from '../config';\nimport Header from './Header';\nimport TopStats from './TopStats';\nimport Nav from './Nav';\nimport Withdraw from './Withdraw';\nimport Deposit from './Deposit';\nimport Stats from './Stats';\nimport Bonus from './Bonus';\nimport ConnectWallet from './ConnectWallet';\nimport { useBonuses } from '../contexts/bonuses';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    width: '960px',\n    margin: '0 auto',\n    padding: '100px 0 30px',\n    position: 'relative',\n    [theme.breakpoints.down('sm')]: {\n      padding: '70px 0 10px',\n      width: 'auto',\n    },\n  },\n  paper: {\n    borderRadius: BORDER_RADIUS,\n  },\n  tabContent: {\n    padding: 20,\n  },\n  announcement: {\n    color: theme.palette.isDark ? '#aaa' : '#777',\n  },\n  announcementHere: {\n    color: theme.palette.isDark ? '#ddd' : '#888',\n  },\n}));\n\nexport default function App() {\n  const classes = useStyles();\n  const { hasPendingBonusClaim } = useBonuses();\n\n  return (\n    <Box className={classes.container}>\n      <Router basename={ROUTER_BASE_NAME}>\n        <Header />\n        <TopStats />\n        <Paper className={classes.paper}>\n          <Nav />\n          <Box className={classes.tabContent}>\n            <Switch>\n              <Route path={'/deposit'} component={Deposit} /> \n              <Route exact path={'/withdraw'} component={Withdraw} />\n              <Route exact path={'/stats'} component={Stats} />\n              <Route exact path={'/bonus'} component={Bonus} />\n              <Redirect to={'/deposit'} />\n            </Switch>\n          </Box>\n        </Paper>\n        <ConnectWallet />\n      </Router>\n    </Box>\n  );\n}\n","import './styles';\n\nimport React from 'react';\nimport { render } from 'react-dom';\nimport {\n  ThemeProvider as MuiThemeProvider,\n  makeStyles,\n} from '@material-ui/core/styles';\nimport { CssBaseline } from '@material-ui/core';\nimport { SnackbarProvider } from 'notistack';\n\nimport { ThemeProvider, useTheme, useMuiTheme } from './contexts/theme';\nimport { WalletProvider } from './contexts/wallet';\nimport { NotificationsProvider } from './contexts/notifications';\nimport { StatsProvider } from './contexts/stats';\nimport { BonusesProvider } from './contexts/bonuses';\nimport Notification from './components/Notification';\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './pages/App';\n\nconst useStyles = makeStyles(theme => ({\n  snackbar: {\n    top: 70,\n  },\n}));\n\n(async () => {\n  document.documentElement.classList.remove('boot-loader');\n  document.getElementById('loader-container').remove();\n  const root = document.createElement('div');\n  root.setAttribute('id', 'root');\n  document.body.appendChild(root);\n\n  render(\n    <ThemeProvider>\n      <Shell />\n    </ThemeProvider>,\n    document.getElementById('root')\n  );\n})();\n\nfunction Shell() {\n  const classes = useStyles();\n  const { isDark } = useTheme();\n  const muiTheme = useMuiTheme();\n\n  React.useEffect(() => {\n    const root = document.documentElement;\n    if (root.classList.contains(isDark ? 'light' : 'dark')) {\n      root.classList.remove(isDark ? 'light' : 'dark');\n      root.classList.add(isDark ? 'dark' : 'light');\n    }\n  }, [isDark]);\n\n  return (\n    <MuiThemeProvider theme={muiTheme}>\n      <CssBaseline />\n      <SnackbarProvider\n        classes={{ root: classes.snackbar }}\n        maxSnack={4}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        content={(key, data) => (\n          <div>\n            <Notification id={key} notification={data} />\n          </div>\n        )}\n      >\n        <NotificationsProvider>\n          <WalletProvider>\n            <StatsProvider>\n              <BonusesProvider>\n                <App />\n              </BonusesProvider>\n            </StatsProvider>\n          </WalletProvider>\n        </NotificationsProvider>\n      </SnackbarProvider>\n    </MuiThemeProvider>\n  );\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}