{"version":3,"sources":["config.js","utils/cache.js","contexts/theme.js","contexts/wallet.js","contexts/notifications.js","utils/big-number.js","utils/request.js","contexts/stats.js","contexts/bonuses.js","components/Notification.js","serviceWorker.js","pages/Header.js","components/Paper.js","pages/TopStats.js","pages/Nav.js","pages/Withdraw.js","utils/sleep.js","components/Balance.js","pages/Deposit.js","pages/Stats.js","components/Loader.js","pages/Bonus.js","pages/ConnectWallet.js","pages/App.js","index.js"],"names":["NETWORKS","56","stakingAddress","window","location","href","indexOf","drops","Map","97","ROUTER_BASE_NAME","process","REACT_APP_ROUTER_BASE_NAME","NETWORK","API_URL","REACT_APP_API_URL","cache","k","v","arguments","length","localStorage","removeItem","setItem","JSON","stringify","parse","getItem","e","ThemeContext","React","createContext","ThemeProvider","children","useState","theme","setTheme","Provider","value","toggleTheme","newTheme","useTheme","context","useContext","Error","getProps","isDark","secondaryColor","READ_PROVIDER","ethers","providers","JsonRpcProvider","STAKING_ADDRESS","READ_STAKING_CONTRACT","Contract","STAKING_ABI","WalletContext","WalletProvider","isLoaded","setIsLoaded","isConnecting","setIsConnecting","chainId","setChainId","lpName","lpAddress","setLpAddress","lpDecimals","goatAddress","setGoatAddress","goatDecimals","wrappedBNBDecimals","signer","setSigner","address","setAddress","isOnWrongNetwork","useMemo","stakingContract","lpContract","LP_ABI","goatContract","ERC20_ABI","wrappedBNBContract","stopConnecting","connectToCached","a","cachedWallet","metamask","connectMetamask","bsc","connectBsc","trust","connectTrust","ethereum","enable","setProvider","BinanceChain","isTrust","web3Provider","on","reload","provider","Web3Provider","getNetwork","c","forEach","o","parseInt","getSigner","getAddress","Promise","all","stakingToken","rewardsToken","useEffect","load","cakeDecimals","startConnecting","disconnect","useWallet","config","cakeContract","cakeAddress","NotificationsContext","NotificationsProvider","enqueueSnackbar","useSnackbar","showTxNotification","description","hash","type","persist","showErrorNotification","msg","message","error","responseText","showSuccessNotification","title","tx","startNotification","endNotification","makeTx","wait","useNotifications","toformat","BigJs","toFixed","b","precision","isZero","Big","div","toFormat","formatUnits","decimals","pow","eq","n","toString","get","url","query","qs","fetch","json","api","GOAT_APY","StatsContext","max","t","gte","StatsProvider","totalStaked","totalLockedShares","unlockScheduleCount","totalStakingShares","totalLocked","totalSupply","setTotalSupply","startBonus","bonusPeriodSec","poolBNBBalance","setPoolBNBBalance","poolGoatBalance","setPoolGoatBalance","schedules","bnbUSDPrice","setBNBUSDPrice","goatUSDPrice","setGoatUSDPrice","availableGoatRewards","setAvailableGoatRewards","availableCakeRewards","totalStakedFor","setTotalStakedFor","totalStakingShareSeconds","setTotalStakingShareSeconds","userStakingShareSeconds","setUserStakingShareSeconds","totalUserRewards","setTotalUserRewards","totalUSDDeposits","A","p","m","w","E","T","C","O","mul","P","I","add","stakingEndSec","endAtSec","hourlyUnlockRate","Date","now","i","scheduleSharesEmittedPerHour","reduce","schedule","lte","min","sub","durationSec","initialLockedShares","apy","BNB_APY","rewardMultiplier","maxMultiplier","minMultiplier","z","gt","bnbPonusPoolSharePercentage","bnbPonusPoolShareAmount","loadPoolStats","balanceOf","getCoinUsdPrices","loadUserStats","earned","useStats","assetsCoinGeckoIds","request","ids","join","vs_currencies","prices","map","id","usd","BonusesContext","BonusesProvider","setDrops","hasPendingBonusClaim","filter","d","hasPendingClaim","isMounted","unsubs","dropsConfig","Array","from","entries","contractAddress","date","contract","DROP_ABI","loadDrops","loadDrop","ds","claimInfo","didClaim","canClaim","isClaimed","index","claimEvent","filters","Claimed","push","off","unsub","useBonuses","useStyles","makeStyles","paper","color","container","padding","display","textDecoration","icon","marginRight","close","position","top","right","cursor","background","success","small","fontSize","TYPES","TxIcon","notification","classes","className","target","rel","ErrorIcon","clsx","SuccessIcon","closeSnackbar","Content","Paper","onClick","Close","style","Boolean","hostname","match","boxShadow","palette","primary","main","account","breakpoints","down","Component","shortAddress","slice","AppBar","Toolbar","Typography","variant","Button","Tooltip","IconButton","aria-label","elevation","paddingTop","gridTemplateColumns","columnGap","box","flexGrow","flexDirection","boxTip","boxTitle","link","earnedGoatRewards","rewards","console","log","getReward","stats","name","Box","ml","src","alt","width","height","tip","s","StatBox","key","marginTop","backgroundColor","zIndex","borderTopLeftRadius","borderTopRightRadius","containerInner","justifyContent","borderBottom","active","borderBottomColor","secondary","withRouter","path","isDeposit","isWithdraw","to","transform","transformOrigin","maxButton","withdrawButton","borderRadius","startConnectingWallet","isWithdrawing","setIsWithdrawing","inputAmount","setInputAmount","withdrawMaxAmount","setWithdrawMaxAmount","maxWithdrawAmount","setMaxWithdrawAmount","withdrawAmount","inputAmountBN","parseUnits","onConnectOrWithdraw","withdraw","exit","onSetWithdrawMaxAmount","TextField","label","step","input","InputLabelProps","shrink","fullWidth","onChange","pl","disabled","mt","ms","promisify","setTimeout","header","isETH","tokenAddress","ETH","ERC20","balance","setBalance","getBalance","setDecimals","symbol","setSymbol","ERC20_CONTRACT_ABI","onBalanceChange","sleep","transferEvent","Transfer","subscribe","toUpperCase","depositButton","STEPS","activeStep","Stepper","Step","StepLabel","mx","mb","exact","component","Deposit","GetLPTokens","history","connectWalletOrNext","isApproving","setIsApproving","isApproved","setIsApproved","isDepositing","setIsDepositing","depositMaxAmount","setDepositMaxAmount","maxDepositAmount","setMaxDepositAmount","depositAmount","onConnectOrApproveOrDeposit","deposit","approve","checkAllowance","stake","onSetDepositMaxAmount","allowance","Balance","event","gridTemplateRows","rowGap","Countdown","duration","setDuration","setInterval","moment","unix","isBefore","utc","clearInterval","size","opacity","fullscreen","alignItems","left","bottom","CircularProgress","status","lineHeight","x","Dialog","onClose","aria-labelledby","open","Table","tablex","TableHead","TableRow","TableCell","align","TableBody","drop","Drop","Loader","isWorking","setIsWorking","claim","amount","proof","rowx","scope","Number","wallet","margin","net","tabContent","announcement","announcementHere","App","basename","TopStats","Nav","Withdraw","Stats","Bonus","ConnectWallet","snackbar","Shell","muiTheme","createMuiTheme","typography","fontFamily","borderColor","overrides","MuiButton","root","MuiPaper","rounded","MuiDialog","useMuiTheme","document","documentElement","classList","contains","remove","CssBaseline","maxSnack","anchorOrigin","vertical","horizontal","content","data","Notification","getElementById","createElement","setAttribute","body","appendChild","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"smiBAUaA,EAAW,CACtBC,GAAI,CACFC,iBAAiBC,OAAOC,SAASC,KAAKC,QAAQ,SAEzCH,OAAOC,SAASC,KAAKC,QAAQ,QAD9B,8CAIJC,QACGJ,OAAOC,SAASC,KAAKC,QAAQ,cAC7BH,OAAOC,SAASC,KAAKC,QAAQ,QAC1B,IAAIE,IAAI,CACN,CAAC,6CAA8C,kBAMzDC,GAAI,CACFP,eAAgB,KAePQ,EAAmBC,oHAAYC,2BAI/BC,EAAUb,EAb2B,IAerCc,EAAUH,oHAAYI,kBCjDpB,SAASC,EAAMC,EAAGC,GAC/B,OAAQC,UAAUC,QAChB,KAAK,EACH,OAAU,OAANF,EAAmBf,OAAOkB,aAAaC,WAAWL,GAC/Cd,OAAOkB,aAAaE,QAAQN,EAAGO,KAAKC,UAAUP,IAEvD,KAAK,EACH,IACE,OAAOM,KAAKE,MAAMvB,OAAOkB,aAAaM,QAAQV,IAC9C,MAAOW,GACP,OAAO,KAGT,QACE,QCTR,IAAMC,EAAeC,IAAMC,cAAc,MAElC,SAASC,EAAT,GAAsC,IAAbC,EAAY,EAAZA,SAAY,EAChBH,IAAMI,SAASlB,EAAM,UAAY,QADjB,mBACnCmB,EADmC,KAC5BC,EAD4B,KAW1C,OACE,kBAACP,EAAaQ,SAAd,CACEC,MAAO,CACLH,QACAI,YAZc,WAClBH,GAAS,SAAAD,GACP,IAAMK,EAAqB,SAAVL,EAAmB,QAAU,OAE9C,OADAnB,EAAM,QAASwB,GACRA,QAWNP,GAKA,SAASQ,IACd,IAAMC,EAAUZ,IAAMa,WAAWd,GACjC,IAAKa,EACH,MAAM,IAAIE,MAAM,yBAHO,IAKjBT,EAAuBO,EAAvBP,MAAOI,EAAgBG,EAAhBH,YACf,OAAO,aACLJ,QACAI,eACGM,EAASV,IAoDhB,SAASU,EAASV,GAChB,IAAMW,EAAmB,SAAVX,EAEf,MAAO,CAAEW,SAAQC,eADMD,EAAS,oBAAsB,W,sCChF3CE,EAAgB,IAAIC,IAAOC,UAAUC,gBHyB9C,yCGtB2BC,EAAoBvC,EAApCX,eACFmD,EAAwB,IAAIJ,IAAOK,SAC9CF,EACAG,EACAP,GAGIQ,EAAgB1B,IAAMC,cAAc,MAEnC,SAAS0B,EAAT,GAAuC,IAAbxB,EAAY,EAAZA,SAAY,EACXH,IAAMI,UAAS,GADJ,mBACpCwB,EADoC,KAC1BC,EAD0B,OAEH7B,IAAMI,UAAS,GAFZ,mBAEpC0B,EAFoC,KAEtBC,EAFsB,OAGb/B,IAAMI,SAAS,MAHF,mBAGpC4B,EAHoC,KAG3BC,EAH2B,OAK1BjC,IAAMI,SAAS,WAAzB8B,EALoC,sBAMTlC,IAAMI,SAAS,MANN,mBAMpC+B,EANoC,KAMzBC,EANyB,OAOtBpC,IAAMI,SAAS,IAA7BiC,EAPoC,sBASLrC,IAAMI,SAAS,MATV,mBASpCkC,EAToC,KASvBC,EATuB,OAUpBvC,IAAMI,SAAS,IAA/BoC,EAVoC,sBAYdxC,IAAMI,SAAS,IAArCqC,EAZoC,sBAcfzC,IAAMI,SAAS,MAdA,mBAcpCsC,EAdoC,KAc5BC,EAd4B,OAeb3C,IAAMI,SAAS,MAfF,mBAepCwC,EAfoC,KAe3BC,EAf2B,KAiBrCC,EAAmB9C,IAAM+C,SAC7B,kBAAMf,GHTwC,KGS7BA,IACjB,CAACA,IAGGgB,EAAkBhD,IAAM+C,SAC5B,kBACGL,EAEG,IAAIvB,IAAOK,SAASF,EAAiBG,EAAaiB,GADlDnB,IAEN,CAACmB,IAGGO,EAAajD,IAAM+C,SACvB,kBACEZ,GACA,IAAIhB,IAAOK,SAASW,EAAWe,EAAQR,GAAUxB,KACnD,CAACwB,EAAQP,IAGLgB,GAAenD,IAAM+C,SACzB,kBACET,GACA,IAAInB,IAAOK,SAASc,EAAac,EAAWV,GAAUxB,KACxD,CAACwB,EAAQJ,IAGLe,GAAqBrD,IAAM+C,SAC/B,kBACE,IAAI5B,IAAOK,SACT,6CACA4B,EACAV,GAAUxB,KAEd,CAACwB,IAIGY,GAAiB,kBAAMvB,GAAgB,IAvDF,SAyD5BwB,KAzD4B,8EAyD3C,4BAAAC,EAAA,0DACMZ,EADN,kDAGQa,EAAevE,EHjFO,YGmFhB,CACRwE,SAAUC,GACVC,IAAKC,GACLC,MAAOC,IAEPN,KAVN,4CAzD2C,+BAuE5BE,KAvE4B,8EAuE3C,sBAAAH,EAAA,sEACQnF,OAAO2F,SAASC,SADxB,cAEE/E,EH9F4B,SG8FJ,YAF1B,SAGQgF,GAAY7F,OAAO2F,UAH3B,4CAvE2C,+BA6E5BH,KA7E4B,8EA6E3C,sBAAAL,EAAA,yDACOnF,OAAO8F,aADd,iEAEQ9F,OAAO8F,aAAaF,SAF5B,cAGE/E,EHrG4B,SGqGJ,OAH1B,SAIQgF,GAAY7F,OAAO8F,cAJ3B,4CA7E2C,+BAoF5BJ,KApF4B,8EAoF3C,sBAAAP,EAAA,sEACQnF,OAAO2F,SAASC,SADxB,UAEO5F,OAAO2F,SAASI,QAFvB,wDAGElF,EH5G4B,SG4GJ,SAH1B,SAIQgF,GAAY7F,OAAO2F,UAJ3B,4CApF2C,+BA2F5BE,GA3F4B,iFA2F3C,WAA2BG,GAA3B,qBAAAb,EAAA,6DACEa,EAAaC,GAAG,mBAAmB,WACjCjG,OAAOC,SAASiG,YAElBF,EAAaC,GAAG,gBAAgB,WAC9BjG,OAAOC,SAASiG,YAKZC,EAAW,IAAIrD,IAAOC,UAAUqD,aAAaJ,GAVrD,SAW6BG,EAASE,aAXtC,mBAWiBC,EAXjB,EAWQ3C,QAEN,CAAC,GAAI,IAAI4C,SAAQ,SAAAC,GACXC,SAAS,KAAD,OAAMD,GAAK,MAAQC,SAASH,KAAIA,EAAIE,MAElD5C,EAAW0C,GHlGmC,KGmG1CA,EAjBN,wBAkBUjC,EAAS8B,EAASO,YACxBpC,EAAUD,GAnBd,KAoBIG,EApBJ,UAoBqBH,EAAOsC,aApB5B,mCAqBI1B,KArBJ,6CA3F2C,oEAoH3C,sBAAAE,EAAA,sDACEtE,EH1I4B,SG0IJ,MACxByD,EAAU,MACVE,EAAW,MACXZ,EAAW,MAJb,4CApH2C,oEAqI3C,kCAAAuB,EAAA,sEACyCyB,QAAQC,IAAI,CACjDlC,EAAgBmC,aAChBnC,EAAgBoC,aAChB7B,OAJJ,mCACSpB,EADT,KACoBG,EADpB,KAMEF,EAAaD,GACbI,EAAeD,GACfT,GAAY,GARd,4CArI2C,sBAwJ3C,OAJA7B,IAAMqF,WAAU,YApJ2B,oCAqJzCC,KACC,IAGD,kBAAC5D,EAAcnB,SAAf,CACEC,MAAO,CACLoB,WAEAI,UACAU,SACAE,UACAE,mBAEAX,YACAc,aACAZ,aACAH,SAEAiB,gBACAb,cACAE,eAIA+C,aAAc,GAEdvC,kBAEAK,sBACAZ,qBAEAX,eACA0D,gBA/HkB,kBAAMzD,GAAgB,IAgIxCuB,kBACAmC,WAvLqC,4CAyLrC9B,mBACAE,cACAE,kBAGD5D,GAKA,SAASuF,IACd,IAAM9E,EAAUZ,IAAMa,WAAWa,GACjC,IAAKd,EACH,MAAM,IAAIE,MAAM,0BAuClB,MAAO,CACLc,SAHEhB,EAlCFgB,SAuCAI,QALEpB,EAhCFoB,QAsCAU,OANE9B,EA/BF8B,OAsCAE,QAPEhC,EA9BFgC,QAsCA+C,OARE/E,EA7BF+E,OAsCA7C,iBATElC,EA5BFkC,iBAuCAX,UAXEvB,EA1BFuB,UAsCAc,WAZErC,EAzBFqC,WAsCAZ,WAbEzB,EAxBFyB,WAsCAH,OAdEtB,EAvBFsB,OAuCAiB,aAhBEvC,EArBFuC,aAsCAb,YAjBE1B,EApBF0B,YAsCAE,aAlBE5B,EAnBF4B,aAuCAoD,aApBEhF,EAjBFgF,aAsCAC,YArBEjF,EAhBFiF,YAsCAN,aAtBE3E,EAfF2E,aAuCAvC,gBAxBEpC,EAbFoC,gBAuCAK,mBA1BEzC,EAXFyC,mBAsCAZ,mBA3BE7B,EAVF6B,mBAuCAX,aA7BElB,EARFkB,aAsCA0D,gBA9BE5E,EAPF4E,gBAsCAlC,eA/BE1C,EANF0C,eAsCAmC,WAhCE7E,EALF6E,WAuCA9B,gBAlCE/C,EAHF+C,gBAsCAE,WAnCEjD,EAFFiD,WAsCAE,aApCEnD,EADFmD,cChQJ,IAAM+B,EAAuB9F,IAAMC,cAAc,MAE1C,SAAS8F,EAAT,GAA8C,IAAb5F,EAAY,EAAZA,SAC9B6F,EAAoBC,cAApBD,gBAEFE,EAAqB,SAACC,EAAaC,GAAd,OACzBJ,EACE,CAAEK,KAAM,KAAMF,cAAaC,QAC3B,CACEE,SAAS,KAITC,EAAwB,SAAAC,GAAG,aAC/BR,EACE,CACEK,KAAM,QACNI,SAAY,OAAHD,QAAG,IAAHA,GAAA,UAAAA,EAAKE,aAAL,eAAYD,UAAWD,EAAIG,cAAgBH,EAAIC,SAAWD,GAErE,CACEF,SAAS,KAITM,EAA0B,SAACC,EAAOJ,GAAR,OAC9BT,EACE,CACEK,KAAM,UACNQ,QACAJ,WAEF,CACEH,SAAS,KAITQ,EAAE,uCAAG,WAAOC,EAAmBC,EAAiBC,GAA3C,mBAAAzD,EAAA,+EAEsByD,IAFtB,uBAECb,EAFD,EAECA,KAAMc,EAFP,EAEOA,KACdhB,EAAmBa,EAAmBX,GAH/B,SAIDc,IAJC,OAKPN,EAAwBI,EAAiBZ,GALlC,wDAOPG,EAAsB,EAAD,IAPd,+DAAH,0DAYR,OACE,kBAACT,EAAqBvF,SAAtB,CACEC,MAAO,CACL0F,qBACAK,wBACAK,0BACAE,OAGD3G,GAKA,SAASgH,IACd,IAAMvG,EAAUZ,IAAMa,WAAWiF,GACjC,IAAKlF,EACH,MAAM,IAAIE,MAAM,iCAQlB,MAAO,CACLoF,mBAFEtF,EAJFsF,mBAOAK,sBAHE3F,EAHF2F,sBAOAK,wBAJEhG,EAFFgG,wBAOAE,GALElG,EADFkG,I,qCCvEJM,GAASC,KAIF,SAASC,EAAQ9D,EAAG+D,EAAGC,GAC5B,OAAIC,EAAOC,EAAIlE,KAAOiE,EAAOC,EAAIH,IACxB,IAEFG,EAAIlE,GACRmE,IAAID,EAAIH,IACRK,SAFI,OAEKJ,QAFL,IAEKA,IARI,GAWX,SAASK,EAAYrE,EAAGsE,EAAUN,GACvC,OAAOF,EAAQ9D,EAAGkE,EAAI,IAAIK,IAAID,GAAWN,GAGpC,SAASC,EAAOjE,GACrB,OAAOkE,EAAIlE,GAAGwE,GAAGN,EAAI,MAGhB,SAASA,EAAIO,GAClB,OAAO,IAAIZ,IAAMY,EAAEC,Y,+BCrBd,SAAeC,EAAtB,oC,4CAAO,WAAmBC,EAAKC,GAAxB,SAAA7E,EAAA,6DACD6E,IACFD,GAAO,IAAME,IAAG3I,UAAU0I,IAFvB,SAIeE,YAAMH,GAJrB,8BAI2BI,OAJ3B,oF,sBAOA,SAAeC,EAAtB,oC,4CAAO,WAAmBL,EAAKC,GAAxB,SAAA7E,EAAA,+EACE2E,EAAInJ,EAAUoJ,EAAKC,IADrB,4C,sBCNP,IAAMK,EAAWhB,EAAI,OAEfiB,EAAe3I,IAAMC,cAAc,MAEnC2I,GAAM,SAACC,EAAG/I,GAAJ,OAAW+I,EAAEC,IAAIhJ,GAAK+I,EAAI/I,GAG/B,SAASiJ,GAAT,GAAsC,IAAb5I,EAAY,EAAZA,SAAY,EAWtCuF,IATF1C,EAFwC,EAExCA,gBACAC,EAHwC,EAGxCA,WACAI,EAJwC,EAIxCA,mBACAF,EALwC,EAKxCA,aACAhB,EANwC,EAMxCA,UACAE,EAPwC,EAOxCA,WACAI,EARwC,EAQxCA,mBACAD,EATwC,EASxCA,aACAI,EAVwC,EAUxCA,QAVwC,EAeJ5C,IAAMI,SAASsH,EAAI,MAff,mBAenCsB,EAfmC,aAgBQhJ,IAAMI,SAASsH,EAAI,OAhB3B,mBAgBnCuB,EAhBmC,aAiBYjJ,IAAMI,SAC1DsH,EAAI,OAlBoC,mBAiBnCwB,EAjBmC,aAoBUlJ,IAAMI,SAASsH,EAAI,OApB7B,mBAoBnCyB,EApBmC,aAqBJnJ,IAAMI,SAASsH,EAAI,OArBf,mBAqBnC0B,EArBmC,aAsBJpJ,IAAMI,SAASsH,EAAI,OAtBf,mBAsBnC2B,EAtBmC,KAsBtBC,EAtBsB,OAuBNtJ,IAAMI,SAASsH,EAAI,MAvBb,mBAuBnC6B,EAvBmC,aAwBEvJ,IAAMI,SAASsH,EAAI,OAxBrB,mBAwBnC8B,EAxBmC,aAyBExJ,IAAMI,SAASsH,EAAI,OAzBrB,mBAyBnC+B,EAzBmC,KAyBnBC,EAzBmB,OA0BI1J,IAAMI,SAASsH,EAAI,MA1BvB,mBA0BnCiC,EA1BmC,KA0BlBC,EA1BkB,QA2BF5J,IAAMI,SAAS,IA3Bb,qBA2BnCyJ,GA3BmC,gBA4BJ7J,IAAMI,SAASsH,EAAI,OA5Bf,qBA4BnCoC,GA5BmC,MA4BtBC,GA5BsB,SA6BF/J,IAAMI,SAASsH,EAAI,MA7BjB,qBA6BnCsC,GA7BmC,MA6BrBC,GA7BqB,SAiCcjK,IAAMI,SAC5DsH,EAAI,MAlCoC,qBAiCnCwC,GAjCmC,MAiCbC,GAjCa,SAoCcnK,IAAMI,SAC5DsH,EAAI,MArCoC,qBAoCnC0C,GApCmC,gBAuCEpK,IAAMI,SAASsH,EAAI,OAvCrB,qBAuCnC2C,GAvCmC,MAuCnBC,GAvCmB,SA2CtCtK,IAAMI,SAASsH,EAAI,MA3CmB,qBAyCxC6C,GAzCwC,MA0CxCC,GA1CwC,SA4CoBxK,IAAMI,SAClEsH,EAAI,MA7CoC,qBA4CnC+C,GA5CmC,MA4CVC,GA5CU,SA+CM1K,IAAMI,SAASsH,EAAI,MA/CzB,qBA+CnCiD,GA/CmC,MA+CjBC,GA/CiB,MAiDpCC,GAAmB7K,IAAM+C,SAAQ,WACrC,GAEK0E,EAAOuB,IACPvB,EAAO4B,IACP5B,EAAOgC,IACPhC,EAAOkC,IACPlC,EAAOqC,KACPrC,EAAOuC,MACRxH,IACAH,IACAI,EAGF,OAAOiF,EAAI,KAEb,IAAMvI,EAAI2K,GACJgB,EAAId,GAGJrF,EAAItC,EACJ0I,EAAItI,EACJuI,EAAIxI,EAKJyI,EAAIvD,EAAIsB,GAAarB,IAAjB,SAAqB,GAAMhD,IAI/BuG,EAAIxD,EAAI2B,GAAa1B,IAAjB,SAAqB,GAAMhD,IAI/BwG,EAAIzD,EAAI+B,GAAgB9B,IAApB,SAAwB,GAAMoD,IAClCK,EAAI1D,EAAIiC,GAAiBhC,IAArB,SAAyB,GAAMqD,IAEnCK,EAAIlM,EAAEmM,IAAIH,GACVI,EAAIT,EAAEQ,IAAIF,GAEVI,EAAIP,EAAEtD,IAAIuD,GAUhB,OATUG,EAAEI,IAAIF,GAAGD,IAAIE,KAUtB,CACDxC,EACAK,EACAI,EACAE,EACAG,GACAE,GACAxH,EACAH,EACAI,IAGIiJ,GAAgB1L,IAAM+C,SAC1B,kBACG8G,GAAUvK,OAAoBuK,GAAUA,GAAUvK,OAAS,GAAGqM,SAA3CjE,EAAI,OAC1B,CAACmC,KAGG+B,GAAmB5L,IAAM+C,SAAQ,WACrC,GAAO0E,EAAOwB,IAAuBxB,EAAO2B,KAAgBS,GAC1D,OAAOnC,EAAI,KAIb,IAAMsD,EAAIlG,SAAS+G,KAAKC,MAAQ,KAC1BC,EAAIrE,EAAI,MAERsE,EAA+BnC,GAAUoC,QAAO,SAACpD,EAAGqD,GACxD,OAAOrD,EAAE4C,IAnIH,SAAC5C,EAAG/I,GAAJ,OAAW+I,EAAEsD,IAAIrM,GAAK+I,EAAI/I,EAoI9BsM,CAAIxD,GAAIsD,EAASP,SAASU,IAAIrB,GAAItD,EAAI,MAAOqE,GAC1CpE,IAAIuE,EAASI,aACbhB,IAAIY,EAASK,wBAEjB7E,EAAI,MAEP,OAAOD,EAAO2B,GACV1B,EAAI,KACJsE,EACGrE,IAAIsB,GACJqC,IAAIlC,GACJzB,IAAI,OACV,CAACsB,EAAmBG,EAAaS,KAE9B2C,GAAMxM,IAAM+C,SAAQ,WACxB,GAAO0E,EAAOmE,KAAsBnE,EAAOoD,IACzC,OAAOnD,EAAI,KAEb,IAAI+E,EAAU3C,GACXwB,IAAI,KACJ3D,IAAIkD,IACJS,IAAI,MAEHkB,EAAMZ,GACPjE,IAAIkD,IACJS,IAAI,MACJA,IAAI,KACJG,IAAI/C,GACJ+C,IAAIgB,GAMP,OAJID,EAAI1D,IAAI,OACV0D,EAAM9E,EAAI,MAGL8E,IACN,CAACZ,GAAkBf,GAAkBf,KAElC4C,GAAmB1M,IAAM+C,SAAQ,WACrC,GAAM0E,EAAO8B,GAAa,OAAO7B,EAAI,KACrC,IAAMiF,EAAgBjF,EAAI,KAAKC,IAAI4B,GAE7BzJ,EAAI,CACRyJ,aACAoD,gBACAC,cAJoB,GAMhB7B,EAAIb,GACJc,EAAIL,GACNM,EAAInL,EAAEyJ,WACJsD,EAAIpF,EAAOkD,IAAoBjD,EAAI,KAAOqD,EAAEpD,IAAIqD,GAwBtD,OAvBIA,EAAE8B,GAAGpF,EAAI,QACXuD,EAAIrC,GAAIqC,EAAG4B,IAEH5B,EAAEoB,IAAIvM,EAAEyJ,YAAY5B,IAAID,EAAI,GAAG2E,IAAIvM,EAAEyJ,aACnC+B,IAAIxL,EAAE6M,cAAcN,IAAIvM,EAAE8M,gBAAgBnB,IAAI3L,EAAE8M,iBAoB3D,CAACrD,EAAYoB,GAAkBT,KAE5B6C,GAA8B/M,IAAM+C,SAAQ,WAChD,OAAI0E,EAAO8C,IAAkC7C,EAAI,KAC1C+C,GAAwB9C,IAAI4C,MAClC,CAACE,GAAyBF,KAEvByC,GAA0BhN,IAAM+C,SAAQ,WAE5C,OADmB2E,EAAI,OAAO4D,IAAX,SAAe,GAAM7I,IACtB6I,IAAIyB,MACrB,CAACA,GAA6BtK,IAE3BwK,GAAa,uCAAG,0CAAAzJ,EAAA,yDAGhBR,GACAC,GACAI,GACAF,GACAhB,EAPgB,iEAgBV8C,QAAQC,IAAI,CACpBjC,EAAWoG,cACXhG,EAAmB6J,UAAU/K,GAC7BgB,EAAa+J,UAAU/K,GACvBgL,GAAiB,CAAC,OAAQ,WApBR,mCAYlB9D,EAZkB,KAalBI,EAbkB,KAclBE,EAdkB,2BAejBG,EAfiB,KAeJE,EAfI,KAwBpBV,EAAe5B,EAAI2B,IACnBK,EAAkBhC,EAAI+B,IACtBG,EAAmBlC,EAAIiC,IACvBI,GAAerC,EAAIoC,IACnBG,GAAgBvC,EAAIsC,IA5BA,4CAAH,qDA+BboD,GAAa,uCAAG,gCAAA5J,EAAA,yDACdR,GAAmBJ,EADL,iEAMVqC,QAAQC,IAAI,CAEpBlC,EAAgBqK,OAAOzK,KARL,mCAIlByH,EAJkB,KAWS,EAE7BC,GAAkB5C,EAAI2C,IACtBF,GAAwBzC,EAHK,IAI7B8C,GAA4B9C,EAAI6C,KAChCG,GAA2BhD,EAAI+C,KAC/BG,GAAoBlD,EAAIiD,KAjBJ,4CAAH,qDAiEnB,OAnBA3K,IAAMqF,WAAU,WACd4H,OAEC,CACDjK,EACAC,EACAI,EACAF,EACAhB,EACAE,EACAI,EACAD,IAGFxC,IAAMqF,WAAU,WACd+H,OAEC,CAACpK,EAAiBJ,IAGnB,kBAAC+F,EAAapI,SAAd,CACEC,MAAO,CACLwI,cACAC,oBACAC,sBACAC,qBACAC,cACAC,cACAE,aACAC,iBACAC,iBACAE,kBACAG,eACAE,gBACAH,aAEAK,wBACAE,wBACAC,kBACAE,4BACAE,2BAEA+B,OACAZ,oBACAf,oBACAa,iBACAgB,oBACAK,+BACAC,6BAGD7M,GAKA,SAASmN,KACd,IAAM1M,EAAUZ,IAAMa,WAAW8H,GACjC,IAAK/H,EACH,MAAM,IAAIE,MAAM,yBAgClB,MAAO,CACLkI,YAHEpI,EA3BFoI,YA+BAC,kBAJErI,EA1BFqI,kBA+BAC,oBALEtI,EAzBFsI,oBA+BAC,mBANEvI,EAxBFuI,mBA+BAC,YAPExI,EAvBFwI,YA+BAC,YAREzI,EAtBFyI,YA+BAE,WATE3I,EArBF2I,WA+BAC,eAVE5I,EApBF4I,eA+BAC,eAXE7I,EAnBF6I,eA+BAE,gBAZE/I,EAlBF+I,gBA+BAE,UAbEjJ,EAjBFiJ,UA+BAC,YAdElJ,EAhBFkJ,YA+BAE,aAfEpJ,EAfFoJ,aAgCAE,qBAjBEtJ,EAbFsJ,qBA+BAE,qBAlBExJ,EAZFwJ,qBA+BAC,eAnBEzJ,EAXFyJ,eA+BAE,yBApBE3J,EAVF2J,yBA+BAE,wBArBE7J,EATF6J,wBAgCA+B,IAvBE5L,EAPF4L,IA+BAZ,iBAxBEhL,EANFgL,iBA+BAf,iBAzBEjK,EALFiK,iBA+BAa,cA1BE9K,EAJF8K,cA+BAgB,iBA3BE9L,EAHF8L,iBA+BAK,4BA5BEnM,EAFFmM,4BA+BAC,wBA7BEpM,EADFoM,yB,SAkCWG,G,iFAAf,WAAgCI,GAAhC,eAAA/J,EAAA,sEACuBgK,EACnB,gDACA,CACEC,IAAKF,EAAmBG,KAAK,KAC7BC,cAAe,QALrB,cACQC,EADR,yBAQSL,EAAmBM,KAAI,SAAAC,GAAE,OAAIpG,GAAKkG,EAAOE,IAAO,CAAEC,IAAK,IAAKA,SARrE,4C,8CCpaMC,GAAiBhO,IAAMC,cAAc,MAEpC,SAASgO,GAAT,GAAwC,IAAb9N,EAAY,EAAZA,SAAY,EAChBuF,IAApBhD,EADoC,EACpCA,OAAQE,EAD4B,EAC5BA,QAD4B,EAGZ5C,IAAMI,UAAS,GAHH,mBAGrCwB,EAHqC,KAG3BC,EAH2B,OAIlB7B,IAAMI,SAAS,IAJG,mBAIrC3B,EAJqC,KAI9ByP,EAJ8B,KAMtCC,EAAuBnO,IAAM+C,SACjC,mBAAQtE,EAAM2P,QAAO,SAAAC,GAAC,OAAIA,EAAEC,mBAAiBhP,SAC7C,CAACb,IA4DH,OAzDAuB,IAAMqF,WAAU,WACd,IAAM3C,IAAUE,EAAU,OAAOsL,EAAS,IAE1C,IAAIK,GAAY,EACVC,EAAS,CAAC,kBAAOD,GAAY,IAC7BE,EAAcC,MAAMC,KAAK5P,EAAQN,MAAMmQ,WAAWf,KACtD,mCAAEgB,EAAF,WAA8B,CAC5BC,KADF,KAEEC,SAAU,IAAI5N,KAAgB0N,EAAiBG,GAAUtM,OAIvDuM,EAAS,uCAAG,4BAAAzL,EAAA,sEACCyB,QAAQC,IAAIuJ,EAAYZ,IAAIqB,IAD7B,OACVC,EADU,OAGZZ,IACFL,EAASiB,GACTtN,GAAY,IALE,2CAAH,qDASTqN,EAAQ,uCAAG,qCAAA1L,EAAA,6DAASuL,EAAT,EAASA,SAAUD,EAAnB,EAAmBA,KAAnB,SACStB,EAAA,sBAA2BsB,EAA3B,YAAmClM,IAD5C,UACTwM,EADS,OAEXC,GAAW,IAETC,EAAW,UAAWF,GAJb,iCAMIL,EAASQ,UAAUH,EAAUI,OANjC,OAMbH,EANa,wCASR,CACLzM,UACAkM,OACAC,WACAK,YACAE,WACAD,WACAf,gBAAiBgB,IAAaD,IAhBjB,4CAAH,sDA+Bd,OAFAJ,IARER,EAAY7J,SAAQ,YAAmB,IAAhBmK,EAAe,EAAfA,SAEfU,EAAaV,EAASW,QAAQC,UACpCZ,EAASzK,GAAGmL,EAAYR,GACxBT,EAAOoB,MAAK,kBAAMb,EAASc,IAAIJ,EAAYR,SAMxC,WACLT,EAAO5J,SAAQ,SAAAkL,GAAK,OAAIA,UAEzB,CAACpN,EAAQE,IAGV,kBAACoL,GAAezN,SAAhB,CACEC,MAAO,CACLoB,WACAnD,QACA0P,yBAGDhO,GAKA,SAAS4P,KACd,IAAMnP,EAAUZ,IAAMa,WAAWmN,IACjC,IAAKpN,EACH,MAAM,IAAIE,MAAM,2BAIlB,MAAO,CACLc,SAHgDhB,EAA1CgB,SAINnD,MAJgDmC,EAAhCnC,MAKhB0P,qBALgDvN,EAAzBuN,sB,8DClFrB6B,GAAYC,aAAW,SAAA5P,GAAK,MAAK,CACrC6P,MAAO,CACLC,MAAO,SAETC,UAAW,CACTC,QAAS,sBACT,MAAO,CACLF,MAAO,QACPG,QAAS,QACTC,eAAgB,cAGpBC,KAAM,CAIJC,YAAa,GACbH,QAAS,eAEXI,MAAO,CACLC,SAAU,WACVC,IAAK,EACLC,MAAO,EACPC,OAAQ,WAEVhK,GAAI,CACFiK,WAAY,WAEdrK,MAAO,CACLqK,WAAY,WAEdC,QAAS,CACPD,WAAY,WAEdE,MAAO,CACLC,SAAU,QAIRC,GAAQ,IAAIzS,IAAI,CACpB,CAAC,KAAM,CAAC0S,KAkCV,YAAsC,IAAjBC,EAAgB,EAAhBA,aACbC,EAAUtB,KAChB,OACE,oCACE,4BAAQuB,UAAWD,EAAQL,OAAQI,EAAalL,aAEhD,uBACE5H,KAAI,kBAAuC,GAAvC,0BACF8S,EAAajL,MAEfoL,OAAO,SACPC,IAAI,sBACJF,UAAWD,EAAQL,OANrB,uBAvCJ,CAAC,QAAS,CAACS,KAqDb,YAAyC,IAAjBL,EAAgB,EAAhBA,aAChBC,EAAUtB,KAChB,OACE,oCACE,4BAAQuB,UAAWI,aAAKL,EAAQL,MAAOK,EAAQ5K,QAC5C2K,EAAa5K,aAzDpB,CAAC,UAAW,CAACmL,KA+Df,YAA2C,IAAjBP,EAAgB,EAAhBA,aAClBC,EAAUtB,KAChB,OACE,oCACE,6BAAMqB,EAAaxK,OACnB,4BAAQ0K,UAAWI,aAAKL,EAAQL,MAAOK,EAAQN,UAC5CK,EAAa5K,eAlEP,eAAgC,IAArBqH,EAAoB,EAApBA,GAAIuD,EAAgB,EAAhBA,aACtBC,EAAUtB,KACR6B,EAAkB5L,cAAlB4L,cAFoC,EASxCV,GAAMhJ,IAAIkJ,EAAahL,MADzByL,EAR0C,oBAW5C,OACE,kBAACC,GAAA,EAAD,CAAOR,UAAWI,aAAKL,EAAQpB,MAAOoB,EAAQD,EAAahL,QACzD,yBAAKkL,UAAWD,EAAQZ,MAAOsB,QAVT,kBAAMH,EAAc/D,KAWxC,kBAACmE,GAAA,EAAD,CAAWC,MAAO,CAAEhB,SAAU,OAEhC,yBACEK,UAAWI,aAAK,OAAQ,YAAa,eAAgBL,EAAQlB,YAE7D,yBACEmB,UAAWI,aAAK,OAAQ,YAAa,WAAY,mBAEjD,kBAACG,EAAD,CAAeT,qBCpELc,QACW,cAA7B9T,OAAOC,SAAS8T,UAEe,UAA7B/T,OAAOC,SAAS8T,UAEhB/T,OAAOC,SAAS8T,SAASC,MACvB,2D,+ICFArC,GAAYC,aAAW,SAAA5P,GAAK,MAAK,CACrC+P,UAAW,CACTkC,UAAW,QAEbzL,MAAO,CACLsJ,MAAO9P,EAAMkS,QAAQC,QAAQC,KAC7BlC,eAAgB,QAElBmC,QAAQ,cACNjC,YAAa,IACZpQ,EAAMsS,YAAYC,KAAK,MAAQ,CAC9BtC,QAAS,aAKA,SAASuC,KACtB,IAAMvB,EAAUtB,KADkB,EAEetK,IAAzC9C,EAF0B,EAE1BA,QAAS4C,EAFiB,EAEjBA,gBAAiBC,EAFA,EAEAA,WAFA,EAGF9E,IAAxBK,EAH0B,EAG1BA,OAAQP,EAHkB,EAGlBA,YAEVqS,EACJlQ,GAAO,UAAOA,EAAQmQ,MAAM,EAAG,GAAxB,eAAiCnQ,EAAQmQ,OAAO,IAEzD,OACE,kBAACC,GAAA,EAAD,CAAQrC,SAAS,QAAQR,MAAM,UAAUoB,UAAWD,EAAQlB,WAC1D,kBAAC6C,GAAA,EAAD,CAAS9C,MAAM,WACb,kBAAC+C,GAAA,EAAD,CAAYC,QAAQ,KAAK5B,UAAW,kBAClC,yBAAKA,UAAW,oBAAqBhT,KAAK,KX1C3B,iBW+ChBqE,EACC,2CAEE,yBAAK2O,UAAWD,EAAQoB,SAAUI,GAClC,kBAACM,GAAA,EAAD,CAAQjD,MAAM,YAAY6B,QAASvM,GAAnC,eAKF,kBAAC2N,GAAA,EAAD,CAAQjD,MAAM,YAAY6B,QAASxM,GAAnC,kBAKF,kBAAC6N,GAAA,EAAD,CAASxM,MAAM,2BACb,kBAACyM,GAAA,EAAD,CACEtB,QAASvR,EACT0P,MAAM,UACNoD,aAAW,2BAEVvS,EAAS,kBAAC,KAAD,MAAgB,kBAAC,KAAD,U,kCCjEvB,eAA8B,IAA3BuQ,EAA0B,EAA1BA,UAAWpR,EAAe,EAAfA,SACnBa,EAAWL,IAAXK,OACR,OACE,kBAAC+Q,GAAA,EAAD,eACQR,aACDvQ,EAAS,GAAK,CAAEmS,QAAS,YAFhC,CAGEK,UAAW,IAEVrT,ICGD6P,GAAYC,aAAW,SAAA5P,GAAK,MAAK,CACrC+P,UAAW,CACTqD,WAAY,GACZnD,QAAS,OACToD,oBAAqB,kBACrBC,UAAW,QAEbC,IAAK,CACHtD,QAAS,OACTuD,SAAU,EACVC,cAAe,SACfzD,QAAS,GACTU,WAAY1Q,EAAMkS,QAAQvR,OAAS,OAAS,OAC5CmP,MAAO9P,EAAMkS,QAAQvR,OAAS,QAAU,UACxC2P,SAAU,YAEZoD,OAAQ,CACNpD,SAAU,WACVC,IAAK,EACLC,MAAO,GAETmD,SAAU,CACR9C,SAAU,IAEZD,MAAO,CACLC,SAAU,IAEZ+C,KAAM,CACJ9D,MAAO9P,EAAMkS,QAAQC,QAAQC,KAC7BlC,eAAgB,YAIL,cACb,IAAMe,EAAUtB,KADQ,EAE+CtK,IAA/DlD,EAFgB,EAEhBA,aAAcC,EAFE,EAEFA,mBAAoBO,EAFlB,EAEkBA,gBAAiBJ,EAFnC,EAEmCA,QAFnC,EAUpB0K,KANFd,EAJsB,EAItBA,IACAtC,EALsB,EAKtBA,qBACAwC,EANsB,EAMtBA,iBACAK,EAPsB,EAOtBA,4BACAC,EARsB,EAQtBA,wBACAtB,EATsB,EAStBA,cAGIwI,EAAiB,uCAAG,4BAAA1Q,EAAA,+EAEAR,EAAgBqK,OAAOzK,GAFvB,cAEhBuR,EAFgB,OAGtBC,QAAQC,IAAIF,GAHU,kBAIfA,GAJe,yFAAH,qDAUjBG,EAAS,uCAAG,4BAAA9Q,EAAA,+EAWGR,EAAgBsR,YAXnB,cAWRxN,EAXQ,gBAaRA,EAAGI,OAbK,gHAAH,qDAqBTqN,EAAQvU,IAAM+C,SAClB,iBAAM,CACJ,CACEyR,KAAM,iBACNhU,MAAO,CACL,yBAAK+Q,UAAU,8BACZ2C,EADH,QAEE,kBAACO,GAAA,EAAD,CAAKC,GAAI,EAAGnD,UAAU,qBACpB,yBAAKoD,IAAI,iBAAiBC,IAAI,OAAOC,MAAO,GAAIC,OAAQ,MAGxD,kBAAC1B,GAAA,EAAD,CACIjD,MAAM,UACNgD,QAAQ,WACRnB,QAASsC,GAHb,mBAWNS,IACE,4DAGN,CACEvI,EACAtC,EACA1H,EACAC,EACAiK,EACAM,EACAD,EACArB,EACA4F,EAAQL,MACRK,EAAQ2C,OAIZ,OACE,kBAACQ,GAAA,EAAD,CAAKlD,UAAWI,aAAKL,EAAQlB,YAC1BmE,EAAM1G,KAAI,SAAAmH,GAAC,OACV,kBAACC,GAAD,eAASC,IAAKF,EAAER,MAAUQ,SAQlC,SAASC,GAAT,GAAwC,IAArBT,EAAoB,EAApBA,KAAMhU,EAAc,EAAdA,MAAOuU,EAAO,EAAPA,IACxBzD,EAAUtB,KAEhB,OACE,kBAAC,GAAD,CAAOuB,UAAWI,aAAKL,EAAQsC,MAC7B,kBAACP,GAAA,EAAD,CAASxM,MAAOkO,GACd,kBAAC,KAAD,CAAS7C,MAAO,CAAEhB,SAAU,IAAMK,UAAWD,EAAQyC,UAEvD,yBAAKxC,UAAWI,aAAKL,EAAQ0C,WAAYQ,GACzC,6BACGhU,EAAMqN,KAAI,SAACzO,EAAG2M,GAAJ,OACT,yBAAKmJ,IAAKnJ,GAAI3M,QCnJxB,IAAM4Q,GAAYC,aAAW,SAAA5P,GAAK,MAAK,CACrC+P,UAAW,CACT+E,UAAW,GACXC,gBAAiB/U,EAAMkS,QAAQvR,OAAS,OAAS,OACjDqU,OAAQ,EACRC,oBdLyB,EcMzBC,qBdNyB,GcQ3BC,eAAgB,CACd/B,WAAY,IAEdQ,KAAM,CACJ3D,QAAS,OACTuD,SAAU,EACV4B,eAAgB,SAChBtF,MAAO9P,EAAMkS,QAAQvR,OAAS,QAAU,UACxC0U,aAAa,aAAD,OAAerV,EAAMkS,QAAQvR,OAAS,OAAS,QAC3DuP,eAAgB,OAChBF,QAAS,aACTS,OAAQ,WAEV6E,OAAQ,CACNC,kBAAmBvV,EAAMkS,QAAQsD,UAAUpD,UAIhCqD,iBAAW,WACxB,IAAMxE,EAAUtB,KACV+F,EAAO1X,OAAOC,SAAS8H,KACvB4P,GAAaD,EAAKvX,QAAQ,WAC1ByX,GAAcF,EAAKvX,QAAQ,YAChBuX,EAAKvX,QAAQ,SAE9B,OACE,yBAAK+S,UAAWI,aAAK,0BAA2BL,EAAQlB,YACtD,yBAAKmB,UAAWI,aAAK,iBAAkBL,EAAQkE,iBAC7C,kBAAC,KAAD,CACEU,GAAG,WACH3E,UAAWI,aAAKL,EAAQ2C,KAAT,gBACZ3C,EAAQqE,OAASK,KAHtB,WAQA,kBAAC,KAAD,CACEE,GAAG,YACH3E,UAAWI,aAAKL,EAAQ2C,KAAT,gBACZ3C,EAAQqE,OAASM,KAHtB,iB,4BCvCKjG,GAAYC,aAAW,SAAA5P,GAAK,MAAK,CAC5C+P,UAAW,CACT,MAAO,CACLD,MAAO9P,EAAMkS,QAAQsD,UAAUpD,MAEjC,0BAA2B,CACzB5B,MAAO,EACPsF,UAAW,+BACXC,gBAAiB,WACjBlF,SAAU,KAGdmF,UAAW,CACTvB,OAAQ,IAEVwB,eAAgB,CACdzB,MAAO,KAETV,QAAS,CACP7D,QAAS,OACTwD,cAAe,SACfD,SAAU,EACVxD,QAAS,GACTkG,af5ByB,Ee6BzBxF,WAAY1Q,EAAMkS,QAAQvR,OAAS,OAAS,OAC5CmP,MAAO9P,EAAMkS,QAAQvR,OAAS,QAAU,WAE1CuT,MAAO,CACLjE,QAAS,OACToD,oBAAqB,UACrBC,UAAW,YAIA,cACb,IAAMrC,EAAUtB,KADQ,EAYpBtK,IARe8Q,EAJK,EAItBhR,gBACA9C,EALsB,EAKtBA,OACAE,EANsB,EAMtBA,QACAI,EAPsB,EAOtBA,gBACAC,EARsB,EAQtBA,WACAZ,EATsB,EAStBA,WACAG,EAVsB,EAUtBA,aACAN,EAXsB,EAWtBA,OAXsB,EAa+BoL,KAA/CpD,EAbgB,EAahBA,qBAbgB,KAaME,qBAEYpK,IAAMI,UAAS,IAfjC,mBAejBqW,EAfiB,KAeFC,EAfE,OAiBoB1W,IAAMI,SAChDe,KAAiBwN,KAAK,MAlBA,mBAiBjBtE,EAjBiB,KAiBDC,EAjBC,OAqB8BnD,IAA9CjB,EArBgB,EAqBhBA,mBAAoBK,EArBJ,EAqBIA,sBArBJ,EAsBcvG,IAAMI,SAAS,GAtB7B,mBAsBjBuW,EAtBiB,KAsBJC,EAtBI,OAuB0B5W,IAAMI,UAAS,GAvBzC,mBAuBjByW,EAvBiB,KAuBEC,EAvBF,OAwB0B9W,IAAMI,SACtDe,KAAiBwN,KAAK,MAzBA,mBAwBjBoI,EAxBiB,KAwBEC,EAxBF,KA2BlBC,EAAiBjX,IAAM+C,SAAQ,WACnC,IAAImU,EACJ,IACEA,EAAgB/V,SAAagW,WAC3BR,EAAYzO,WACZ7F,GAEF,MAAOvC,GACPoX,EAAgB/V,KAAiBwN,KAAK,KAExC,OAAOkI,EAAoBE,EAAoBG,IAC9C,CAACP,EAAaI,EAAmBF,EAAmBxU,IAEjD+U,EAAmB,uCAAG,sBAAA5T,EAAA,sDACzBd,EAAmC2U,IAA1Bb,IADgB,2CAAH,qDAInBa,EAAQ,uCAAG,4BAAA7T,EAAA,mEAETyT,EAAexP,SAFN,yCAGJlB,EAAsB,6BAHlB,UAIRsQ,IAAqBI,EAAenK,GAAGiK,GAJ/B,yCAKJxQ,EACL,wDANS,cASbmQ,GAAiB,GATJ,SAUI1T,EAAgBsU,OAVpB,cAUPxQ,EAVO,OAWbZ,EAAmB,eAAD,OAAgBhE,GAAU4E,EAAGV,MAXlC,UAYPU,EAAGI,OAZI,eAabhB,EAAmB,YAAD,OAAahE,GAAU4E,EAAGV,MAb/B,UAcPmR,IAdO,0DAgBbhR,EAAsB,EAAD,IAhBR,yBAkBbmQ,GAAiB,GAlBJ,6EAAH,qDA2BRa,EAAsB,uCAAG,4BAAA/T,EAAA,yDACvBR,GAAmBJ,EADI,iEAEAI,EAAgBkK,UAAUtK,GAF1B,OAEvByH,EAFuB,OAG7BC,EAAkBD,GAClBuM,EAAe/O,EAAYwC,EAAgB,GAAI,KAC/CyM,GAAqB,GACrBE,EAAqB3M,GANQ,2CAAH,qDAa5B,OAJArK,IAAMqF,WAAU,WACdkS,MACC,CAACvU,EAAiBJ,IAGnB,yBAAK2O,UAAWD,EAAQlB,WACpBlO,EACA,yBAAKqP,UAAW,QACd,kBAACiG,GAAA,EAAD,CACE1J,GAAG,SACHtN,MAAOmW,EACPc,MACE,yBAAKlG,UAAU,gCACb,yBAAKA,UAAU,aAAf,oBAA6CrP,EAA7C,KACA,2CACc2F,EAAYwC,EAAgB,IAD1C,IACgDnI,IAIpDmE,KAAK,SACLqR,KAAK,MACLnG,UAAWD,EAAQqG,MACnBC,gBAAiB,CACfC,QAAQ,GAEVC,WAAS,EACTC,SAxCkB,SAAAjY,GAC1BgX,GAAqB,GACrBF,EAAe9W,EAAE0R,OAAOhR,UAyClB,kBAACiU,GAAA,EAAD,CAAKlD,UAAU,iBAAiByG,GAAI,GAClC,kBAAC5E,GAAA,EAAD,CACEjD,MAAM,UACNgD,QAAQ,WACRnB,QAASuF,EACTU,WAAYhV,GAAcL,GAC1B2O,UAAWD,EAAQ+E,WALrB,SAxBK,KAqCX,kBAAC5B,GAAA,EAAD,CAAKyD,GAAI,EAAG3G,UAAWD,EAAQiD,OAC7B,kBAACxC,GAAA,EAAD,CAAOR,UAAWI,aAAKL,EAAQ6C,UAC7B,oDACA,uCACKtM,EAAYwC,EAAgBhI,GADjC,IAC+CH,IAIjD,kBAAC6P,GAAA,EAAD,CAAOR,UAAWI,aAAKL,EAAQ6C,UAC7B,gDACA,6BAAMtM,EAAYqC,EAAsB1H,GAAxC,WAIJ,kBAACiS,GAAA,EAAD,CAAKyD,GAAI,GACP,kBAAC9E,GAAA,EAAD,CACEjD,MAAM,YACNgD,QAAQ,YACR8E,SAAUxB,EACVzE,QAASoF,EACT7F,UAAWD,EAAQgF,gBAElBG,EACG,iBACC/T,EAED,WADA,qB,6DC/LC,YAAAyV,GAAE,OAAIC,qBAAUC,aCOzBrI,GAAYC,aAAW,SAAA5P,GAAK,MAAK,CACrC+P,UAAW,OAGE,eAA2C,IAAhCkI,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,aAEvC,OADmB9S,IAAXhD,OACgB6V,EACtB,kBAACE,GAAD,CAAWH,WAEX,kBAACI,GAAD,CAAaJ,SAAQE,iBAHN,MAOnB,SAASC,GAAT,GAA0B,IAAXH,EAAU,EAAVA,OACPhH,EAAUtB,KACRtN,EAAWgD,IAAXhD,OAFe,EAGO1C,IAAMI,SAASe,KAAiBwN,KAAK,MAH5C,mBAGhBgK,EAHgB,KAGPC,EAHO,KAKjBtT,EAAI,uCAAG,sBAAA9B,EAAA,kEACXoV,EADW,SACMlW,EAAOmW,aADb,6EAAH,qDAiBV,OALA7Y,IAAMqF,WAAU,WAEd,OADAC,IAPA5C,EAAO8B,SAASF,GADE,QACYgB,GACvB,WACL5C,EAAO8B,SAASqL,IAHA,QAGevK,MAOhC,IAGDqT,GACE,yBAAKpH,UAAWD,EAAQlB,WACrBkI,EADH,KACazQ,EAAY8Q,EAAS,IADlC,QAON,SAASD,GAAT,GAA0C,IAAzBJ,EAAwB,EAAxBA,OAAQE,EAAgB,EAAhBA,aACjBlH,EAAUtB,KADuB,EAEThQ,IAAMI,SAASe,KAAiBwN,KAAK,MAF5B,mBAEhCgK,EAFgC,KAEvBC,EAFuB,OAGP5Y,IAAMI,SAAS,MAHR,mBAGhC0H,EAHgC,KAGtBgR,EAHsB,OAIX9Y,IAAMI,SAAS,MAJJ,mBAIhC2Y,EAJgC,KAIxBC,EAJwB,OAKXtT,IAApB9C,EAL+B,EAK/BA,QAASF,EALsB,EAKtBA,OAEXqM,EAAW/O,IAAM+C,SACrB,kBACEL,GACA8V,GACA,IAAIrX,KAAgBqX,EAAcS,EAAoBvW,KACxD,CAAC8V,EAAc9V,IAGXwW,EAAe,uCAAG,WAAOvK,EAAMuH,GAAb,SAAA1S,EAAA,yDAClBmL,IAAS/L,GAAWsT,IAAOtT,EADT,gCAEduW,KAFc,mBAGpBP,EAHoB,SAGH7J,EAAS7B,UAAUtK,GAHhB,6EAAH,wDAOf0C,EAAI,uCAAG,oCAAA9B,EAAA,yDACLuL,GAAYnM,EADP,iEAE+BqC,KAAQC,IAAI,CACpD6J,EAASjH,WACTiH,EAASgK,SACThK,EAAS7B,UAAUtK,KALV,mCAEJkF,EAFI,KAEMiR,EAFN,KAEcJ,EAFd,KAOXG,EAAYhR,GACZkR,EAAUD,GACVH,EAAWD,GATA,4CAAH,qDA0BV,OALA3Y,IAAMqF,WAAU,WAEd,OADAC,IAVgB,WAChB,IAAKyJ,EAAU,OAAO,aACtB,IAAMqK,EAAgBrK,EAASW,QAAQ2J,WAEvC,OADAtK,EAASzK,GAAG8U,EAAeF,GACpB,WACLnK,EAASc,IAAIuJ,EAAeF,IAMvBI,KACN,CAACvK,EAAUnM,IAGZmW,GACAjR,GACA6Q,GACE,yBAAKpH,UAAWD,EAAQlB,WACrBkI,EADH,KACazQ,EAAY8Q,EAAS7Q,GADlC,IAC8CiR,EAAOQ,eC5EpD,IAAMvJ,GAAYC,aAAW,SAAA5P,GAAK,MAAK,CAC5C+P,UAAW,CACT,MAAO,CACLD,MAAO9P,EAAMkS,QAAQsD,UAAUpD,MAEjC,0BAA2B,CACzB5B,MAAO,EACPsF,UAAW,+BACXC,gBAAiB,WACjBlF,SAAU,KAGdmF,UAAW,CACTvB,OAAQ,IAEV0E,cAAe,CACb3E,MAAO,KAETV,QAAS,CACP7D,QAAS,OACTwD,cAAe,SACfD,SAAU,EACVxD,QAAS,GACTkG,alB/CyB,EkBgDzBxF,WAAY,OACZZ,MAAO,aAILsJ,GAAQ,CAAC,4BAA6B,SAE7B3D,iBAAW,WACxB,IAAMxE,EAAUtB,KACV0J,GAAcrb,OAAOC,SAAS8H,KAAK5H,QAAQ,KAAO,EAAI,EAE5D,OACE,kBAACiW,GAAA,EAAD,CAAKlD,UAAWD,EAAQlB,WACtB,kBAACuJ,GAAA,EAAD,CAASD,WAAYA,GAClBD,GAAM5L,KAAI,SAAA4J,GAAK,OACd,kBAACmC,GAAA,EAAD,CAAM1E,IAAKuC,GACT,kBAACoC,GAAA,EAAD,KAAYpC,QAKlB,kBAAChD,GAAA,EAAD,CAAKqF,GAAI,EAAGC,GAAI,GACd,kBAAC,KAAD,KACE,kBAAC,KAAD,CAAOC,OAAK,EAACjE,KAAM,aAAckE,UAAWC,KAC5C,kBAAC,KAAD,CAAOF,OAAK,EAACjE,KAAM,aAAckE,UAAWE,KAC5C,kBAAC,KAAD,CAAUjE,GAAI,qBAOxB,SAASiE,GAAT,GAAmC,IAAZC,EAAW,EAAXA,QACf9I,EAAUtB,KADgB,EAU5BtK,IAPe8Q,EAHa,EAG9BhR,gBACAtD,EAJ8B,EAI9BA,OACAC,EAL8B,EAK9BA,UACAE,EAN8B,EAM9BA,WACAC,EAP8B,EAO9BA,YACAM,EAR8B,EAQ9BA,QACAF,EAT8B,EAS9BA,OAT8B,EAWF1C,IAAMI,SAASe,KAAiBwN,KAAK,MAXnC,mBAWzBgK,EAXyB,KAWhBC,EAXgB,KAa1B7J,EAAW/O,IAAM+C,SACrB,kBACEL,GACAP,GACA,IAAIhB,KAAgBgB,EAAW8W,EAAoBvW,KACrD,CAACP,EAAWO,IAGRwW,EAAe,uCAAG,WAAOvK,EAAMuH,GAAb,SAAA1S,EAAA,yDAClBmL,IAAS/L,GAAWsT,IAAOtT,EADT,gCAEduW,KAFc,mBAGpBP,EAHoB,SAGH7J,EAAS7B,UAAUtK,GAHhB,6EAAH,wDAOfyX,EAAmB,uCAAG,sBAAA7W,EAAA,sDACzBZ,EAAoCwX,EAAQxK,KAAK,cAAvC4G,IADe,2CAAH,qDAInBlR,EAAI,uCAAG,4BAAA9B,EAAA,yDACLuL,GAAYnM,EADP,iEAEWmM,EAAS7B,UAAUtK,GAF9B,OAEL+V,EAFK,OAGXC,EAAWD,GAHA,2CAAH,qDAoBV,OALA3Y,IAAMqF,WAAU,WAEd,OADAC,IAVgB,WAChB,IAAKyJ,EAAU,OAAO,aACtB,IAAMqK,EAAgBrK,EAASW,QAAQ2J,WAEvC,OADAtK,EAASzK,GAAG8U,EAAeF,GACpB,WACLnK,EAASc,IAAIuJ,EAAeF,IAMvBI,KACN,CAACvK,EAAUnM,IAELN,GAAeH,EACtB,oCACIS,EACA,kBAAC6R,GAAA,EAAD,CAAKyD,GAAI,GACP,kBAAChF,GAAA,EAAD,CAAYC,QAAQ,MAApB,mBACctL,EAAY8Q,EAAStW,GADnC,IACiDH,EADjD,aAFQ,KAQZ,kBAACuS,GAAA,EAAD,CAAKyD,GAAI,GAAT,OACQtV,EAAgD,OAAjD,iCAAqCV,EAArC,KADP,oDAEgD,IAC9C,uBACE3D,KAAI,4FACJiT,OAAO,SACPC,IAAI,uBAHN,QAHF,KAaA,kBAACgD,GAAA,EAAD,CAAKyD,GAAI,GACP,kBAAC9E,GAAA,EAAD,CACEjD,MAAM,YACNgD,QAAQ,YACRnB,QAASqI,EACT9I,UAAWD,EAAQkI,eAEjB5W,EAA6B,eAAnB,oBA9BiB,KAqCvC,SAASsX,KACP,IAAM5I,EAAUtB,KADC,EAYbtK,IARe8Q,EAJF,EAIfhR,gBACA9C,EALe,EAKfA,OACAE,EANe,EAMfA,QACAI,EAPe,EAOfA,gBACAC,EARe,EAQfA,WACAZ,EATe,EASfA,WACAH,EAVe,EAUfA,OACAC,EAXe,EAWfA,UAXe,EAwBqBnC,IAAMI,UAAS,GAxBpC,mBAwBVka,EAxBU,KAwBGC,EAxBH,OAyBmBva,IAAMI,UAAS,GAzBlC,mBAyBVoa,EAzBU,KAyBEC,EAzBF,OA0BuBza,IAAMI,UAAS,GA1BtC,mBA0BVsa,EA1BU,KA0BIC,EA1BJ,OA4BqCxT,IAA9CjB,EA5BS,EA4BTA,mBAAoBK,EA5BX,EA4BWA,sBA5BX,EA6BqBvG,IAAMI,SAAS,GA7BpC,mBA6BVuW,EA7BU,KA6BGC,EA7BH,OA8B+B5W,IAAMI,UAAS,GA9B9C,mBA8BVwa,EA9BU,KA8BQC,EA9BR,OA+B+B7a,IAAMI,SACpDe,KAAiBwN,KAAK,MAhCP,mBA+BVmM,EA/BU,KA+BQC,EA/BR,KAkCXC,EAAgBhb,IAAM+C,SAAQ,WAClC,IAAImU,EACJ,IACEA,EAAgB/V,SAAagW,WAC3BR,EAAYzO,WACZ7F,GAEF,MAAOvC,GACPoX,EAAgB/V,KAAiBwN,KAAK,KAExC,OAAOiM,EAAmBE,EAAmB5D,IAC5C,CAACP,EAAamE,EAAkBF,EAAkBvY,IAE/C4Y,EAA2B,uCAAG,sBAAAzX,EAAA,yDAC7Bd,EAD6B,yCAEzB8T,KAFyB,OAIjCgE,EAAyBU,IAAZC,IAJoB,2CAAH,qDAO3BA,EAAO,uCAAG,4BAAA3X,EAAA,sEAEZ+W,GAAe,GAFH,SAGKtX,EAAWkY,QAAQ7Z,EAAiB0Z,GAHzC,cAGNlU,EAHM,OAIZZ,EAAmB,aAAD,OAAchE,GAAU4E,EAAGV,MAJjC,SAKNU,EAAGI,OALG,cAMZhB,EAAmB,YAAD,OAAahE,GAAU4E,EAAGV,MANhC,UAONgV,IAPM,0DASZ7U,EAAsB,EAAD,IATT,yBAWZgU,GAAe,GAXH,6EAAH,qDAePW,EAAO,uCAAG,4BAAA1X,EAAA,mEAERwX,EAAcvT,SAFN,yCAGHlB,EAAsB,0BAHnB,UAIPqU,IAAoBI,EAAclO,GAAGgO,GAJ9B,yCAKHvU,EACL,6DANQ,cASZoU,GAAgB,GATJ,SAUK3X,EAAgBqY,MAAML,GAV3B,cAUNlU,EAVM,OAWZZ,EAAmB,cAAD,OAAehE,GAAU4E,EAAGV,MAXlC,UAYNU,EAAGI,OAZG,QAaZhB,EAAmB,aAAD,OAAchE,GAAU4E,EAAGV,MAC7CkV,IAdY,kDAgBZ/U,EAAsB,EAAD,IAhBT,yBAkBZoU,GAAgB,GAlBJ,6EAAH,qDAsBPS,EAAc,uCAAG,4BAAA5X,EAAA,yDACfP,GAAcL,EADC,yCACgB6X,GAAc,IAD9B,uBAEGxX,EAAWsY,UAAU3Y,EAAStB,GAFjC,OAEfia,EAFe,OAGrBd,EAAcc,EAAUzS,IAAIkS,IAHP,2CAAH,qDA+EdM,EAAqB,uCAAG,4BAAA9X,EAAA,yDACtBP,GAAcL,EADQ,iEAEAK,EAAWiK,UAAUtK,GAFrB,WAGxB6E,EADEuT,EAFsB,yDAI5BpE,EAAe/O,EAAYmT,EAAe3Y,EAAY,KACtDwY,GAAoB,GACpBE,EAAoBC,GANQ,4CAAH,qDAiB3B,OARAhb,IAAMqF,WAAU,WACd+V,MACC,CAACnY,EAAYL,EAASoY,IAEzBhb,IAAMqF,WAAU,WACdiW,MACC,CAACrY,EAAYL,IAGd,oCACIV,EACA,yBAAKqP,UAAW,QACd,kBAACiG,GAAA,EAAD,CACE1J,GAAG,SACHtN,MAAOmW,EACPc,MACE,yBAAKlG,UAAU,gCACb,yBAAKA,UAAU,aAAf,mBAA4CrP,EAA5C,KACA,6BACE,kBAACsZ,GAAD,CAASlD,OAAO,YAAYE,aAAcrW,MAIhDkE,KAAK,SACLqR,KAAK,MACLnG,UAAWD,EAAQqG,MACnBC,gBAAiB,CACfC,QAAQ,GAEVC,WAAS,EACTC,SA5CiB,SAAA0D,GACzBZ,GAAoB,GACpBjE,EAAe6E,EAAMjK,OAAOhR,UA6CtB,kBAACiU,GAAA,EAAD,CAAKlD,UAAU,iBAAiByG,GAAI,GAClC,kBAAC5E,GAAA,EAAD,CACEjD,MAAM,UACNgD,QAAQ,WACRnB,QAASsJ,EACTrD,WAAYhV,GAAcL,GAC1B2O,UAAWD,EAAQ+E,WALrB,SAxBK,KAqCX,kBAAC5B,GAAA,EAAD,CAAKyD,GAAI,GACP,kBAAC9E,GAAA,EAAD,CACEjD,MAAM,YACNgD,QAAQ,YACR8E,SAAUyC,GAAgBJ,EAC1BtI,QAASiJ,EACT1J,UAAWD,EAAQkI,eAElBkB,EACG,gBACAJ,EACA,eACC5X,EAEA8X,EAED,UADA,UAFA,oBCrZd,IAAMxK,GAAYC,aAAW,SAAA5P,GAAK,MAAK,CACrC+P,UAAW,CACTE,QAAS,OACToL,iBAAkB,cAClBhI,oBAAqB,UACrBC,UAAW,OACXgI,OAAQ,QAEV/H,IAAK,CACHtD,QAAS,OACTuD,SAAU,EACVC,cAAe,SACf2B,eAAgB,SAChBpF,QAAS,GACTkG,anBjByB,EmBkBzBxF,WAAY1Q,EAAMkS,QAAQvR,OAAS,OAAS,OAC5CmP,MAAO9P,EAAMkS,QAAQvR,OAAS,QAAU,eAI7B,cACb,IAAMsQ,EAAUtB,KADQ,EAGoB1C,KAApCzC,EAHgB,EAGhBA,iBAAkBa,EAHF,EAGEA,cAEpB6I,EAAQvU,IAAM+C,SAClB,iBAAM,CACJ,CACEyR,KAAM,iBACNhU,MAAO,CAAC,GAAD,OAAI8G,EAAQuD,EAAkB,EAAG,GAAjC,UAGT,CACE2J,KAAM,mBACNhU,MAAO,CAAC,kBAACob,GAAD,CAAW1F,GAAIxK,SAG3B,CAACb,EAAkBa,IAGrB,OACE,kBAAC+I,GAAA,EAAD,CAAKlD,UAAWI,aAAKL,EAAQlB,YAC1BmE,EAAM1G,KAAI,SAAAmH,GAAC,OACV,kBAAC,GAAD,eAASE,IAAKF,EAAER,MAAUQ,SAMlC,SAASC,GAAT,GAAmC,IAAhBT,EAAe,EAAfA,KAAMhU,EAAS,EAATA,MACjB8Q,EAAUtB,KAEhB,OACE,kBAAC+B,GAAA,EAAD,CAAOR,UAAWI,aAAKL,EAAQsC,MAC7B,6BAAMY,GACN,6BACGhU,EAAMqN,KAAI,SAACzO,EAAG2M,GAAJ,OACT,yBAAKmJ,IAAKnJ,GAAI3M,QAOxB,SAASwc,GAAT,GAA4B,IAAP1F,EAAM,EAANA,GAAM,EACOlW,IAAMI,SAAS,KADtB,mBAClByb,EADkB,KACRC,EADQ,KAmBzB,OAhBA9b,IAAMqF,WAAU,WACd,IAAIoC,EAAOyO,GAAX,CACA,IAAIpI,EAAKiO,aAAY,WACnB,GAAIC,KAAOC,KAAK/F,GAAIgG,SAASF,KAAOG,OAIlC,OAHAL,EAAY,SACZM,cAActO,QACdA,EAAK,MAGPgO,EAAY,GAAD,OAAIE,KAAOC,KAAK/F,GAAIvH,KAAKqN,KAAOG,OAAO,GAAvC,YACV,KACH,OAAO,WACDrO,GAAIsO,cAActO,OAEvB,CAACoI,IAEG,6BAAM2F,G,0ECzFA,eAKX,IAAD,IAJDQ,YAIC,MAJM,GAIN,MAHDC,eAGC,MAHS,EAGT,EAFDC,EAEC,EAFDA,WAEC,IADDpM,aACC,MADO,UACP,EACD,OACE,yBACE+B,MAAK,yBACH5B,QAAS,OACTmF,eAAgB,SAChB+G,WAAY,SACZ1H,OAAQ,QACJyH,EACA,CACE5L,SAAU,QACV8L,KAAM,EACN5L,MAAO,EACPD,IAAK,EACL8L,OAAQ,GAEV,IAbD,IAcHrH,OAAQ,IACRiH,aAGF,yBAAKpK,MAAO,CAAEvB,SAAU,aACtB,kBAACgM,GAAA,EAAD,CACEzK,MAAO,CAAEvB,SAAU,YACnB8L,KAAM,EACN7L,IAAK,EACCyL,OAAMlM,QACZyM,OAAO,+BChBX5M,GAAYC,aAAW,SAAA5P,GAAK,MAAK,CACrC+P,UAAW,CACTyE,MAAO,IACPC,OAAQ,IACRzE,QAAS,cACTwM,WAAY,UAEdC,EAAG,CACDnM,SAAU,WACVC,IAAK,EACLC,MAAO,EACPC,OAAQ,eAIG,eAAuB,IAAZsJ,EAAW,EAAXA,QAClB9I,EAAUtB,KADmB,EAEPD,KAApBtR,EAF2B,EAE3BA,MAAOmD,EAFoB,EAEpBA,SAET8O,EAAQ,kBAAM0J,EAAQxK,KAAK,MAEjC,OACE,kBAACmN,GAAA,EAAD,CAAQC,QAAStM,EAAOuM,kBAAgB,QAAQC,MAAM,GACpD,yBAAK3L,UAAWI,aAAK,OAAQ,YAAa,WAAYL,EAAQlB,YAC5D,oCACE,yBAAKmB,UAAWD,EAAQwL,GACtB,kBAAC,KAAD,CAAM5K,MAAO,CAAEhB,SAAU,IAAMc,QAAStB,KAE1C,6CAEE9O,EAGA,kBAACub,GAAA,EAAD,CAAO5L,UAAWD,EAAQ8L,OAAQ7J,aAAW,SAC3C,kBAAC8J,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,aACA,kBAACA,GAAA,EAAD,eACA,kBAACA,GAAA,EAAD,CAAWC,MAAM,YAGrB,kBAACC,GAAA,EAAD,KACGhf,EAAMoP,KAAI,SAAA6P,GAAI,OACb,kBAACC,GAAD,eAAMzI,IAAKwI,EAAK5O,MAAU4O,SAZhC,kBAACE,GAAD,UAuBZ,SAASD,GAAT,GAAkE,IAAlD7O,EAAiD,EAAjDA,KAAMQ,EAA2C,EAA3CA,SAAUD,EAAiC,EAAjCA,SAAUN,EAAuB,EAAvBA,SAAUK,EAAa,EAAbA,UAC5CkC,EAAUtB,KAD+C,EAE7BhQ,IAAMI,SAAS,MAFc,mBAExDyd,EAFwD,KAE7CC,EAF6C,KAGvDlb,EAAY8C,IAAZ9C,QACAkE,EAAOK,IAAPL,GAEFiX,EAAK,uCAAG,sBAAAva,EAAA,6DACZsa,EAAa,eADD,kBAGJhX,EAAG,cAAe,YAAY,kBAClCiI,EAASgP,MACP3O,EAAUI,MACV5M,EACAwM,EAAU4O,OACV5O,EAAU6O,UARJ,uBAYVH,GAAa,GAZH,uEAAH,qDAgBX,OACE,kBAACR,GAAA,EAAD,CAAU/L,UAAWD,EAAQ4M,MAC3B,kBAACX,GAAA,EAAD,CAAWtD,UAAU,KAAKkE,MAAM,OAC7BrP,GAEH,kBAACyO,GAAA,EAAD,KACGjO,EAAWzH,EAAY/C,SAASsZ,OAAOhP,EAAU4O,QAAS,IAAK,IAAM,EAAG,IAD3E,OAIA,kBAACT,GAAA,EAAD,CAAWC,MAAM,SACf,kBAACpK,GAAA,EAAD,CACEjD,MAAM,YACNgD,QAAQ,WACRnB,QAAS+L,EACT9F,WAAY4F,IAAcvO,GAAYD,GAErCwO,IAAwBxO,EAAW,UAAY,YCvG1D,IAAMW,GAAYC,aAAW,SAAA5P,GAAK,MAAK,CACrC+P,UAAW,CACTyE,MAAO,IACPxE,QAAS,cACTwM,WAAY,SACZ,WAAY,CACVhI,MAAO,OACPxE,QAAS,SACT8E,UAAW,GACXjE,SAAU,KAGd4L,EAAG,CACDnM,SAAU,WACVC,IAAK,EACLC,MAAO,EACPC,OAAQ,WAEVuN,OAAQ,CACN/N,QAAS,OACTkM,WAAY,SACZ1L,OAAQ,UACRwN,OAAQ,SACR,QAAS,CACP7N,YAAa,IAEf,UAAW,CACT6L,QAAS,KAGbiC,IAAK,CACHpO,MAAO9P,EAAMkS,QAAQsD,UAAUpD,UAIpB,cACb,IAAMnB,EAAUtB,KACVqO,EAAS3Y,IAEf,OACE,kBAACqX,GAAA,EAAD,CACEC,QAAS,aACTC,kBAAgB,uBAChBC,KAAMmB,EAAOvb,kBAAoBub,EAAOvc,cAExC,yBAAKyP,UAAWI,aAAK,OAAQ,YAAa,WAAYL,EAAQlB,YAC1DiO,EAAOvb,iBA2CP,kBAAC2R,GAAA,EAAD,CACEyD,GAAI,EACJ3G,UAAWI,aACT,OACA,WACA,eACA,iBACA,gBAGF,uEACA,wEACwC,IACtC,0BAAMJ,UAAWD,EAAQiN,KtB9Ec,YsBgFzC,mCACA,yBAAKhN,UAAU,iBAAiBS,QAASqM,EAAO5Y,YAAhD,eA1DF,oCACE,yBAAK8L,UAAWD,EAAQwL,GACtB,kBAAC,KAAD,CAAM5K,MAAO,CAAEhB,SAAU,IAAMc,QAASqM,EAAO/a,kBAEjD,8CACA,yBAAKiO,UAAWI,aAAK,OAAQ,aAC3B,yBACEK,QAASqM,EAAO1a,gBAChB4N,UAAWI,aAAKL,EAAQ+M,SAExB,yBACE1J,IAAI,uBACJE,MAAM,KACNC,OAAO,KACPF,IAAI,oBAEN,0CAEF,yBAAK5C,QAASqM,EAAOxa,WAAY0N,UAAWI,aAAKL,EAAQ+M,SACvD,yBACE1J,IAAI,kBACJE,MAAM,KACNC,OAAO,KACPF,IAAI,eAEN,gDAEF,yBACE5C,QAASqM,EAAOta,aAChBwN,UAAWI,aAAKL,EAAQ+M,SAExB,yBACE1J,IAAI,oBACJE,MAAM,KACNC,OAAO,KACPF,IAAI,iBAEN,mDCtEV5E,GAAYC,aAAW,SAAA5P,GAAK,MAAK,CACrC+P,UAAU,cACRyE,MAAO,QACPyJ,OAAQ,SACRjO,QAAS,eACTM,SAAU,YACTtQ,EAAMsS,YAAYC,KAAK,MAAQ,CAC9BvC,QAAS,cACTwE,MAAO,SAGX3E,MAAO,CACLqG,avB5ByB,GuB8B3BiI,WAAY,CACVnO,QAAS,IAEXoO,aAAc,CACZtO,MAAO9P,EAAMkS,QAAQvR,OAAS,OAAS,QAEzC0d,iBAAkB,CAChBvO,MAAO9P,EAAMkS,QAAQvR,OAAS,OAAS,YAI5B,SAAS2d,KACtB,IAAMrN,EAAUtB,KACiBD,KAAzB5B,qBAER,OACE,kBAACsG,GAAA,EAAD,CAAKlD,UAAWD,EAAQlB,WACtB,kBAAC,KAAD,CAAQwO,SAAUhgB,GAChB,kBAAC,GAAD,MACA,kBAACigB,GAAD,MACA,kBAAC9M,GAAA,EAAD,CAAOR,UAAWD,EAAQpB,OACxB,kBAAC4O,GAAD,MACA,kBAACrK,GAAA,EAAD,CAAKlD,UAAWD,EAAQkN,YACtB,kBAAC,KAAD,KACE,kBAAC,KAAD,CAAOzI,KAAM,WAAYkE,UAAWC,KACpC,kBAAC,KAAD,CAAOF,OAAK,EAACjE,KAAM,YAAakE,UAAW8E,KAC3C,kBAAC,KAAD,CAAO/E,OAAK,EAACjE,KAAM,SAAUkE,UAAW+E,KACxC,kBAAC,KAAD,CAAOhF,OAAK,EAACjE,KAAM,SAAUkE,UAAWgF,KACxC,kBAAC,KAAD,CAAU/I,GAAI,gBAIpB,kBAACgJ,GAAD,QC/CR,IAAMlP,GAAYC,aAAW,SAAA5P,GAAK,MAAK,CACrC8e,SAAU,CACRvO,IAAK,QAmBT,SAASwO,KACP,IAAM9N,EAAUtB,KACRhP,EAAWL,IAAXK,OACFqe,EtBFD,WACL,IAAMze,EAAUZ,IAAMa,WAAWd,GACjC,IAAKa,EACH,MAAM,IAAIE,MAAM,yBAHU,IAOpBE,EAAWD,EADDH,EAAVP,OACAW,OAER,OAAOse,YAAe,CACpBC,WAAY,CACVC,WAAY,uBAEdjN,QAAS,CACPvR,SACAqF,KAAMrF,EAAS,OAAS,QACxBye,YAAaze,EAAS,OAAS,UAC/B+P,WAAY,GAIZyB,QAAS,CACPC,KAAMzR,EAAS,UAAY,WAE7B6U,UAAW,CACTpD,KFvBuB,YE0B3BiN,UAAW,CACTC,UAAW,CACTC,KAAM,CACJrJ,aFpEmB,IEuEvBsJ,SAAU,CACRC,QAAS,CACPvJ,aFzEmB,IE4EvBwJ,UAAW,CACT7P,MAAO,CACLqG,aF9EmB,OwBuCVyJ,GAUjB,OARAhgB,IAAMqF,WAAU,WACd,IAAMua,EAAOK,SAASC,gBAClBN,EAAKO,UAAUC,SAASpf,EAAS,QAAU,UAC7C4e,EAAKO,UAAUE,OAAOrf,EAAS,QAAU,QACzC4e,EAAKO,UAAU1U,IAAIzK,EAAS,OAAS,YAEtC,CAACA,IAGF,kBAAC,IAAD,CAAkBX,MAAOgf,GACvB,kBAACiB,EAAA,EAAD,MACA,kBAAC,IAAD,CACEhP,QAAS,CAAEsO,KAAMtO,EAAQ6N,UACzBoB,SAAU,EACVC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdC,QAAS,SAACzL,EAAK0L,GAAN,OACP,6BACE,kBAACC,GAAD,CAAc/S,GAAIoH,EAAK7D,aAAcuP,OAIzC,kBAAC7a,EAAD,KACE,kBAACpE,EAAD,KACE,kBAACoH,GAAD,KACE,kBAACkF,GAAD,KACE,kBAAC0Q,GAAD,YAhDhB,sBAAC,4BAAAnb,EAAA,sDACCyc,SAASC,gBAAgBC,UAAUE,OAAO,eAC1CJ,SAASa,eAAe,oBAAoBT,UACtCT,EAAOK,SAASc,cAAc,QAC/BC,aAAa,KAAM,QACxBf,SAASgB,KAAKC,YAAYtB,GAE1BuB,iBACE,kBAAC,EAAD,KACE,kBAAC/B,GAAD,OAEFa,SAASa,eAAe,SAX3B,0CAAD,GdwGM,kBAAmBM,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,iB","file":"static/js/main.bcf62e59.chunk.js","sourcesContent":["export const APP_SLUG = 'goat';\n\nexport const APP_TITLE = 'Goat Staking';\n\nexport const CACHE_WALLET_KEY = 'wallet';\n\nexport const BORDER_RADIUS = 8;\n\nexport const IS_TESTNET = false; //~window.location.href.indexOf('testnet');\n\nexport const NETWORKS = {\n  56: {\n    stakingAddress: ~window.location.href.indexOf('beta')\n      ? '0x7044326135a8f416dd4a1d48bc47f808879ed425'\n      : ~window.location.href.indexOf('test')\n      ? '0x7044326135a8f416dd4a1d48bc47f808879ed425'\n      : '0x7044326135a8f416dd4a1d48bc47f808879ed425',\n    drops:\n      ~window.location.href.indexOf('localhost') ||\n      ~window.location.href.indexOf('test')\n        ? new Map([\n            ['0xC32F5887840314aB000dbA3125d84466B97bd08B', '2021-01-25'],\n          ])\n        : new Map([\n            ['0xC32F5887840314aB000dbA3125d84466B97bd08B', '2021-01-25'],\n          ]),\n  },\n  97: {\n    stakingAddress: '',\n  },\n};\n\nexport const NETWORK_NAME = IS_TESTNET ? 'testnet' : 'mainnet';\n\nexport const NETWORK_CHAIN_ID = IS_TESTNET ? 97 : 56;\n\nexport const READ_WEB3_PROVIDER = IS_TESTNET\n  ? 'https://data-seed-prebsc-1-s1.binance.org:8545'\n  : 'https://bsc-dataseed1.binance.org:443';\n\nexport const EMPTY_CALL_DATA =\n  '0x0000000000000000000000000000000000000000000000000000000000000001';\n\nexport const ROUTER_BASE_NAME = process.env.REACT_APP_ROUTER_BASE_NAME;\n\nexport const SECONDARY_COLOR = '#ffa132';\n\nexport const NETWORK = NETWORKS[NETWORK_CHAIN_ID];\n\nexport const API_URL = process.env.REACT_APP_API_URL;\n","export default function cache(k, v) {\n  switch (arguments.length) {\n    case 2:\n      if (v === null) return window.localStorage.removeItem(k);\n      return window.localStorage.setItem(k, JSON.stringify(v));\n\n    case 1:\n      try {\n        return JSON.parse(window.localStorage.getItem(k));\n      } catch (e) {\n        return null;\n      }\n\n      default:\n        return;\n  }\n}","import React from 'react';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { BORDER_RADIUS, SECONDARY_COLOR } from '../config';\nimport cache from '../utils/cache';\n\nconst ThemeContext = React.createContext(null);\n\nexport function ThemeProvider({ children }) {\n  const [theme, setTheme] = React.useState(cache('theme') || 'dark');\n\n  const toggleTheme = () => {\n    setTheme(theme => {\n      const newTheme = theme === 'dark' ? 'light' : 'dark';\n      cache('theme', newTheme);\n      return newTheme;\n    });\n  };\n\n  return (\n    <ThemeContext.Provider\n      value={{\n        theme,\n        toggleTheme,\n      }}\n    >\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = React.useContext(ThemeContext);\n  if (!context) {\n    throw new Error('Missing theme context');\n  }\n  const { theme, toggleTheme } = context;\n  return {\n    theme,\n    toggleTheme,\n    ...getProps(theme),\n  };\n}\n\nexport function useMuiTheme() {\n  const context = React.useContext(ThemeContext);\n  if (!context) {\n    throw new Error('Missing theme context');\n  }\n\n  const { theme } = context;\n  const { isDark } = getProps(theme);\n\n  return createMuiTheme({\n    typography: {\n      fontFamily: '\"Rubik\", sans-serif',\n    },\n    palette: {\n      isDark,\n      type: isDark ? 'dark' : 'light',\n      borderColor: isDark ? '#555' : '#ffa132',\n      background: {\n        // default: '',\n        // paper: '',\n      },\n      primary: {\n        main: isDark ? '#ffffff' : '#373836',\n      },\n      secondary: {\n        main: SECONDARY_COLOR,\n      },\n    },\n    overrides: {\n      MuiButton: {\n        root: {\n          borderRadius: BORDER_RADIUS,\n        },\n      },\n      MuiPaper: {\n        rounded: {\n          borderRadius: BORDER_RADIUS,\n        },\n      },\n      MuiDialog: {\n        paper: {\n          borderRadius: BORDER_RADIUS,\n        },\n      },\n    },\n  });\n}\n\nfunction getProps(theme) {\n  const isDark = theme === 'dark';\n  const secondaryColor = isDark ? 'rgb(53, 197, 243)' : '#007cc3';\n  return { isDark, secondaryColor };\n}\n","import React from 'react';\nimport { ethers } from 'ethers';\nimport {\n  NETWORK,\n  READ_WEB3_PROVIDER,\n  CACHE_WALLET_KEY,\n  NETWORK_CHAIN_ID,\n} from '../config';\nimport cache from '../utils/cache';\nimport STAKING_ABI from '../abis/staking.json';\nimport LP_ABI from '../abis/lp.json';\nimport ERC20_ABI from '../abis/erc20.json';\n\nexport const READ_PROVIDER = new ethers.providers.JsonRpcProvider(\n  READ_WEB3_PROVIDER\n);\nexport const { stakingAddress: STAKING_ADDRESS } = NETWORK;\nexport const READ_STAKING_CONTRACT = new ethers.Contract(\n  STAKING_ADDRESS,\n  STAKING_ABI,\n  READ_PROVIDER\n);\n\nconst WalletContext = React.createContext(null);\n\nexport function WalletProvider({ children }) {\n  const [isLoaded, setIsLoaded] = React.useState(false);\n  const [isConnecting, setIsConnecting] = React.useState(false);\n  const [chainId, setChainId] = React.useState(null);\n\n  const [lpName] = React.useState('CAKE-LP');\n  const [lpAddress, setLpAddress] = React.useState(null);\n  const [lpDecimals] = React.useState(18);\n\n  const [goatAddress, setGoatAddress] = React.useState(null);\n  const [goatDecimals] = React.useState(18);\n\n  const [wrappedBNBDecimals] = React.useState(18);\n\n  const [signer, setSigner] = React.useState(null);\n  const [address, setAddress] = React.useState(null);\n\n  const isOnWrongNetwork = React.useMemo(\n    () => chainId && chainId !== NETWORK_CHAIN_ID,\n    [chainId]\n  );\n\n  const stakingContract = React.useMemo(\n    () =>\n      !signer\n        ? READ_STAKING_CONTRACT\n        : new ethers.Contract(STAKING_ADDRESS, STAKING_ABI, signer),\n    [signer]\n  );\n\n  const lpContract = React.useMemo(\n    () =>\n      lpAddress &&\n      new ethers.Contract(lpAddress, LP_ABI, signer || READ_PROVIDER),\n    [signer, lpAddress]\n  );\n\n  const goatContract = React.useMemo(\n    () =>\n      goatAddress &&\n      new ethers.Contract(goatAddress, ERC20_ABI, signer || READ_PROVIDER),\n    [signer, goatAddress]\n  );\n\n  const wrappedBNBContract = React.useMemo(\n    () =>\n      new ethers.Contract(\n        '0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c',\n        ERC20_ABI,\n        signer || READ_PROVIDER\n      ),\n    [signer]\n  );\n\n  const startConnecting = () => setIsConnecting(true);\n  const stopConnecting = () => setIsConnecting(false);\n\n  async function connectToCached() {\n    if (address) return;\n\n    const cachedWallet = cache(CACHE_WALLET_KEY);\n    if (cachedWallet) {\n      const c = {\n        metamask: connectMetamask,\n        bsc: connectBsc,\n        trust: connectTrust,\n      };\n      c[cachedWallet]();\n    }\n  }\n\n  async function connectMetamask() {\n    await window.ethereum.enable();\n    cache(CACHE_WALLET_KEY, 'metamask');\n    await setProvider(window.ethereum);\n  }\n\n  async function connectBsc() {\n    if (!window.BinanceChain) return;\n    await window.BinanceChain.enable();\n    cache(CACHE_WALLET_KEY, 'bsc');\n    await setProvider(window.BinanceChain);\n  }\n\n  async function connectTrust() {\n    await window.ethereum.enable();\n    if (!window.ethereum.isTrust) return;\n    cache(CACHE_WALLET_KEY, 'trust');\n    await setProvider(window.ethereum);\n  }\n\n  async function setProvider(web3Provider) {\n    web3Provider.on('accountsChanged', () => {\n      window.location.reload();\n    });\n    web3Provider.on('chainChanged', () => {\n      window.location.reload();\n    });\n    // web3Provider.on('disconnect', () => {\n    //   disconnect();\n    // });\n    const provider = new ethers.providers.Web3Provider(web3Provider);\n    let { chainId: c } = await provider.getNetwork();\n    // android trust wallet bug\n    [56, 97].forEach(o => {\n      if (parseInt(`0x${o}`, 16) === parseInt(c)) c = o;\n    });\n    setChainId(c);\n    if (c === NETWORK_CHAIN_ID) {\n      const signer = provider.getSigner();\n      setSigner(signer);\n      setAddress(await signer.getAddress());\n      stopConnecting();\n    }\n  }\n\n  async function disconnect() {\n    cache(CACHE_WALLET_KEY, null);\n    setSigner(null);\n    setAddress(null);\n    setChainId(null);\n  }\n\n  // async function loadLpInfo() {\n  //   if (!lpContract) return;\n  //   const [decimals, symbol] = await Promise.all([\n  //     lpContract.decimals(),\n  //     lpContract.symbol(),\n  //   ]);\n  //   setLpDecimals(decimals);\n  //   setLpName(symbol);\n  // }\n\n  async function load() {\n    const [lpAddress, goatAddress] = await Promise.all([\n      stakingContract.stakingToken,\n      stakingContract.rewardsToken,\n      connectToCached(),\n    ]);\n    setLpAddress(lpAddress);\n    setGoatAddress(goatAddress);\n    setIsLoaded(true);\n  }\n\n  // React.useEffect(() => {\n  //   loadLpInfo();\n  // }, [lpContract]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  React.useEffect(() => {\n    load();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <WalletContext.Provider\n      value={{\n        isLoaded,\n\n        chainId,\n        signer,\n        address,\n        isOnWrongNetwork,\n\n        lpAddress,\n        lpContract,\n        lpDecimals,\n        lpName,\n\n        goatContract,\n        goatAddress,\n        goatDecimals,\n\n        // cakeContract,\n        // cakeAddress,\n        cakeDecimals: 18,\n\n        stakingContract,\n\n        wrappedBNBContract,\n        wrappedBNBDecimals,\n\n        isConnecting,\n        startConnecting,\n        stopConnecting,\n        disconnect,\n\n        connectMetamask,\n        connectBsc,\n        connectTrust,\n      }}\n    >\n      {children}\n    </WalletContext.Provider>\n  );\n}\n\nexport function useWallet() {\n  const context = React.useContext(WalletContext);\n  if (!context) {\n    throw new Error('Missing wallet context');\n  }\n  const {\n    isLoaded,\n\n    chainId,\n    signer,\n    address,\n    config,\n    isOnWrongNetwork,\n\n    lpAddress,\n    lpContract,\n    lpDecimals,\n    lpName,\n\n    goatContract,\n    goatAddress,\n    goatDecimals,\n\n    cakeContract,\n    cakeAddress,\n    cakeDecimals,\n\n    stakingContract,\n\n    wrappedBNBContract,\n    wrappedBNBDecimals,\n\n    isConnecting,\n    startConnecting,\n    stopConnecting,\n    disconnect,\n\n    connectMetamask,\n    connectBsc,\n    connectTrust,\n  } = context;\n\n  return {\n    isLoaded,\n\n    chainId,\n    signer,\n    address,\n    config,\n    isOnWrongNetwork,\n\n    lpAddress,\n    lpContract,\n    lpDecimals,\n    lpName,\n\n    goatContract,\n    goatAddress,\n    goatDecimals,\n\n    cakeContract,\n    cakeAddress,\n    cakeDecimals,\n\n    stakingContract,\n\n    wrappedBNBContract,\n    wrappedBNBDecimals,\n\n    isConnecting,\n    startConnecting,\n    stopConnecting,\n    disconnect,\n\n    connectMetamask,\n    connectBsc,\n    connectTrust,\n  };\n}\n","import React from 'react';\nimport { useSnackbar } from 'notistack';\n\nconst NotificationsContext = React.createContext(null);\n\nexport function NotificationsProvider({ children }) {\n  const { enqueueSnackbar } = useSnackbar();\n\n  const showTxNotification = (description, hash) =>\n    enqueueSnackbar(\n      { type: 'tx', description, hash },\n      {\n        persist: true,\n      }\n    );\n\n  const showErrorNotification = msg =>\n    enqueueSnackbar(\n      {\n        type: 'error',\n        message: msg?.error?.message || msg.responseText || msg.message || msg,\n      },\n      {\n        persist: true,\n      }\n    );\n\n  const showSuccessNotification = (title, message) =>\n    enqueueSnackbar(\n      {\n        type: 'success',\n        title,\n        message,\n      },\n      {\n        persist: true,\n      }\n    );\n\n  const tx = async (startNotification, endNotification, makeTx) => {\n    try {\n      const { hash, wait } = await makeTx();\n      showTxNotification(startNotification, hash);\n      await wait();\n      showSuccessNotification(endNotification, hash);\n    } catch (e) {\n      showErrorNotification(e);\n      throw e;\n    }\n  };\n\n  return (\n    <NotificationsContext.Provider\n      value={{\n        showTxNotification,\n        showErrorNotification,\n        showSuccessNotification,\n        tx,\n      }}\n    >\n      {children}\n    </NotificationsContext.Provider>\n  );\n}\n\nexport function useNotifications() {\n  const context = React.useContext(NotificationsContext);\n  if (!context) {\n    throw new Error('Missing notifications context');\n  }\n  const {\n    showTxNotification,\n    showErrorNotification,\n    showSuccessNotification,\n    tx,\n  } = context;\n  return {\n    showTxNotification,\n    showErrorNotification,\n    showSuccessNotification,\n    tx,\n  };\n}\n","import BigJs from 'big.js';\nimport toformat from 'toformat';\n\ntoformat(BigJs);\n\nconst PRECISION = 4;\n\nexport function toFixed(a, b, precision) {\n  if (isZero(Big(a)) || isZero(Big(b))) {\n    return '0';\n  }\n  return Big(a)\n    .div(Big(b))\n    .toFormat(precision ?? PRECISION);\n}\n\nexport function formatUnits(a, decimals, precision) {\n  return toFixed(a, Big(10).pow(decimals), precision);\n}\n\nexport function isZero(a) {\n  return Big(a).eq(Big('0'));\n}\n\nexport function Big(n) {\n  return new BigJs(n.toString());\n}\n","import fetch from 'unfetch';\nimport qs from 'query-string';\nimport { API_URL } from '../config';\n\nexport async function get(url, query) {\n  if (query) {\n    url += '?' + qs.stringify(query);\n  }\n  return await (await fetch(url)).json();\n}\n\nexport async function api(url, query) {\n  return get(API_URL + url, query);\n}\n","import React from 'react';\nimport { Big, isZero } from '../utils/big-number';\nimport { useWallet } from '../contexts/wallet';\nimport * as request from '../utils/request';\n\nconst GOAT_APY = Big('144');\n\nconst StatsContext = React.createContext(null);\n\nconst max = (t, e) => (t.gte(e) ? t : e);\nconst min = (t, e) => (t.lte(e) ? t : e);\n\nexport function StatsProvider({ children }) {\n  const {\n    stakingContract,\n    lpContract,\n    wrappedBNBContract,\n    goatContract,\n    lpAddress,\n    lpDecimals,\n    wrappedBNBDecimals,\n    goatDecimals,\n    address,\n  } = useWallet();\n\n  // pool\n\n  const [totalStaked, setTotalStaked] = React.useState(Big('0'));\n  const [totalLockedShares, setTotalLockedShares] = React.useState(Big('0'));\n  const [unlockScheduleCount, setUnlockScheduleCount] = React.useState(\n    Big('0')\n  );\n  const [totalStakingShares, setTotalStakingShares] = React.useState(Big('0'));\n  const [totalLocked, setTotalLocked] = React.useState(Big('0'));\n  const [totalSupply, setTotalSupply] = React.useState(Big('0'));\n  const [startBonus, setStartBonus] = React.useState(Big('0'));\n  const [bonusPeriodSec, setBonusPeriodSec] = React.useState(Big('0'));\n  const [poolBNBBalance, setPoolBNBBalance] = React.useState(Big('0'));\n  const [poolGoatBalance, setPoolGoatBalance] = React.useState(Big('0'));\n  const [schedules, setUnlockSchedules] = React.useState([]);\n  const [bnbUSDPrice, setBNBUSDPrice] = React.useState(Big('0'));\n  const [goatUSDPrice, setGoatUSDPrice] = React.useState(Big('0'));\n\n  // user\n\n  const [availableGoatRewards, setAvailableGoatRewards] = React.useState(\n    Big('0')\n  );\n  const [availableCakeRewards, setAvailableCakeRewards] = React.useState(\n    Big('0')\n  );\n  const [totalStakedFor, setTotalStakedFor] = React.useState(Big('0'));\n  const [\n    totalStakingShareSeconds,\n    setTotalStakingShareSeconds,\n  ] = React.useState(Big('0'));\n  const [userStakingShareSeconds, setUserStakingShareSeconds] = React.useState(\n    Big('0')\n  );\n  const [totalUserRewards, setTotalUserRewards] = React.useState(Big('0'));\n\n  const totalUSDDeposits = React.useMemo(() => {\n    if (\n      !(\n        !isZero(totalStaked) &&\n        !isZero(totalSupply) &&\n        !isZero(poolBNBBalance) &&\n        !isZero(poolGoatBalance) &&\n        !isZero(bnbUSDPrice) &&\n        !isZero(goatUSDPrice) &&\n        goatDecimals &&\n        lpDecimals &&\n        wrappedBNBDecimals\n      )\n    )\n      return Big('0');\n\n    const k = bnbUSDPrice;\n    const A = goatUSDPrice;\n\n    // const l = 18;\n    const c = lpDecimals; // lp\n    const p = wrappedBNBDecimals; // bnb\n    const m = goatDecimals; // goat\n\n    // const g = parseInt(v[0][0]) / 10 ** l;\n    // const y = parseInt(v[0][1]) / 10 ** l;\n    // const b = parseInt(v[0][5]);\n    const w = Big(totalStaked).div(10 ** c);\n    // const _ = parseInt(totalLockedShares);\n    // const x = parseInt(unlockScheduleCount);\n    // const S = parseInt(v[5]) / 10 ** l;\n    const E = Big(totalSupply).div(10 ** c);\n    // const M = yield up(h)\n    // const k = yield up(f)\n    // const A = yield up(d)\n    const T = Big(poolBNBBalance).div(10 ** p);\n    const C = Big(poolGoatBalance).div(10 ** m);\n\n    const O = k.mul(T);\n    const P = A.mul(C);\n\n    const I = w.div(E);\n    const N = O.add(P).mul(I);\n\n    // console.log(\n    //   Object.entries({ N, O, P, I, k, T, A, C, w, E }).reduce((r, [k, v]) => {\n    //     r[k] = v.toString();\n    //     return r;\n    //   }, {})\n    // );\n\n    return N;\n  }, [\n    totalStaked,\n    totalSupply,\n    poolBNBBalance,\n    poolGoatBalance,\n    bnbUSDPrice,\n    goatUSDPrice,\n    goatDecimals,\n    lpDecimals,\n    wrappedBNBDecimals,\n  ]);\n\n  const stakingEndSec = React.useMemo(\n    () =>\n      !schedules.length ? Big('0') : schedules[schedules.length - 1].endAtSec,\n    [schedules]\n  );\n\n  const hourlyUnlockRate = React.useMemo(() => {\n    if (!(!isZero(totalLockedShares) && !isZero(totalLocked) && schedules))\n      return Big('0');\n\n    // const totalLockedSharesNormalized = totalLockedShares.div(1e18);\n\n    const m = parseInt(Date.now() / 1e3);\n    const i = Big(3600);\n\n    const scheduleSharesEmittedPerHour = schedules.reduce((t, schedule) => {\n      return t.add(\n        min(max(schedule.endAtSec.sub(m), Big('0')), i)\n          .div(schedule.durationSec)\n          .mul(schedule.initialLockedShares)\n      );\n    }, Big('0'));\n\n    return isZero(totalLocked)\n      ? Big('0')\n      : scheduleSharesEmittedPerHour\n          .div(totalLockedShares)\n          .mul(totalLocked)\n          .div(1e9);\n  }, [totalLockedShares, totalLocked, schedules]);\n\n  const apy = React.useMemo(() => {\n    if (!(!isZero(hourlyUnlockRate) && !isZero(totalUSDDeposits)))\n      return Big('0');\n\n    let BNB_APY = bnbUSDPrice\n      .mul(250)\n      .div(totalUSDDeposits)\n      .mul(1300);\n\n    let apy = hourlyUnlockRate\n      .div(totalUSDDeposits)\n      .mul(8760)\n      .mul(100)\n      .add(GOAT_APY)\n      .add(BNB_APY);\n\n    if (apy.gte(1e6)) {\n      apy = Big(1e6);\n    }\n\n    return apy;\n  }, [hourlyUnlockRate, totalUSDDeposits, bnbUSDPrice]);\n\n  const rewardMultiplier = React.useMemo(() => {\n    if (!!isZero(startBonus)) return Big('1');\n    const maxMultiplier = Big('1').div(startBonus);\n    const minMultiplier = 1;\n    const e = {\n      startBonus,\n      maxMultiplier,\n      minMultiplier,\n    };\n    const p = availableGoatRewards;\n    const m = totalUserRewards;\n    let w = e.startBonus;\n    const z = isZero(totalUserRewards) ? Big('1') : p.div(m);\n    if (m.gt(Big('0'))) {\n      w = max(w, z);\n    }\n    const _ = w.sub(e.startBonus).div(Big(1).sub(e.startBonus));\n    const S = _.mul(e.maxMultiplier.sub(e.minMultiplier)).add(e.minMultiplier);\n    // console.log(\n    //   Object.entries({\n    //     p,\n    //     m,\n    //     w,\n    //     _,\n    //     S,\n    //     startBonus,\n    //     maxMultiplier,\n    //     minMultiplier,\n    //     a: w.sub(e.startBonus),\n    //     b: Big(1).sub(e.startBonus),\n    //     z,\n    //   }).reduce((r, [k, v]) => {\n    //     r[k] = v.toString();\n    //     return r;\n    //   }, {})\n    // );\n    return S;\n  }, [startBonus, totalUserRewards, availableGoatRewards]);\n\n  const bnbPonusPoolSharePercentage = React.useMemo(() => {\n    if (isZero(totalStakingShareSeconds)) return Big('0');\n    return userStakingShareSeconds.div(totalStakingShareSeconds);\n  }, [userStakingShareSeconds, totalStakingShareSeconds]);\n\n  const bnbPonusPoolShareAmount = React.useMemo(() => {\n    const poolAmount = Big('250').mul(10 ** wrappedBNBDecimals); // total amount of BNB paid out\n    return poolAmount.mul(bnbPonusPoolSharePercentage);\n  }, [bnbPonusPoolSharePercentage, wrappedBNBDecimals]);\n\n  const loadPoolStats = async () => {\n    if (\n      !(\n        stakingContract &&\n        lpContract &&\n        wrappedBNBContract &&\n        goatContract &&\n        lpAddress\n      )\n    )\n      return;\n    const [\n      totalSupply,\n      poolBNBBalance,\n      poolGoatBalance,\n      [bnbUSDPrice, goatUSDPrice],\n    ] = await Promise.all([\n      lpContract.totalSupply(),\n      wrappedBNBContract.balanceOf(lpAddress),\n      goatContract.balanceOf(lpAddress),\n      getCoinUsdPrices(['wbnb', 'goat']),\n    ]);\n\n\n    setTotalSupply(Big(totalSupply));\n    setPoolBNBBalance(Big(poolBNBBalance));\n    setPoolGoatBalance(Big(poolGoatBalance));\n    setBNBUSDPrice(Big(bnbUSDPrice));\n    setGoatUSDPrice(Big(goatUSDPrice));\n  };\n\n  const loadUserStats = async () => {\n    if (!(stakingContract && address)) return;\n    const [\n      // availableCakeRewards,\n      totalStakedFor,\n      // [, , userStakingShareSeconds, totalStakingShareSeconds, totalUserRewards],\n    ] = await Promise.all([\n      // stakingContract.pendingCakeByUser(address),\n      stakingContract.earned(address)\n      // stakingContract.callStatic.updateAccounting(),\n    ]);\n    const availableGoatRewards = 0\n    // setAvailableCakeRewards(Big(availableCakeRewards));\n    setTotalStakedFor(Big(totalStakedFor));\n    setAvailableGoatRewards(Big(availableGoatRewards));\n    setTotalStakingShareSeconds(Big(totalStakingShareSeconds));\n    setUserStakingShareSeconds(Big(userStakingShareSeconds));\n    setTotalUserRewards(Big(totalUserRewards));\n  };\n\n  // const subscribeToPoolStats = () => {\n  //   if (!stakingContract) return;\n  //   const stakedEvent = stakingContract.filters.Staked();\n  //   const unstakedEvent = stakingContract.filters.Unstaked();\n  //   stakingContract.on(stakedEvent, loadPoolStats);\n  //   stakingContract.on(unstakedEvent, loadPoolStats);\n  //   return () => {\n  //     stakingContract.off(stakedEvent, loadPoolStats);\n  //     stakingContract.off(unstakedEvent, loadPoolStats);\n  //   };\n  // };\n\n  // const subscribeToUserStats = () => {\n  //   if (!(stakingContract && address)) return;\n  //   const stakedEvent = stakingContract.filters.Staked();\n  //   const unstakedEvent = stakingContract.filters.Unstaked();\n  //   stakingContract.on(stakedEvent, loadUserStats);\n  //   stakingContract.on(unstakedEvent, loadUserStats);\n  //   const cid = setInterval(loadUserStats, 1000 * 30);\n  //   return () => {\n  //     stakingContract.off(stakedEvent, loadUserStats);\n  //     stakingContract.off(unstakedEvent, loadUserStats);\n  //     clearInterval(cid);\n  //   };\n  // };\n\n  React.useEffect(() => {\n    loadPoolStats();\n    // return subscribeToPoolStats(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    stakingContract,\n    lpContract,\n    wrappedBNBContract,\n    goatContract,\n    lpAddress,\n    lpDecimals,\n    wrappedBNBDecimals,\n    goatDecimals,\n  ]);\n\n  React.useEffect(() => {\n    loadUserStats();\n    // return subscribeToUserStats(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [stakingContract, address]);\n\n  return (\n    <StatsContext.Provider\n      value={{\n        totalStaked,\n        totalLockedShares,\n        unlockScheduleCount,\n        totalStakingShares,\n        totalLocked,\n        totalSupply,\n        startBonus,\n        bonusPeriodSec,\n        poolBNBBalance,\n        poolGoatBalance,\n        bnbUSDPrice,\n        goatUSDPrice,\n        schedules,\n\n        availableGoatRewards,\n        availableCakeRewards,\n        totalStakedFor,\n        totalStakingShareSeconds,\n        userStakingShareSeconds,\n\n        apy,\n        hourlyUnlockRate,\n        totalUSDDeposits,\n        stakingEndSec,\n        rewardMultiplier,\n        bnbPonusPoolSharePercentage,\n        bnbPonusPoolShareAmount,\n      }}\n    >\n      {children}\n    </StatsContext.Provider>\n  );\n}\n\nexport function useStats() {\n  const context = React.useContext(StatsContext);\n  if (!context) {\n    throw new Error('Missing stats context');\n  }\n  const {\n    totalStaked,\n    totalLockedShares,\n    unlockScheduleCount,\n    totalStakingShares,\n    totalLocked,\n    totalSupply,\n    startBonus,\n    bonusPeriodSec,\n    poolBNBBalance,\n    poolGoatBalance,\n    schedules,\n    bnbUSDPrice,\n    goatUSDPrice,\n\n    availableGoatRewards,\n    availableCakeRewards,\n    totalStakedFor,\n    totalStakingShareSeconds,\n    userStakingShareSeconds,\n\n    apy,\n    hourlyUnlockRate,\n    totalUSDDeposits,\n    stakingEndSec,\n    rewardMultiplier,\n    bnbPonusPoolSharePercentage,\n    bnbPonusPoolShareAmount,\n  } = context;\n\n  return {\n    totalStaked,\n    totalLockedShares,\n    unlockScheduleCount,\n    totalStakingShares,\n    totalLocked,\n    totalSupply,\n    startBonus,\n    bonusPeriodSec,\n    poolBNBBalance,\n    poolGoatBalance,\n    schedules,\n    bnbUSDPrice,\n    goatUSDPrice,\n\n    availableGoatRewards,\n    availableCakeRewards,\n    totalStakedFor,\n    totalStakingShareSeconds,\n    userStakingShareSeconds,\n\n    apy,\n    hourlyUnlockRate,\n    totalUSDDeposits,\n    stakingEndSec,\n    rewardMultiplier,\n    bnbPonusPoolSharePercentage,\n    bnbPonusPoolShareAmount,\n  };\n}\n\nasync function getCoinUsdPrices(assetsCoinGeckoIds) {\n  const prices = await request.get(\n    'https://api.coingecko.com/api/v3/simple/price',\n    {\n      ids: assetsCoinGeckoIds.join(','),\n      vs_currencies: 'usd',\n    }\n  );\n  return assetsCoinGeckoIds.map(id => Big((prices[id] || { usd: 0 }).usd));\n}\n","import React from 'react';\nimport * as ethers from 'ethers';\nimport { useWallet } from '../contexts/wallet';\nimport * as request from '../utils/request';\nimport DROP_ABI from '../abis/merkle.json';\nimport { NETWORK } from '../config';\n\nconst BonusesContext = React.createContext(null);\n\nexport function BonusesProvider({ children }) {\n  const { signer, address } = useWallet();\n\n  const [isLoaded, setIsLoaded] = React.useState(false);\n  const [drops, setDrops] = React.useState([]);\n\n  const hasPendingBonusClaim = React.useMemo(\n    () => !!drops.filter(d => d.hasPendingClaim).length,\n    [drops]\n  );\n\n  React.useEffect(() => {\n    if (!(signer && address)) return setDrops([]);\n\n    let isMounted = true;\n    const unsubs = [() => (isMounted = false)];\n    const dropsConfig = Array.from(NETWORK.drops.entries()).map(\n      ([contractAddress, date]) => ({\n        date,\n        contract: new ethers.Contract(contractAddress, DROP_ABI, signer),\n      })\n    );\n\n    const loadDrops = async () => {\n      const ds = await Promise.all(dropsConfig.map(loadDrop));\n\n      if (isMounted) {\n        setDrops(ds);\n        setIsLoaded(true);\n      }\n    };\n\n    const loadDrop = async ({ contract, date }) => {\n      const claimInfo = await request.api(`/claim-info/${date}/${address}`);\n      let didClaim = false;\n\n      const canClaim = 'index' in claimInfo;\n      if (canClaim) {\n        didClaim = await contract.isClaimed(claimInfo.index);\n      }\n\n      return {\n        address,\n        date,\n        contract,\n        claimInfo,\n        canClaim,\n        didClaim,\n        hasPendingClaim: canClaim && !didClaim,\n      };\n    };\n\n    const subscribe = () => {\n      dropsConfig.forEach(({ contract }) => {\n        // const claimEvent = contract.filters.Claimed(null, address);\n        const claimEvent = contract.filters.Claimed();\n        contract.on(claimEvent, loadDrops);\n        unsubs.push(() => contract.off(claimEvent, loadDrops));\n      });\n    };\n\n    loadDrops();\n    subscribe();\n    return () => {\n      unsubs.forEach(unsub => unsub());\n    };\n  }, [signer, address]);\n\n  return (\n    <BonusesContext.Provider\n      value={{\n        isLoaded,\n        drops,\n        hasPendingBonusClaim,\n      }}\n    >\n      {children}\n    </BonusesContext.Provider>\n  );\n}\n\nexport function useBonuses() {\n  const context = React.useContext(BonusesContext);\n  if (!context) {\n    throw new Error('Missing bonuses context');\n  }\n  const { isLoaded, drops, hasPendingBonusClaim } = context;\n\n  return {\n    isLoaded,\n    drops,\n    hasPendingBonusClaim,\n  };\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Paper } from '@material-ui/core';\nimport {\n  ArrowUpward as TxIcon,\n  Done as SuccessIcon,\n  Clear as ErrorIcon,\n  Close as CloseIcon,\n} from '@material-ui/icons';\nimport { useSnackbar } from 'notistack';\nimport { IS_TESTNET } from '../config';\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    color: 'white',\n  },\n  container: {\n    padding: '10px 20px 10px 10px',\n    '& a': {\n      color: 'white',\n      display: 'block',\n      textDecoration: 'underline',\n    },\n  },\n  icon: {\n    // border: '1px solid',\n    // borderRadius: '50%',\n    // padding: 10,\n    marginRight: 10,\n    display: 'inline-flex',\n  },\n  close: {\n    position: 'absolute',\n    top: 5,\n    right: 5,\n    cursor: 'pointer',\n  },\n  tx: {\n    background: '#2196f3',\n  },\n  error: {\n    background: '#d32f2f',\n  },\n  success: {\n    background: '#43a047',\n  },\n  small: {\n    fontSize: 12,\n  },\n}));\n\nconst TYPES = new Map([\n  ['tx', [TxIcon, TxContent]],\n  ['error', [ErrorIcon, ErrorContent]],\n  ['success', [SuccessIcon, SuccessContent]],\n]);\n\nexport default function({ id, notification }) {\n  const classes = useStyles();\n  const { closeSnackbar } = useSnackbar();\n  const clearNotification = () => closeSnackbar(id);\n\n  const [\n    ,\n    // Icon\n    Content,\n  ] = TYPES.get(notification.type);\n\n  return (\n    <Paper className={clsx(classes.paper, classes[notification.type])}>\n      <div className={classes.close} onClick={clearNotification}>\n        <CloseIcon style={{ fontSize: 15 }} />\n      </div>\n      <div\n        className={clsx('flex', 'flex-grow', 'items-center', classes.container)}\n      >\n        <div\n          className={clsx('flex', 'flex-grow', 'flex-col', 'justify-center')}\n        >\n          <Content {...{ notification }} />\n        </div>\n      </div>\n    </Paper>\n  );\n}\n\nfunction TxContent({ notification }) {\n  const classes = useStyles();\n  return (\n    <>\n      <strong className={classes.small}>{notification.description}</strong>\n\n      <a\n        href={`https://${IS_TESTNET ? 'testnet.' : ''}bscscan.com/tx/${\n          notification.hash\n        }`}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className={classes.small}\n      >\n        View on BSCScan\n      </a>\n    </>\n  );\n}\n\nfunction ErrorContent({ notification }) {\n  const classes = useStyles();\n  return (\n    <>\n      <strong className={clsx(classes.small, classes.error)}>\n        {notification.message}\n      </strong>\n    </>\n  );\n}\n\nfunction SuccessContent({ notification }) {\n  const classes = useStyles();\n  return (\n    <>\n      <div>{notification.title}</div>\n      <strong className={clsx(classes.small, classes.success)}>\n        {notification.message}\n      </strong>\n    </>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  AppBar,\n  Typography,\n  Toolbar,\n  IconButton,\n  Tooltip,\n  Button,\n} from '@material-ui/core';\nimport LightIcon from '@material-ui/icons/Brightness1';\nimport DarkIcon from '@material-ui/icons/Brightness2';\nimport { useTheme } from '../contexts/theme';\nimport { useWallet } from '../contexts/wallet';\nimport { APP_TITLE } from '../config';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    boxShadow: 'none',\n  },\n  title: {\n    color: theme.palette.primary.main,\n    textDecoration: 'none',\n  },\n  account: {\n    marginRight: 10,\n    [theme.breakpoints.down('sm')]: {\n      display: 'none',\n    },\n  },\n}));\n\nexport default function Component() {\n  const classes = useStyles();\n  const { address, startConnecting, disconnect } = useWallet();\n  const { isDark, toggleTheme } = useTheme();\n\n  const shortAddress =\n    address && `${address.slice(0, 6)}....${address.slice(-4)}`;\n\n  return (\n    <AppBar position=\"fixed\" color=\"inherit\" className={classes.container}>\n      <Toolbar color=\"inherit\">\n        <Typography variant=\"h6\" className={'flex flex-grow'}>\n          <div className={'flex items-center'} href=\"/\">\n            {APP_TITLE}\n          </div>\n        </Typography>\n\n        {address ? (\n          <>\n            &nbsp;\n            <div className={classes.account}>{shortAddress}</div>\n            <Button color=\"secondary\" onClick={disconnect}>\n              Disconnect\n            </Button>\n          </>\n        ) : (\n          <Button color=\"secondary\" onClick={startConnecting}>\n            Connect Wallet\n          </Button>\n        )}\n\n        <Tooltip title=\"Toggle light/dark theme\">\n          <IconButton\n            onClick={toggleTheme}\n            color=\"inherit\"\n            aria-label=\"Toggle light/dark theme\"\n          >\n            {isDark ? <LightIcon /> : <DarkIcon />}\n          </IconButton>\n        </Tooltip>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import React from 'react';\nimport { Paper } from '@material-ui/core';\nimport { useTheme } from '../contexts/theme';\n\nexport default ({ className, children }) => {\n  const { isDark } = useTheme();\n  return (\n    <Paper\n      {...{ className }}\n      {...(isDark ? {} : { variant: 'outlined' })}\n      elevation={0}\n    >\n      {children}\n    </Paper>\n  );\n};\n","import React from 'react';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Tooltip } from '@material-ui/core';\nimport { Help as TipIcon } from '@material-ui/icons';\nimport { formatUnits, toFixed, isZero, Big } from '../utils/big-number';\nimport Paper from '../components/Paper';\nimport { useWallet } from '../contexts/wallet';\nimport { useStats } from '../contexts/stats';\nimport { useNotifications } from '../contexts/notifications';\nimport { Button } from '@material-ui/core';\n\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    paddingTop: 14,\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr 1fr 1fr',\n    columnGap: '10px',\n  },\n  box: {\n    display: 'flex',\n    flexGrow: 1,\n    flexDirection: 'column',\n    padding: 20,\n    background: theme.palette.isDark ? '#555' : '#fff',\n    color: theme.palette.isDark ? 'white' : '#373836',\n    position: 'relative',\n  },\n  boxTip: {\n    position: 'absolute',\n    top: 5,\n    right: 5,\n  },\n  boxTitle: {\n    fontSize: 11,\n  },\n  small: {\n    fontSize: 10,\n  },\n  link: {\n    color: theme.palette.primary.main,\n    textDecoration: 'none',\n  },\n}));\n\nexport default function() {\n  const classes = useStyles();\n  const { goatDecimals, wrappedBNBDecimals, stakingContract, address } = useWallet();\n  const {\n    apy,\n    availableGoatRewards,\n    rewardMultiplier,\n    bnbPonusPoolSharePercentage,\n    bnbPonusPoolShareAmount,\n    stakingEndSec,\n  } = useStats();\n\n  const earnedGoatRewards = async () => {\n    try {\n      const rewards = await stakingContract.earned(address);\n      console.log(rewards);\n      return rewards;\n    } catch (e) {\n      // useNotifications.showErrorNotification(e);\n    } \n  };\n  \n  const getReward = async () => {\n    // if (!(lpContract && address)) return;\n    try {\n      // if (depositAmount.isZero())\n      //   return showErrorNotification('Enter deposit amount.');\n      // if (!depositMaxAmount && depositAmount.gt(maxDepositAmount)) {\n      //   return showErrorNotification(\n      //     'You are trying to deposit more than your actual balance.'\n      //   );\n      // }\n      // setIsDepositing(true);\n      const tx = await stakingContract.getReward();\n      // showTxNotification(`Depositing ${lpName}`, tx.hash);\n      await tx.wait();\n      // showTxNotification(`Deposited ${lpName}`, tx.hash);\n      // onSetDepositMaxAmount();\n    } catch (e) {\n      // useNotifications.showErrorNotification(e);\n    }\n  };\n\n  const stats = React.useMemo(\n    () => [\n      {\n        name: 'Rewards Earned',\n        value: [\n          <div className=\"flex items-start flex-wrap\">\n            {earnedGoatRewards} GOAT\n            <Box ml={1} className=\"flex items-center\">\n              <img src=\"coins/GOAT.png\" alt=\"GOAT\" width={15} height={15} />\n            </Box>\n\n              <Button\n                  color=\"default\"\n                  variant=\"outlined\"\n                  onClick={getReward}\n                  // disabled={!(lpContract && address)}\n              >\n                Claim Rewards\n              </Button>\n              \n          </div>\n        ],\n        tip:\n          'Amount of GOAT rewards you will receive on unstaking.',\n      },\n    ],\n    [\n      apy,\n      availableGoatRewards,\n      goatDecimals,\n      wrappedBNBDecimals,\n      rewardMultiplier,\n      bnbPonusPoolShareAmount,\n      bnbPonusPoolSharePercentage,\n      stakingEndSec,\n      classes.small,\n      classes.link,\n    ]\n  );\n\n  return (\n    <Box className={clsx(classes.container)}>\n      {stats.map(s => (\n        <StatBox key={s.name} {...s} />\n      ))}\n    </Box>\n  );\n}\n\n\n\nfunction StatBox({ name, value, tip }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={clsx(classes.box)}>\n      <Tooltip title={tip}>\n        <TipIcon style={{ fontSize: 15 }} className={classes.boxTip} />\n      </Tooltip>\n      <div className={clsx(classes.boxTitle)}>{name}</div>\n      <div>\n        {value.map((v, i) => (\n          <div key={i}>{v}</div>\n        ))}\n      </div>\n    </Paper>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link, withRouter } from 'react-router-dom';\nimport { BORDER_RADIUS } from '../config';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    marginTop: 10,\n    backgroundColor: theme.palette.isDark ? '#222' : '#eee',\n    zIndex: 1,\n    borderTopLeftRadius: BORDER_RADIUS,\n    borderTopRightRadius: BORDER_RADIUS,\n  },\n  containerInner: {\n    paddingTop: 14,\n  },\n  link: {\n    display: 'flex',\n    flexGrow: 1,\n    justifyContent: 'center',\n    color: theme.palette.isDark ? 'white' : '#373836',\n    borderBottom: `5px solid ${theme.palette.isDark ? '#555' : '#ddd'}`,\n    textDecoration: 'none',\n    padding: '5px 0 15px',\n    cursor: 'pointer',\n  },\n  active: {\n    borderBottomColor: theme.palette.secondary.main,\n  },\n}));\n\nexport default withRouter(function() {\n  const classes = useStyles();\n  const path = window.location.hash;\n  const isDeposit = ~path.indexOf('deposit');\n  const isWithdraw = ~path.indexOf('withdraw');\n  const isStats = ~path.indexOf('stats');\n\n  return (\n    <div className={clsx('flex flex-col flex-grow', classes.container)}>\n      <div className={clsx('flex flex-grow', classes.containerInner)}>\n        <Link\n          to=\"/deposit\"\n          className={clsx(classes.link, {\n            [classes.active]: isDeposit,\n          })}\n        >\n          Deposit\n        </Link>\n        <Link\n          to=\"/withdraw\"\n          className={clsx(classes.link, {\n            [classes.active]: isWithdraw,\n          })}\n        >\n          Withdraw\n        </Link>\n\n      </div>\n    </div>\n  );\n});\n","import React from 'react';\nimport * as ethers from 'ethers';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Paper, Button, TextField } from '@material-ui/core';\nimport { useWallet } from '../contexts/wallet';\nimport { useNotifications } from '../contexts/notifications';\nimport { formatUnits } from '../utils/big-number';\nimport { BORDER_RADIUS, EMPTY_CALL_DATA } from '../config';\nimport { useStats } from '../contexts/stats';\n\nexport const useStyles = makeStyles(theme => ({\n  container: {\n    '& a': {\n      color: theme.palette.secondary.main,\n    },\n    '& .MuiInputLabel-shrink': {\n      right: 0,\n      transform: 'translate(0, 1.5px) scale(1)',\n      transformOrigin: 'top left',\n      fontSize: 12,\n    },\n  },\n  maxButton: {\n    height: 35,\n  },\n  withdrawButton: {\n    width: 200,\n  },\n  rewards: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1,\n    padding: 20,\n    borderRadius: BORDER_RADIUS,\n    background: theme.palette.isDark ? '#555' : '#fff',\n    color: theme.palette.isDark ? 'white' : '#373836',\n  },\n  stats: {\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr',\n    columnGap: '10px',\n  },\n}));\n\nexport default function() {\n  const classes = useStyles();\n\n  const {\n    startConnecting: startConnectingWallet,\n    signer,\n    address,\n    stakingContract,\n    lpContract,\n    lpDecimals,\n    goatDecimals,\n    lpName,\n  } = useWallet();\n  const { availableGoatRewards, availableCakeRewards } = useStats();\n\n  const [isWithdrawing, setIsWithdrawing] = React.useState(false);\n\n  const [totalStakedFor, setTotalStakedFor] = React.useState(\n    ethers.BigNumber.from('0')\n  );\n\n  const { showTxNotification, showErrorNotification } = useNotifications();\n  const [inputAmount, setInputAmount] = React.useState(0);\n  const [withdrawMaxAmount, setWithdrawMaxAmount] = React.useState(false);\n  const [maxWithdrawAmount, setMaxWithdrawAmount] = React.useState(\n    ethers.BigNumber.from('0')\n  );\n  const withdrawAmount = React.useMemo(() => {\n    let inputAmountBN;\n    try {\n      inputAmountBN = ethers.utils.parseUnits(\n        inputAmount.toString(),\n        lpDecimals\n      );\n    } catch (e) {\n      inputAmountBN = ethers.BigNumber.from('0');\n    }\n    return withdrawMaxAmount ? maxWithdrawAmount : inputAmountBN;\n  }, [inputAmount, maxWithdrawAmount, withdrawMaxAmount, lpDecimals]);\n\n  const onConnectOrWithdraw = async () => {\n    !signer ? startConnectingWallet() : withdraw();\n  };\n\n  const withdraw = async () => {\n    try {\n      if (withdrawAmount.isZero())\n        return showErrorNotification('Enter withdrawal amount.');\n      if (!withdrawMaxAmount && withdrawAmount.gt(maxWithdrawAmount)) {\n        return showErrorNotification(\n          'You are trying to withdraw more than you deposited.'\n        );\n      }\n      setIsWithdrawing(true);\n      const tx = await stakingContract.exit();\n      showTxNotification(`Withdrawing ${lpName}`, tx.hash);\n      await tx.wait();\n      showTxNotification(`Withdrew ${lpName}`, tx.hash);\n      await onSetWithdrawMaxAmount();\n    } catch (e) {\n      showErrorNotification(e);\n    } finally {\n      setIsWithdrawing(false);\n    }\n  };\n\n  const onSetWithdrawAmount = e => {\n    setWithdrawMaxAmount(false);\n    setInputAmount(e.target.value);\n  };\n\n  const onSetWithdrawMaxAmount = async () => {\n    if (!(stakingContract && address)) return;\n    const totalStakedFor = await stakingContract.balanceOf(address);\n    setTotalStakedFor(totalStakedFor);\n    setInputAmount(formatUnits(totalStakedFor, 18, 18));\n    setWithdrawMaxAmount(true);\n    setMaxWithdrawAmount(totalStakedFor);\n  };\n\n  React.useEffect(() => {\n    onSetWithdrawMaxAmount();\n  }, [stakingContract, address]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className={classes.container}>\n      {!lpName ? null : (\n        <div className={'flex'}>\n          <TextField\n            id=\"amount\"\n            value={inputAmount}\n            label={\n              <div className=\"flex flex-grow justify-space\">\n                <div className=\"flex-grow\">Withdraw Amount ({lpName})</div>\n                <div>\n                  Deposited: {formatUnits(totalStakedFor, 18)} {lpName}\n                </div>\n              </div>\n            }\n            type=\"number\"\n            step=\"any\"\n            className={classes.input}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            fullWidth\n            onChange={onSetWithdrawAmount}\n          />\n\n          <Box className=\"flex items-end\" pl={2}>\n            <Button\n              color=\"default\"\n              variant=\"outlined\"\n              onClick={onSetWithdrawMaxAmount}\n              disabled={!(lpContract && address)}\n              className={classes.maxButton}\n            >\n              MAX\n            </Button>\n          </Box>\n        </div>\n      )}\n\n      <Box mt={2} className={classes.stats}>\n        <Paper className={clsx(classes.rewards)}>\n          <div>Amount to Withdraw:</div>\n          <div>\n            ≈ {formatUnits(totalStakedFor, lpDecimals)} {lpName}\n          </div>\n        </Paper>\n\n        <Paper className={clsx(classes.rewards)}>\n          <div>Rewards Earned:</div>\n          <div>{formatUnits(availableGoatRewards, goatDecimals)} GOAT</div>\n        </Paper>\n      </Box>\n\n      <Box mt={2}>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          disabled={isWithdrawing}\n          onClick={onConnectOrWithdraw}\n          className={classes.withdrawButton}\n        >\n          {isWithdrawing\n            ? 'Withdrawing...'\n            : !signer\n            ? 'Connect Wallet'\n            : 'Withdraw'}\n        </Button>\n      </Box>\n    </div>\n  );\n}\n","import { promisify } from 'util';\n\nexport default ms => promisify(setTimeout);\n","import React from 'react';\nimport Promise from 'bluebird';\nimport * as ethers from 'ethers';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ERC20_CONTRACT_ABI from '../abis/erc20.json';\nimport { formatUnits } from '../utils/big-number';\nimport { useWallet } from '../contexts/wallet';\nimport sleep from '../utils/sleep';\n\nconst useStyles = makeStyles(theme => ({\n  container: {},\n}));\n\nexport default function({ header, isETH, tokenAddress }) {\n  const { signer } = useWallet();\n  return !signer ? null : isETH ? (\n    <ETH {...{ header }} />\n  ) : (\n    <ERC20 {...{ header, tokenAddress }} />\n  );\n}\n\nfunction ETH({ header }) {\n  const classes = useStyles();\n  const { signer } = useWallet();\n  const [balance, setBalance] = React.useState(ethers.BigNumber.from('0'));\n\n  const load = async () => {\n    setBalance(await signer.getBalance());\n  };\n\n  const subscribe = () => {\n    const eventName = 'block';\n    signer.provider.on(eventName, load);\n    return () => {\n      signer.provider.off(eventName, load);\n    };\n  };\n\n  React.useEffect(() => {\n    load();\n    return subscribe(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    balance && (\n      <div className={classes.container}>\n        {header}: {formatUnits(balance, 18)} ETH\n      </div>\n    )\n  );\n}\n\nfunction ERC20({ header, tokenAddress }) {\n  const classes = useStyles();\n  const [balance, setBalance] = React.useState(ethers.BigNumber.from('0'));\n  const [decimals, setDecimals] = React.useState(null);\n  const [symbol, setSymbol] = React.useState(null);\n  const { address, signer } = useWallet();\n\n  const contract = React.useMemo(\n    () =>\n      signer &&\n      tokenAddress &&\n      new ethers.Contract(tokenAddress, ERC20_CONTRACT_ABI, signer),\n    [tokenAddress, signer]\n  );\n\n  const onBalanceChange = async (from, to) => {\n    if (from === address || to === address) {\n      await sleep(500);\n      setBalance(await contract.balanceOf(address));\n    }\n  };\n\n  const load = async () => {\n    if (!(contract && address)) return;\n    const [decimals, symbol, balance] = await Promise.all([\n      contract.decimals(),\n      contract.symbol(),\n      contract.balanceOf(address),\n    ]);\n    setDecimals(decimals);\n    setSymbol(symbol);\n    setBalance(balance);\n  };\n\n  const subscribe = () => {\n    if (!contract) return () => {};\n    const transferEvent = contract.filters.Transfer();\n    contract.on(transferEvent, onBalanceChange);\n    return () => {\n      contract.off(transferEvent, onBalanceChange);\n    };\n  };\n\n  React.useEffect(() => {\n    load();\n    return subscribe(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [contract, address]);\n\n  return (\n    symbol &&\n    decimals &&\n    balance && (\n      <div className={classes.container}>\n        {header}: {formatUnits(balance, decimals)} {symbol.toUpperCase()}\n      </div>\n    )\n  );\n}\n","import React from 'react';\nimport * as ethers from 'ethers';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport {\n  Box,\n  Paper,\n  Button,\n  TextField,\n  Stepper,\n  Step,\n  StepLabel,\n  Typography,\n} from '@material-ui/core';\nimport { STAKING_ADDRESS, useWallet } from '../contexts/wallet';\nimport { useNotifications } from '../contexts/notifications';\nimport Balance from '../components/Balance';\nimport {\n  formatUnits,\n  // Big,\n  isZero,\n  // toFixed\n} from '../utils/big-number';\nimport { BORDER_RADIUS, EMPTY_CALL_DATA } from '../config';\nimport ERC20_CONTRACT_ABI from '../abis/erc20.json';\nimport sleep from '../utils/sleep';\n// import { useStats } from 'contexts/stats';\n\nexport const useStyles = makeStyles(theme => ({\n  container: {\n    '& a': {\n      color: theme.palette.secondary.main,\n    },\n    '& .MuiInputLabel-shrink': {\n      right: 0,\n      transform: 'translate(0, 1.5px) scale(1)',\n      transformOrigin: 'top left',\n      fontSize: 12,\n    },\n  },\n  maxButton: {\n    height: 35,\n  },\n  depositButton: {\n    width: 200,\n  },\n  rewards: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1,\n    padding: 20,\n    borderRadius: BORDER_RADIUS,\n    background: '#555',\n    color: 'white',\n  },\n}));\n\nconst STEPS = ['Get Liquidity Pool Tokens', 'Stake'];\n\nexport default withRouter(function() {\n  const classes = useStyles();\n  const activeStep = ~window.location.hash.indexOf('2') ? 1 : 0;\n\n  return (\n    <Box className={classes.container}>\n      <Stepper activeStep={activeStep}>\n        {STEPS.map(label => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n\n      <Box mx={5} mb={4}>\n        <Switch>\n          <Route exact path={'/deposit/2'} component={Deposit} />\n          <Route exact path={'/deposit/1'} component={GetLPTokens} />\n          <Redirect to={'/deposit/1'} />\n        </Switch>\n      </Box>\n    </Box>\n  );\n});\n\nfunction GetLPTokens({ history }) {\n  const classes = useStyles();\n  const {\n    startConnecting: startConnectingWallet,\n    lpName,\n    lpAddress,\n    lpDecimals,\n    goatAddress,\n    address,\n    signer,\n  } = useWallet();\n  const [balance, setBalance] = React.useState(ethers.BigNumber.from('0'));\n\n  const contract = React.useMemo(\n    () =>\n      signer &&\n      lpAddress &&\n      new ethers.Contract(lpAddress, ERC20_CONTRACT_ABI, signer),\n    [lpAddress, signer]\n  );\n\n  const onBalanceChange = async (from, to) => {\n    if (from === address || to === address) {\n      await sleep(500);\n      setBalance(await contract.balanceOf(address));\n    }\n  };\n\n  const connectWalletOrNext = async () => {\n    !address ? startConnectingWallet() : history.push('/deposit/2');\n  };\n\n  const load = async () => {\n    if (!(contract && address)) return;\n    const balance = await contract.balanceOf(address);\n    setBalance(balance);\n  };\n\n  const subscribe = () => {\n    if (!contract) return () => {};\n    const transferEvent = contract.filters.Transfer();\n    contract.on(transferEvent, onBalanceChange);\n    return () => {\n      contract.off(transferEvent, onBalanceChange);\n    };\n  };\n\n  React.useEffect(() => {\n    load();\n    return subscribe(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [contract, address]);\n\n  return !(goatAddress && lpAddress) ? null : (\n    <>\n      {!address ? null : (\n        <Box mt={2}>\n          <Typography variant=\"h5\">\n            You have ≈ {formatUnits(balance, lpDecimals)} {lpName} Tokens.\n          </Typography>\n        </Box>\n      )}\n\n      <Box mt={2}>\n        Get {!address ? `Liquidity Pool Tokens (${lpName})` : 'more'} by\n        providing liquidity to the GOAT-BNB Pool over{' '}\n        <a\n          href={`https://exchange.pancakeswap.finance/#/add/ETH/0x7c67dccb04b67d4666fd97b2a00bb6d9b8d82e3f`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          here\n        </a>\n        .\n      </Box>\n\n      <Box mt={2}>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={connectWalletOrNext}\n          className={classes.depositButton}\n        >\n          {!address ? 'Connect Wallet' : 'Stake →'}\n        </Button>\n      </Box>\n    </>\n  );\n}\n\nfunction Deposit() {\n  const classes = useStyles();\n\n  const {\n    startConnecting: startConnectingWallet,\n    signer,\n    address,\n    stakingContract,\n    lpContract,\n    lpDecimals,\n    lpName,\n    lpAddress,\n  } = useWallet();\n\n  // const {\n  //   monthlyUnlockRate,\n  //   totalStakingShares,\n  //   totalStaked,\n  //   totalStakingShareSeconds,\n  //   totalStakedFor,\n  //   userStakingShareSeconds,\n  //   stakingEndSec,\n  // } = useStats();\n\n  const [isApproving, setIsApproving] = React.useState(false);\n  const [isApproved, setIsApproved] = React.useState(false);\n  const [isDepositing, setIsDepositing] = React.useState(false);\n\n  const { showTxNotification, showErrorNotification } = useNotifications();\n  const [inputAmount, setInputAmount] = React.useState(0);\n  const [depositMaxAmount, setDepositMaxAmount] = React.useState(false);\n  const [maxDepositAmount, setMaxDepositAmount] = React.useState(\n    ethers.BigNumber.from('0')\n  );\n  const depositAmount = React.useMemo(() => {\n    let inputAmountBN;\n    try {\n      inputAmountBN = ethers.utils.parseUnits(\n        inputAmount.toString(),\n        lpDecimals\n      );\n    } catch (e) {\n      inputAmountBN = ethers.BigNumber.from('0');\n    }\n    return depositMaxAmount ? maxDepositAmount : inputAmountBN;\n  }, [inputAmount, maxDepositAmount, depositMaxAmount, lpDecimals]);\n\n  const onConnectOrApproveOrDeposit = async () => {\n    if (!signer) {\n      return startConnectingWallet();\n    }\n    !isApproved ? approve() : deposit();\n  };\n\n  const approve = async () => {\n    try {\n      setIsApproving(true);\n      const tx = await lpContract.approve(STAKING_ADDRESS, depositAmount);\n      showTxNotification(`Approving ${lpName}`, tx.hash);\n      await tx.wait();\n      showTxNotification(`Approved ${lpName}`, tx.hash);\n      await checkAllowance();\n    } catch (e) {\n      showErrorNotification(e);\n    } finally {\n      setIsApproving(false);\n    }\n  };\n\n  const deposit = async () => {\n    try {\n      if (depositAmount.isZero())\n        return showErrorNotification('Enter deposit amount.');\n      if (!depositMaxAmount && depositAmount.gt(maxDepositAmount)) {\n        return showErrorNotification(\n          'You are trying to deposit more than your actual balance.'\n        );\n      }\n      setIsDepositing(true);\n      const tx = await stakingContract.stake(depositAmount);\n      showTxNotification(`Depositing ${lpName}`, tx.hash);\n      await tx.wait();\n      showTxNotification(`Deposited ${lpName}`, tx.hash);\n      onSetDepositMaxAmount();\n    } catch (e) {\n      showErrorNotification(e);\n    } finally {\n      setIsDepositing(false);\n    }\n  };\n\n  const checkAllowance = async () => {\n    if (!(lpContract && address)) return setIsApproved(true);\n    const allowance = await lpContract.allowance(address, STAKING_ADDRESS);\n    setIsApproved(allowance.gte(depositAmount));\n  };\n\n  // const monthlyGoatRewards = React.useMemo(() => {\n  //   if (\n  //     !(\n  //       depositAmount &&\n  //       !isZero(monthlyUnlockRate) &&\n  //       !isZero(totalStakingShares) &&\n  //       !isZero(totalStaked) &&\n  //       totalStakingShareSeconds &&\n  //       totalStakedFor &&\n  //       userStakingShareSeconds &&\n  //       lpDecimals &&\n  //       stakingEndSec\n  //     )\n  //   )\n  //     return Big('0');\n\n  //   const n = Big(depositAmount).div(10 ** lpDecimals);\n  //   if (isZero(n)) return Big('0');\n\n  //   const r = Big(2592e3);\n  //   const t = {\n  //     totalStakingShares,\n  //     totalStaked: totalStaked.div(10 ** lpDecimals),\n  //     totalStakingShareSeconds,\n  //   };\n  //   const e = {\n  //     totalStakedFor: totalStakedFor.div(10 ** lpDecimals),\n  //     userStakingShareSeconds,\n  //   };\n  //   const i = e.totalStakedFor.mul(t.totalStakingShares).div(t.totalStaked);\n  //   const o = n.mul(t.totalStakingShares).div(t.totalStaked);\n  //   const a1 = e.userStakingShareSeconds.add(i.add(o).mul(r));\n  //   const a2 = t.totalStakingShareSeconds.add(\n  //     t.totalStakingShares.add(o).mul(r)\n  //   );\n  //   const a = a1.div(a2);\n\n  //   // console.log(\n  //   //   Object.entries({\n  //   //     totalStakingShares: t.totalStakingShares,\n  //   //     totalStaked: t.totalStaked,\n  //   //     totalStakingShareSeconds: t.totalStakingShareSeconds,\n  //   //     totalStakedFor: e.totalStakedFor,\n  //   //     userStakingShareSeconds: e.userStakingShareSeconds,\n  //   //   }).reduce((r, [k, v]) => {\n  //   //     r[k] = v.toString();\n  //   //     return r;\n  //   //   }, {})\n  //   // );\n  //   // console.log(n.toString(), a.toString(), monthlyUnlockRate.toString());\n\n  //   let estimate = a.mul(monthlyUnlockRate).div(100);\n  //   if (moment.utc().isAfter(moment.unix(stakingEndSec))) {\n  //     estimate = estimate.mul(stakingEndSec).div(r);\n  //   }\n  //   return estimate;\n  // }, [\n  //   depositAmount,\n  //   monthlyUnlockRate,\n  //   totalStakingShares,\n  //   totalStaked,\n  //   totalStakingShareSeconds,\n  //   totalStakedFor,\n  //   userStakingShareSeconds,\n  //   lpDecimals,\n  //   stakingEndSec,\n  // ]);\n\n  const onSetDepositAmount = event => {\n    setDepositMaxAmount(false);\n    setInputAmount(event.target.value);\n  };\n\n  const onSetDepositMaxAmount = async () => {\n    if (!(lpContract && address)) return;\n    const depositAmount = await lpContract.balanceOf(address);\n    if (isZero(depositAmount)) return;\n    setInputAmount(formatUnits(depositAmount, lpDecimals, 18));\n    setDepositMaxAmount(true);\n    setMaxDepositAmount(depositAmount);\n  };\n\n  React.useEffect(() => {\n    checkAllowance();\n  }, [lpContract, address, depositAmount]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  React.useEffect(() => {\n    onSetDepositMaxAmount();\n  }, [lpContract, address]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      {!lpName ? null : (\n        <div className={'flex'}>\n          <TextField\n            id=\"amount\"\n            value={inputAmount}\n            label={\n              <div className=\"flex flex-grow justify-space\">\n                <div className=\"flex-grow\">Deposit Amount ({lpName})</div>\n                <div>\n                  <Balance header=\"Available\" tokenAddress={lpAddress} />\n                </div>\n              </div>\n            }\n            type=\"number\"\n            step=\"any\"\n            className={classes.input}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            fullWidth\n            onChange={onSetDepositAmount}\n          />\n\n          <Box className=\"flex items-end\" pl={2}>\n            <Button\n              color=\"default\"\n              variant=\"outlined\"\n              onClick={onSetDepositMaxAmount}\n              disabled={!(lpContract && address)}\n              className={classes.maxButton}\n            >\n              MAX\n            </Button>\n          </Box>\n        </div>\n      )}\n\n      <Box mt={2}>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          disabled={isDepositing || isApproving}\n          onClick={onConnectOrApproveOrDeposit}\n          className={classes.depositButton}\n        >\n          {isDepositing\n            ? 'Depositing...'\n            : isApproving\n            ? 'Approving...'\n            : !signer\n            ? 'Connect Wallet'\n            : !isApproved\n            ? 'Approve'\n            : 'Deposit'}\n        </Button>\n      </Box>\n    </>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Paper } from '@material-ui/core';\nimport { BORDER_RADIUS } from '../config';\nimport { toFixed, isZero } from '../utils/big-number';\nimport { useStats } from '../contexts/stats';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'grid',\n    gridTemplateRows: '1fr 1fr 1fr',\n    gridTemplateColumns: '1fr 1fr',\n    columnGap: '10px',\n    rowGap: '10px',\n  },\n  box: {\n    display: 'flex',\n    flexGrow: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    padding: 20,\n    borderRadius: BORDER_RADIUS,\n    background: theme.palette.isDark ? '#555' : '#fff',\n    color: theme.palette.isDark ? 'white' : '#373836',\n  },\n}));\n\nexport default function() {\n  const classes = useStyles();\n\n  const { totalUSDDeposits, stakingEndSec } = useStats();\n\n  const stats = React.useMemo(\n    () => [\n      {\n        name: 'Total Deposits',\n        value: [`${toFixed(totalUSDDeposits, 1, 2)} USD`],\n      },\n\n      {\n        name: 'Program duration',\n        value: [<Countdown to={stakingEndSec} />],\n      },\n    ],\n    [totalUSDDeposits, stakingEndSec]\n  );\n\n  return (\n    <Box className={clsx(classes.container)}>\n      {stats.map(s => (\n        <StatBox key={s.name} {...s} />\n      ))}\n    </Box>\n  );\n}\n\nfunction StatBox({ name, value }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={clsx(classes.box)}>\n      <div>{name}</div>\n      <div>\n        {value.map((v, i) => (\n          <div key={i}>{v}</div>\n        ))}\n      </div>\n    </Paper>\n  );\n}\n\nfunction Countdown({ to }) {\n  const [duration, setDuration] = React.useState('-');\n\n  React.useEffect(() => {\n    if (isZero(to)) return;\n    let id = setInterval(() => {\n      if (moment.unix(to).isBefore(moment.utc())) {\n        setDuration('Ended');\n        clearInterval(id);\n        id = null;\n        return;\n      }\n      setDuration(`${moment.unix(to).from(moment.utc(), true)} left`);\n    }, 1000);\n    return () => {\n      if (id) clearInterval(id);\n    };\n  }, [to]);\n\n  return <div>{duration}</div>;\n}\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nexport default function({\n  size = 40,\n  opacity = 1,\n  fullscreen,\n  color = 'inherit',\n}) {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100%',\n        ...(fullscreen\n          ? {\n              position: 'fixed',\n              left: 0,\n              right: 0,\n              top: 0,\n              bottom: 0,\n            }\n          : {}),\n        zIndex: 1000,\n        opacity,\n      }}\n    >\n      <div style={{ position: 'relative' }}>\n        <CircularProgress\n          style={{ position: 'relative' }}\n          left={0}\n          top={0}\n          {...{ size, color }}\n          status=\"Drinking goat some milk\"\n        />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Dialog,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Button,\n} from '@material-ui/core';\nimport { Close as Icon } from '@material-ui/icons';\nimport { formatUnits } from '../utils/big-number';\nimport { useNotifications } from '../contexts/notifications';\nimport { useWallet } from '../contexts/wallet';\nimport Loader from '../components/Loader';\nimport { useBonuses } from '../contexts/bonuses';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    width: 500,\n    height: 400,\n    padding: '0 20px 10px',\n    lineHeight: '1.5rem',\n  },\n  x: {\n    position: 'absolute',\n    top: 5,\n    right: 5,\n    cursor: 'pointer',\n  },\n}));\n\nexport default function({ history }) {\n  const classes = useStyles();\n  const { drops, isLoaded } = useBonuses();\n\n  const close = () => history.push('/');\n\n  return (\n    <Dialog onClose={close} aria-labelledby=\"bonus\" open={true}>\n      <div className={clsx('flex', 'flex-grow', 'flex-col', classes.container)}>\n        <>\n          <div className={classes.x}>\n            <Icon style={{ fontSize: 20 }} onClick={close} />\n          </div>\n          <h3>Claim Bonuses</h3>\n\n          {!isLoaded ? (\n            <Loader />\n          ) : (\n            <Table className={classes.tablex} aria-label=\"Bonus\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>Date</TableCell>\n                  <TableCell>Amount</TableCell>\n                  <TableCell align=\"right\"></TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {drops.map(drop => (\n                  <Drop key={drop.date} {...drop} />\n                ))}\n              </TableBody>\n            </Table>\n          )}\n        </>\n      </div>\n    </Dialog>\n  );\n}\n\nfunction Drop({ date, canClaim, didClaim, contract, claimInfo }) {\n  const classes = useStyles();\n  const [isWorking, setIsWorking] = React.useState(null);\n  const { address } = useWallet();\n  const { tx } = useNotifications();\n\n  const claim = async () => {\n    setIsWorking('Claiming...');\n    try {\n      await tx('Claiming...', 'Claimed!', () =>\n        contract.claim(\n          claimInfo.index,\n          address,\n          claimInfo.amount,\n          claimInfo.proof\n        )\n      );\n    } finally {\n      setIsWorking(false);\n    }\n  };\n\n  return (\n    <TableRow className={classes.rowx}>\n      <TableCell component=\"th\" scope=\"row\">\n        {date}\n      </TableCell>\n      <TableCell>\n        {canClaim ? formatUnits(parseInt(Number(claimInfo.amount), 10), 18) : 0}{' '}\n        BNB\n      </TableCell>\n      <TableCell align=\"right\">\n        <Button\n          color=\"secondary\"\n          variant=\"outlined\"\n          onClick={claim}\n          disabled={!!isWorking || !canClaim || didClaim}\n        >\n          {isWorking ? isWorking : didClaim ? 'CLAIMED' : 'CLAIM'}\n        </Button>\n      </TableCell>\n    </TableRow>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Dialog } from '@material-ui/core';\nimport { Close as Icon } from '@material-ui/icons';\nimport { useWallet } from '../contexts/wallet';\nimport { NETWORK_NAME } from '../config';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    width: 350,\n    padding: '0 20px 10px',\n    lineHeight: '1.5rem',\n    '& button': {\n      width: '100%',\n      padding: '10px 0',\n      marginTop: 20,\n      fontSize: 18,\n    },\n  },\n  x: {\n    position: 'absolute',\n    top: 5,\n    right: 5,\n    cursor: 'pointer',\n  },\n  wallet: {\n    display: 'flex',\n    alignItems: 'center',\n    cursor: 'pointer',\n    margin: '10px 0',\n    '& img': {\n      marginRight: 15,\n    },\n    '&:hover': {\n      opacity: 0.8,\n    },\n  },\n  net: {\n    color: theme.palette.secondary.main,\n  },\n}));\n\nexport default function() {\n  const classes = useStyles();\n  const wallet = useWallet();\n\n  return (\n    <Dialog\n      onClose={() => {}}\n      aria-labelledby=\"wrong-network-prompt\"\n      open={wallet.isOnWrongNetwork || wallet.isConnecting}\n    >\n      <div className={clsx('flex', 'flex-grow', 'flex-col', classes.container)}>\n        {!wallet.isOnWrongNetwork ? (\n          <>\n            <div className={classes.x}>\n              <Icon style={{ fontSize: 20 }} onClick={wallet.stopConnecting} />\n            </div>\n            <h3>Connect Wallet</h3>\n            <div className={clsx('flex', 'flex-col')}>\n              <div\n                onClick={wallet.connectMetamask}\n                className={clsx(classes.wallet)}\n              >\n                <img\n                  src=\"wallets/metamask.svg\"\n                  width=\"35\"\n                  height=\"35\"\n                  alt=\"metamask wallet\"\n                />\n                <div>Metamask</div>\n              </div>\n              <div onClick={wallet.connectBsc} className={clsx(classes.wallet)}>\n                <img\n                  src=\"wallets/bsc.png\"\n                  width=\"35\"\n                  height=\"35\"\n                  alt=\"bsc wallet\"\n                />\n                <div>Binance Wallet</div>\n              </div>\n              <div\n                onClick={wallet.connectTrust}\n                className={clsx(classes.wallet)}\n              >\n                <img\n                  src=\"wallets/trust.svg\"\n                  width=\"35\"\n                  height=\"35\"\n                  alt=\"trust wallet\"\n                />\n                <div>Trust Wallet</div>\n              </div>\n            </div>\n          </>\n        ) : (\n          <Box\n            mt={2}\n            className={clsx(\n              'flex',\n              'flex-col',\n              'items-center',\n              'justify-center',\n              'text-center'\n            )}\n          >\n            <div>You are connected to the wrong network</div>\n            <strong>\n              Please connect to Binance Smart Chain{' '}\n              <span className={classes.net}>{NETWORK_NAME}</span>\n            </strong>\n            <div>or</div>\n            <div className=\"cursor-pointer\" onClick={wallet.disconnect}>\n              disconnect\n            </div>\n          </Box>\n        )}\n      </div>\n    </Dialog>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport { Paper, Box } from '@material-ui/core';\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n  Link,\n} from 'react-router-dom';\nimport { BORDER_RADIUS, ROUTER_BASE_NAME } from '../config';\nimport Header from './Header';\nimport TopStats from './TopStats';\nimport Nav from './Nav';\nimport Withdraw from './Withdraw';\nimport Deposit from './Deposit';\nimport Stats from './Stats';\nimport Bonus from './Bonus';\nimport ConnectWallet from './ConnectWallet';\nimport { useBonuses } from '../contexts/bonuses';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    width: '960px',\n    margin: '0 auto',\n    padding: '100px 0 30px',\n    position: 'relative',\n    [theme.breakpoints.down('sm')]: {\n      padding: '70px 0 10px',\n      width: 'auto',\n    },\n  },\n  paper: {\n    borderRadius: BORDER_RADIUS,\n  },\n  tabContent: {\n    padding: 20,\n  },\n  announcement: {\n    color: theme.palette.isDark ? '#aaa' : '#777',\n  },\n  announcementHere: {\n    color: theme.palette.isDark ? '#ddd' : '#888',\n  },\n}));\n\nexport default function App() {\n  const classes = useStyles();\n  const { hasPendingBonusClaim } = useBonuses();\n\n  return (\n    <Box className={classes.container}>\n      <Router basename={ROUTER_BASE_NAME}>\n        <Header />\n        <TopStats />\n        <Paper className={classes.paper}>\n          <Nav />\n          <Box className={classes.tabContent}>\n            <Switch>\n              <Route path={'/deposit'} component={Deposit} /> \n              <Route exact path={'/withdraw'} component={Withdraw} />\n              <Route exact path={'/stats'} component={Stats} />\n              <Route exact path={'/bonus'} component={Bonus} />\n              <Redirect to={'/deposit'} />\n            </Switch>\n          </Box>\n        </Paper>\n        <ConnectWallet />\n      </Router>\n    </Box>\n  );\n}\n","import './styles';\n\nimport React from 'react';\nimport { render } from 'react-dom';\nimport {\n  ThemeProvider as MuiThemeProvider,\n  makeStyles,\n} from '@material-ui/core/styles';\nimport { CssBaseline } from '@material-ui/core';\nimport { SnackbarProvider } from 'notistack';\n\nimport { ThemeProvider, useTheme, useMuiTheme } from './contexts/theme';\nimport { WalletProvider } from './contexts/wallet';\nimport { NotificationsProvider } from './contexts/notifications';\nimport { StatsProvider } from './contexts/stats';\nimport { BonusesProvider } from './contexts/bonuses';\nimport Notification from './components/Notification';\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './pages/App';\n\nconst useStyles = makeStyles(theme => ({\n  snackbar: {\n    top: 70,\n  },\n}));\n\n(async () => {\n  document.documentElement.classList.remove('boot-loader');\n  document.getElementById('loader-container').remove();\n  const root = document.createElement('div');\n  root.setAttribute('id', 'root');\n  document.body.appendChild(root);\n\n  render(\n    <ThemeProvider>\n      <Shell />\n    </ThemeProvider>,\n    document.getElementById('root')\n  );\n})();\n\nfunction Shell() {\n  const classes = useStyles();\n  const { isDark } = useTheme();\n  const muiTheme = useMuiTheme();\n\n  React.useEffect(() => {\n    const root = document.documentElement;\n    if (root.classList.contains(isDark ? 'light' : 'dark')) {\n      root.classList.remove(isDark ? 'light' : 'dark');\n      root.classList.add(isDark ? 'dark' : 'light');\n    }\n  }, [isDark]);\n\n  return (\n    <MuiThemeProvider theme={muiTheme}>\n      <CssBaseline />\n      <SnackbarProvider\n        classes={{ root: classes.snackbar }}\n        maxSnack={4}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        content={(key, data) => (\n          <div>\n            <Notification id={key} notification={data} />\n          </div>\n        )}\n      >\n        <NotificationsProvider>\n          <WalletProvider>\n            <StatsProvider>\n              <BonusesProvider>\n                <App />\n              </BonusesProvider>\n            </StatsProvider>\n          </WalletProvider>\n        </NotificationsProvider>\n      </SnackbarProvider>\n    </MuiThemeProvider>\n  );\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}